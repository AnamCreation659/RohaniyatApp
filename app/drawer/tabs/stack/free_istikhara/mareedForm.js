// // // // // // // // // // // // // // // // // // // // // // import React, { useState } from "react";
// // // // // // // // // // // // // // // // // // // // // // import {
// // // // // // // // // // // // // // // // // // // // // //   View,
// // // // // // // // // // // // // // // // // // // // // //   Text,
// // // // // // // // // // // // // // // // // // // // // //   TextInput,
// // // // // // // // // // // // // // // // // // // // // //   StyleSheet,
// // // // // // // // // // // // // // // // // // // // // //   TouchableOpacity,
// // // // // // // // // // // // // // // // // // // // // //   Alert,
// // // // // // // // // // // // // // // // // // // // // //   ScrollView,
// // // // // // // // // // // // // // // // // // // // // // } from "react-native";

// // // // // // // // // // // // // // // // // // // // // // export default function FormScreen() {
// // // // // // // // // // // // // // // // // // // // // //   const [formData, setFormData] = useState({
// // // // // // // // // // // // // // // // // // // // // //     name: "",
// // // // // // // // // // // // // // // // // // // // // //     fatherName: "",
// // // // // // // // // // // // // // // // // // // // // //   });

// // // // // // // // // // // // // // // // // // // // // //   const handleChange = (key, value) => {
// // // // // // // // // // // // // // // // // // // // // //     setFormData((prev) => ({ ...prev, [key]: value }));
// // // // // // // // // // // // // // // // // // // // // //   };

// // // // // // // // // // // // // // // // // // // // // //   const handleSubmit = async () => {
// // // // // // // // // // // // // // // // // // // // // //     try {
// // // // // // // // // // // // // // // // // // // // // //       const response = await fetch(
// // // // // // // // // // // // // // // // // // // // // //         "https://rohaniyat-web-jys5.vercel.app/api/email",
// // // // // // // // // // // // // // // // // // // // // //         {
// // // // // // // // // // // // // // // // // // // // // //           method: "POST",
// // // // // // // // // // // // // // // // // // // // // //           headers: {
// // // // // // // // // // // // // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // // // // // // // // // // // // //           },
// // // // // // // // // // // // // // // // // // // // // //           body: JSON.stringify(formData),
// // // // // // // // // // // // // // // // // // // // // //         }
// // // // // // // // // // // // // // // // // // // // // //       );

// // // // // // // // // // // // // // // // // // // // // //       const data = await response.json();

// // // // // // // // // // // // // // // // // // // // // //       if (response.ok) {
// // // // // // // // // // // // // // // // // // // // // //         Alert.alert("Success", "Form submitted successfully!");
// // // // // // // // // // // // // // // // // // // // // //       } else {
// // // // // // // // // // // // // // // // // // // // // //         Alert.alert("Error", data.error || "Failed to submit form.");
// // // // // // // // // // // // // // // // // // // // // //       }
// // // // // // // // // // // // // // // // // // // // // //     } catch (error) {
// // // // // // // // // // // // // // // // // // // // // //       Alert.alert("Error", "Something went wrong.");
// // // // // // // // // // // // // // // // // // // // // //       console.error("Error:", error);
// // // // // // // // // // // // // // // // // // // // // //     }
// // // // // // // // // // // // // // // // // // // // // //   };

// // // // // // // // // // // // // // // // // // // // // //   return (
// // // // // // // // // // // // // // // // // // // // // //     <ScrollView contentContainerStyle={styles.container}>
// // // // // // // // // // // // // // // // // // // // // //       <Text style={styles.heading}>Form Submission</Text>

// // // // // // // // // // // // // // // // // // // // // //       {Object.keys(formData).map((key) => (
// // // // // // // // // // // // // // // // // // // // // //         <TextInput
// // // // // // // // // // // // // // // // // // // // // //           key={key}
// // // // // // // // // // // // // // // // // // // // // //           style={styles.input}
// // // // // // // // // // // // // // // // // // // // // //           placeholder={key.replace(/([A-Z])/g, " $1").trim()}
// // // // // // // // // // // // // // // // // // // // // //           value={formData[key]}
// // // // // // // // // // // // // // // // // // // // // //           onChangeText={(text) => handleChange(key, text)}
// // // // // // // // // // // // // // // // // // // // // //         />
// // // // // // // // // // // // // // // // // // // // // //       ))}

// // // // // // // // // // // // // // // // // // // // // //       <TouchableOpacity style={styles.button} onPress={handleSubmit}>
// // // // // // // // // // // // // // // // // // // // // //         <Text style={styles.buttonText}>Submit</Text>
// // // // // // // // // // // // // // // // // // // // // //       </TouchableOpacity>
// // // // // // // // // // // // // // // // // // // // // //     </ScrollView>
// // // // // // // // // // // // // // // // // // // // // //   );
// // // // // // // // // // // // // // // // // // // // // // }

// // // // // // // // // // // // // // // // // // // // // // const styles = StyleSheet.create({
// // // // // // // // // // // // // // // // // // // // // //   container: {
// // // // // // // // // // // // // // // // // // // // // //     flexGrow: 1,
// // // // // // // // // // // // // // // // // // // // // //     padding: 20,
// // // // // // // // // // // // // // // // // // // // // //     backgroundColor: "#E4DAC1",
// // // // // // // // // // // // // // // // // // // // // //     alignItems: "center",
// // // // // // // // // // // // // // // // // // // // // //   },
// // // // // // // // // // // // // // // // // // // // // //   heading: {
// // // // // // // // // // // // // // // // // // // // // //     fontSize: 24,
// // // // // // // // // // // // // // // // // // // // // //     fontWeight: "bold",
// // // // // // // // // // // // // // // // // // // // // //     marginBottom: 20,
// // // // // // // // // // // // // // // // // // // // // //     textAlign: "center",
// // // // // // // // // // // // // // // // // // // // // //   },
// // // // // // // // // // // // // // // // // // // // // //   input: {
// // // // // // // // // // // // // // // // // // // // // //     width: "100%",
// // // // // // // // // // // // // // // // // // // // // //     padding: 10,
// // // // // // // // // // // // // // // // // // // // // //     borderWidth: 1,
// // // // // // // // // // // // // // // // // // // // // //     borderColor: "#6C472D",
// // // // // // // // // // // // // // // // // // // // // //     marginBottom: 10,
// // // // // // // // // // // // // // // // // // // // // //     borderRadius: 8,
// // // // // // // // // // // // // // // // // // // // // //     backgroundColor: "#fff",
// // // // // // // // // // // // // // // // // // // // // //   },
// // // // // // // // // // // // // // // // // // // // // //   button: {
// // // // // // // // // // // // // // // // // // // // // //     backgroundColor: "#6C472D",
// // // // // // // // // // // // // // // // // // // // // //     padding: 15,
// // // // // // // // // // // // // // // // // // // // // //     borderRadius: 8,
// // // // // // // // // // // // // // // // // // // // // //     alignItems: "center",
// // // // // // // // // // // // // // // // // // // // // //     marginTop: 20,
// // // // // // // // // // // // // // // // // // // // // //     width: "100%",
// // // // // // // // // // // // // // // // // // // // // //   },
// // // // // // // // // // // // // // // // // // // // // //   buttonText: {
// // // // // // // // // // // // // // // // // // // // // //     color: "#fff",
// // // // // // // // // // // // // // // // // // // // // //     fontSize: 18,
// // // // // // // // // // // // // // // // // // // // // //     fontWeight: "bold",
// // // // // // // // // // // // // // // // // // // // // //   },
// // // // // // // // // // // // // // // // // // // // // // });

// // // // // // // // // // // // // // // // // // // // // import React, { useState } from "react";
// // // // // // // // // // // // // // // // // // // // // import {
// // // // // // // // // // // // // // // // // // // // //   View,
// // // // // // // // // // // // // // // // // // // // //   Text,
// // // // // // // // // // // // // // // // // // // // //   TextInput,
// // // // // // // // // // // // // // // // // // // // //   StyleSheet,
// // // // // // // // // // // // // // // // // // // // //   TouchableOpacity,
// // // // // // // // // // // // // // // // // // // // //   Alert,
// // // // // // // // // // // // // // // // // // // // //   ScrollView,
// // // // // // // // // // // // // // // // // // // // // } from "react-native";

// // // // // // // // // // // // // // // // // // // // // export default function FormScreen() {
// // // // // // // // // // // // // // // // // // // // //   const [formData, setFormData] = useState({
// // // // // // // // // // // // // // // // // // // // //     name: "",
// // // // // // // // // // // // // // // // // // // // //     fatherName: "",
// // // // // // // // // // // // // // // // // // // // //     motherName: "",
// // // // // // // // // // // // // // // // // // // // //     country: "",
// // // // // // // // // // // // // // // // // // // // //     cityName: "",
// // // // // // // // // // // // // // // // // // // // //     age: "",
// // // // // // // // // // // // // // // // // // // // //     dateOfBirth: "",
// // // // // // // // // // // // // // // // // // // // //     gender: "",
// // // // // // // // // // // // // // // // // // // // //     status: "",
// // // // // // // // // // // // // // // // // // // // //     whatsappNumber: "",
// // // // // // // // // // // // // // // // // // // // //     email: "",
// // // // // // // // // // // // // // // // // // // // //     natureOfBait: "",
// // // // // // // // // // // // // // // // // // // // //   });

// // // // // // // // // // // // // // // // // // // // //   const handleChange = (key, value) => {
// // // // // // // // // // // // // // // // // // // // //     setFormData((prev) => ({ ...prev, [key]: value }));
// // // // // // // // // // // // // // // // // // // // //   };

// // // // // // // // // // // // // // // // // // // // //   const handleSubmit = async () => {
// // // // // // // // // // // // // // // // // // // // //     try {
// // // // // // // // // // // // // // // // // // // // //       const response = await fetch(
// // // // // // // // // // // // // // // // // // // // //         "https://rohaniyat-web-jys5.vercel.app/api/email",
// // // // // // // // // // // // // // // // // // // // //         {
// // // // // // // // // // // // // // // // // // // // //           method: "POST",
// // // // // // // // // // // // // // // // // // // // //           headers: {
// // // // // // // // // // // // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // // // // // // // // // // // //           },
// // // // // // // // // // // // // // // // // // // // //           body: JSON.stringify(formData),
// // // // // // // // // // // // // // // // // // // // //         }
// // // // // // // // // // // // // // // // // // // // //       );

// // // // // // // // // // // // // // // // // // // // //       const data = await response.json();

// // // // // // // // // // // // // // // // // // // // //       if (response.ok) {
// // // // // // // // // // // // // // // // // // // // //         Alert.alert("Success", "Form submitted successfully!");
// // // // // // // // // // // // // // // // // // // // //       } else {
// // // // // // // // // // // // // // // // // // // // //         Alert.alert("Error", data.error || "Failed to submit form.");
// // // // // // // // // // // // // // // // // // // // //       }
// // // // // // // // // // // // // // // // // // // // //     } catch (error) {
// // // // // // // // // // // // // // // // // // // // //       Alert.alert("Error", "Something went wrong.");
// // // // // // // // // // // // // // // // // // // // //       console.error("Error:", error);
// // // // // // // // // // // // // // // // // // // // //     }
// // // // // // // // // // // // // // // // // // // // //   };

// // // // // // // // // // // // // // // // // // // // //   return (
// // // // // // // // // // // // // // // // // // // // //     <ScrollView contentContainerStyle={styles.container}>
// // // // // // // // // // // // // // // // // // // // //       <Text style={styles.heading}>Form Submission</Text>

// // // // // // // // // // // // // // // // // // // // //       {Object.keys(formData).map((key) => (
// // // // // // // // // // // // // // // // // // // // //         <TextInput
// // // // // // // // // // // // // // // // // // // // //           key={key}
// // // // // // // // // // // // // // // // // // // // //           style={styles.input}
// // // // // // // // // // // // // // // // // // // // //           placeholder={key.replace(/([A-Z])/g, " $1").trim()}
// // // // // // // // // // // // // // // // // // // // //           value={formData[key]}
// // // // // // // // // // // // // // // // // // // // //           onChangeText={(text) => handleChange(key, text)}
// // // // // // // // // // // // // // // // // // // // //         />
// // // // // // // // // // // // // // // // // // // // //       ))}

// // // // // // // // // // // // // // // // // // // // //       <TouchableOpacity style={styles.button} onPress={handleSubmit}>
// // // // // // // // // // // // // // // // // // // // //         <Text style={styles.buttonText}>Submit</Text>
// // // // // // // // // // // // // // // // // // // // //       </TouchableOpacity>
// // // // // // // // // // // // // // // // // // // // //     </ScrollView>
// // // // // // // // // // // // // // // // // // // // //   );
// // // // // // // // // // // // // // // // // // // // // }

// // // // // // // // // // // // // // // // // // // // // const styles = StyleSheet.create({
// // // // // // // // // // // // // // // // // // // // //   container: {
// // // // // // // // // // // // // // // // // // // // //     flexGrow: 1,
// // // // // // // // // // // // // // // // // // // // //     padding: 20,
// // // // // // // // // // // // // // // // // // // // //     backgroundColor: "#E4DAC1",
// // // // // // // // // // // // // // // // // // // // //     alignItems: "center",
// // // // // // // // // // // // // // // // // // // // //   },
// // // // // // // // // // // // // // // // // // // // //   heading: {
// // // // // // // // // // // // // // // // // // // // //     fontSize: 24,
// // // // // // // // // // // // // // // // // // // // //     fontWeight: "bold",
// // // // // // // // // // // // // // // // // // // // //     marginBottom: 20,
// // // // // // // // // // // // // // // // // // // // //     textAlign: "center",
// // // // // // // // // // // // // // // // // // // // //   },
// // // // // // // // // // // // // // // // // // // // //   input: {
// // // // // // // // // // // // // // // // // // // // //     width: "100%",
// // // // // // // // // // // // // // // // // // // // //     padding: 10,
// // // // // // // // // // // // // // // // // // // // //     borderWidth: 1,
// // // // // // // // // // // // // // // // // // // // //     borderColor: "#6C472D",
// // // // // // // // // // // // // // // // // // // // //     marginBottom: 10,
// // // // // // // // // // // // // // // // // // // // //     borderRadius: 8,
// // // // // // // // // // // // // // // // // // // // //     backgroundColor: "#fff",
// // // // // // // // // // // // // // // // // // // // //   },
// // // // // // // // // // // // // // // // // // // // //   button: {
// // // // // // // // // // // // // // // // // // // // //     backgroundColor: "#6C472D",
// // // // // // // // // // // // // // // // // // // // //     padding: 15,
// // // // // // // // // // // // // // // // // // // // //     borderRadius: 8,
// // // // // // // // // // // // // // // // // // // // //     alignItems: "center",
// // // // // // // // // // // // // // // // // // // // //     marginTop: 20,
// // // // // // // // // // // // // // // // // // // // //     width: "100%",
// // // // // // // // // // // // // // // // // // // // //   },
// // // // // // // // // // // // // // // // // // // // //   buttonText: {
// // // // // // // // // // // // // // // // // // // // //     color: "#fff",
// // // // // // // // // // // // // // // // // // // // //     fontSize: 18,
// // // // // // // // // // // // // // // // // // // // //     fontWeight: "bold",
// // // // // // // // // // // // // // // // // // // // //   },
// // // // // // // // // // // // // // // // // // // // // });

// // // // // // // // // // // // // // // // // // // // import React, { useState } from "react";
// // // // // // // // // // // // // // // // // // // // import {
// // // // // // // // // // // // // // // // // // // //   View,
// // // // // // // // // // // // // // // // // // // //   Text,
// // // // // // // // // // // // // // // // // // // //   TextInput,
// // // // // // // // // // // // // // // // // // // //   StyleSheet,
// // // // // // // // // // // // // // // // // // // //   TouchableOpacity,
// // // // // // // // // // // // // // // // // // // //   Alert,
// // // // // // // // // // // // // // // // // // // //   ScrollView,
// // // // // // // // // // // // // // // // // // // //   Keyboard,
// // // // // // // // // // // // // // // // // // // //   TouchableWithoutFeedback,
// // // // // // // // // // // // // // // // // // // // } from "react-native";

// // // // // // // // // // // // // // // // // // // // export default function FormScreen() {
// // // // // // // // // // // // // // // // // // // //   const [formData, setFormData] = useState({
// // // // // // // // // // // // // // // // // // // //     name: "",
// // // // // // // // // // // // // // // // // // // //     fatherName: "",
// // // // // // // // // // // // // // // // // // // //     motherName: "",
// // // // // // // // // // // // // // // // // // // //     country: "",
// // // // // // // // // // // // // // // // // // // //     cityName: "",
// // // // // // // // // // // // // // // // // // // //     age: "",
// // // // // // // // // // // // // // // // // // // //     dateOfBirth: "",
// // // // // // // // // // // // // // // // // // // //     gender: "",
// // // // // // // // // // // // // // // // // // // //     status: "",
// // // // // // // // // // // // // // // // // // // //     whatsappNumber: "",
// // // // // // // // // // // // // // // // // // // //     email: "",
// // // // // // // // // // // // // // // // // // // //     natureOfBait: "",
// // // // // // // // // // // // // // // // // // // //   });

// // // // // // // // // // // // // // // // // // // //   const handleChange = (key, value) => {
// // // // // // // // // // // // // // // // // // // //     setFormData((prev) => ({ ...prev, [key]: value }));
// // // // // // // // // // // // // // // // // // // //   };

// // // // // // // // // // // // // // // // // // // //   const handleSubmit = async () => {
// // // // // // // // // // // // // // // // // // // //     // ✅ Validation: Check if all fields are filled
// // // // // // // // // // // // // // // // // // // //     for (const key in formData) {
// // // // // // // // // // // // // // // // // // // //       if (!formData[key]) {
// // // // // // // // // // // // // // // // // // // //         Alert.alert(
// // // // // // // // // // // // // // // // // // // //           "Error",
// // // // // // // // // // // // // // // // // // // //           `Please fill in the ${key.replace(/([A-Z])/g, " $1").trim()} field.`
// // // // // // // // // // // // // // // // // // // //         );
// // // // // // // // // // // // // // // // // // // //         return;
// // // // // // // // // // // // // // // // // // // //       }
// // // // // // // // // // // // // // // // // // // //     }

// // // // // // // // // // // // // // // // // // // //     try {
// // // // // // // // // // // // // // // // // // // //       const response = await fetch(
// // // // // // // // // // // // // // // // // // // //         "https://rohaniyatweb-production-99fc.up.railway.app/api/email",
// // // // // // // // // // // // // // // // // // // //         {
// // // // // // // // // // // // // // // // // // // //           method: "POST",
// // // // // // // // // // // // // // // // // // // //           headers: {
// // // // // // // // // // // // // // // // // // // //             "Content-Type": "application/json",
// // // // // // // // // // // // // // // // // // // //           },
// // // // // // // // // // // // // // // // // // // //           body: JSON.stringify(formData),
// // // // // // // // // // // // // // // // // // // //         }
// // // // // // // // // // // // // // // // // // // //       );

// // // // // // // // // // // // // // // // // // // //       const data = await response.json();

// // // // // // // // // // // // // // // // // // // //       if (response.ok) {
// // // // // // // // // // // // // // // // // // // //         Alert.alert("Success", "Form submitted successfully!");
// // // // // // // // // // // // // // // // // // // //         setFormData({
// // // // // // // // // // // // // // // // // // // //           // ✅ Form Clear After Submission
// // // // // // // // // // // // // // // // // // // //           name: "",
// // // // // // // // // // // // // // // // // // // //           fatherName: "",
// // // // // // // // // // // // // // // // // // // //           motherName: "",
// // // // // // // // // // // // // // // // // // // //           country: "",
// // // // // // // // // // // // // // // // // // // //           cityName: "",
// // // // // // // // // // // // // // // // // // // //           age: "",
// // // // // // // // // // // // // // // // // // // //           dateOfBirth: "",
// // // // // // // // // // // // // // // // // // // //           gender: "",
// // // // // // // // // // // // // // // // // // // //           status: "",
// // // // // // // // // // // // // // // // // // // //           whatsappNumber: "",
// // // // // // // // // // // // // // // // // // // //           email: "",
// // // // // // // // // // // // // // // // // // // //           natureOfBait: "",
// // // // // // // // // // // // // // // // // // // //         });
// // // // // // // // // // // // // // // // // // // //       } else {
// // // // // // // // // // // // // // // // // // // //         Alert.alert("Error", data.error || "Failed to submit form.");
// // // // // // // // // // // // // // // // // // // //       }
// // // // // // // // // // // // // // // // // // // //     } catch (error) {
// // // // // // // // // // // // // // // // // // // //       Alert.alert("Error", "Something went wrong.");
// // // // // // // // // // // // // // // // // // // //       console.error("Error:", error);
// // // // // // // // // // // // // // // // // // // //     }
// // // // // // // // // // // // // // // // // // // //   };

// // // // // // // // // // // // // // // // // // // //   return (
// // // // // // // // // // // // // // // // // // // //     <TouchableWithoutFeedback onPress={Keyboard.dismiss}>
// // // // // // // // // // // // // // // // // // // //       <ScrollView contentContainerStyle={styles.container}>
// // // // // // // // // // // // // // // // // // // //         <Text style={styles.heading}>📜 Form Submission</Text>

// // // // // // // // // // // // // // // // // // // //         {Object.keys(formData).map((key) => (
// // // // // // // // // // // // // // // // // // // //           <TextInput
// // // // // // // // // // // // // // // // // // // //             key={key}
// // // // // // // // // // // // // // // // // // // //             style={styles.input}
// // // // // // // // // // // // // // // // // // // //             placeholder={key.replace(/([A-Z])/g, " $1").trim()}
// // // // // // // // // // // // // // // // // // // //             value={formData[key]}
// // // // // // // // // // // // // // // // // // // //             onChangeText={(text) => handleChange(key, text)}
// // // // // // // // // // // // // // // // // // // //             keyboardType={key === "email" ? "email-address" : "default"}
// // // // // // // // // // // // // // // // // // // //             autoCapitalize="none"
// // // // // // // // // // // // // // // // // // // //           />
// // // // // // // // // // // // // // // // // // // //         ))}

// // // // // // // // // // // // // // // // // // // //         <TouchableOpacity style={styles.button} onPress={handleSubmit}>
// // // // // // // // // // // // // // // // // // // //           <Text style={styles.buttonText}>📩 Submit</Text>
// // // // // // // // // // // // // // // // // // // //         </TouchableOpacity>
// // // // // // // // // // // // // // // // // // // //       </ScrollView>
// // // // // // // // // // // // // // // // // // // //     </TouchableWithoutFeedback>
// // // // // // // // // // // // // // // // // // // //   );
// // // // // // // // // // // // // // // // // // // // }

// // // // // // // // // // // // // // // // // // // // const styles = StyleSheet.create({
// // // // // // // // // // // // // // // // // // // //   container: {
// // // // // // // // // // // // // // // // // // // //     flexGrow: 1,
// // // // // // // // // // // // // // // // // // // //     padding: 20,
// // // // // // // // // // // // // // // // // // // //     backgroundColor: "#FAF3E0",
// // // // // // // // // // // // // // // // // // // //     alignItems: "center",
// // // // // // // // // // // // // // // // // // // //   },
// // // // // // // // // // // // // // // // // // // //   heading: {
// // // // // // // // // // // // // // // // // // // //     fontSize: 26,
// // // // // // // // // // // // // // // // // // // //     fontWeight: "bold",
// // // // // // // // // // // // // // // // // // // //     color: "#4A3F35",
// // // // // // // // // // // // // // // // // // // //     marginBottom: 20,
// // // // // // // // // // // // // // // // // // // //     textAlign: "center",
// // // // // // // // // // // // // // // // // // // //   },
// // // // // // // // // // // // // // // // // // // //   input: {
// // // // // // // // // // // // // // // // // // // //     width: "100%",
// // // // // // // // // // // // // // // // // // // //     padding: 12,
// // // // // // // // // // // // // // // // // // // //     borderWidth: 1,
// // // // // // // // // // // // // // // // // // // //     borderColor: "#8D6E63",
// // // // // // // // // // // // // // // // // // // //     marginBottom: 12,
// // // // // // // // // // // // // // // // // // // //     borderRadius: 10,
// // // // // // // // // // // // // // // // // // // //     backgroundColor: "#FFFFFF",
// // // // // // // // // // // // // // // // // // // //     fontSize: 16,
// // // // // // // // // // // // // // // // // // // //   },
// // // // // // // // // // // // // // // // // // // //   button: {
// // // // // // // // // // // // // // // // // // // //     backgroundColor: "#6D4C41",
// // // // // // // // // // // // // // // // // // // //     padding: 15,
// // // // // // // // // // // // // // // // // // // //     borderRadius: 10,
// // // // // // // // // // // // // // // // // // // //     alignItems: "center",
// // // // // // // // // // // // // // // // // // // //     marginTop: 20,
// // // // // // // // // // // // // // // // // // // //     width: "100%",
// // // // // // // // // // // // // // // // // // // //   },
// // // // // // // // // // // // // // // // // // // //   buttonText: {
// // // // // // // // // // // // // // // // // // // //     color: "#FFFFFF",
// // // // // // // // // // // // // // // // // // // //     fontSize: 18,
// // // // // // // // // // // // // // // // // // // //     fontWeight: "bold",
// // // // // // // // // // // // // // // // // // // //   },
// // // // // // // // // // // // // // // // // // // // });

// // // // // // // // // // // // // // // // // // import React, { useState, useRef, useEffect } from "react";
// // // // // // // // // // // // // // // // // // import {
// // // // // // // // // // // // // // // // // //   View,
// // // // // // // // // // // // // // // // // //   Text,
// // // // // // // // // // // // // // // // // //   TextInput,
// // // // // // // // // // // // // // // // // //   StyleSheet,
// // // // // // // // // // // // // // // // // //   TouchableOpacity,
// // // // // // // // // // // // // // // // // //   ScrollView,
// // // // // // // // // // // // // // // // // //   Keyboard,
// // // // // // // // // // // // // // // // // //   TouchableWithoutFeedback,
// // // // // // // // // // // // // // // // // //   Modal,
// // // // // // // // // // // // // // // // // //   Animated,
// // // // // // // // // // // // // // // // // //   Easing,
// // // // // // // // // // // // // // // // // //   Platform,
// // // // // // // // // // // // // // // // // // } from "react-native";
// // // // // // // // // // // // // // // // // // import DatePicker from "react-native-material-datetime-picker";

// // // // // // // // // // // // // // // // // // export default function FormScreen() {
// // // // // // // // // // // // // // // // // //   const [formData, setFormData] = useState({
// // // // // // // // // // // // // // // // // //     name: "",
// // // // // // // // // // // // // // // // // //     fatherName: "",
// // // // // // // // // // // // // // // // // //     motherName: "",
// // // // // // // // // // // // // // // // // //     country: "",
// // // // // // // // // // // // // // // // // //     cityName: "",
// // // // // // // // // // // // // // // // // //     age: "",
// // // // // // // // // // // // // // // // // //     dateOfBirth: "",
// // // // // // // // // // // // // // // // // //     gender: "",
// // // // // // // // // // // // // // // // // //     status: "",
// // // // // // // // // // // // // // // // // //     whatsappNumber: "",
// // // // // // // // // // // // // // // // // //     email: "",
// // // // // // // // // // // // // // // // // //     natureOfBait: "",
// // // // // // // // // // // // // // // // // //   });

// // // // // // // // // // // // // // // // // //   const [errors, setErrors] = useState({});
// // // // // // // // // // // // // // // // // //   const [showModal, setShowModal] = useState(false);
// // // // // // // // // // // // // // // // // //   const [modalMsg, setModalMsg] = useState("");
// // // // // // // // // // // // // // // // // //   const slideAnim = useRef(new Animated.Value(-300)).current;

// // // // // // // // // // // // // // // // // //   const [showDatePicker, setShowDatePicker] = useState(false);

// // // // // // // // // // // // // // // // // //   const handleChange = (key, value) => {
// // // // // // // // // // // // // // // // // //     setFormData((prev) => ({ ...prev, [key]: value }));
// // // // // // // // // // // // // // // // // //     setErrors((prev) => ({ ...prev, [key]: null }));
// // // // // // // // // // // // // // // // // //   };

// // // // // // // // // // // // // // // // // //   const validateForm = () => {
// // // // // // // // // // // // // // // // // //     const newErrors = {};

// // // // // // // // // // // // // // // // // //     Object.entries(formData).forEach(([key, value]) => {
// // // // // // // // // // // // // // // // // //       if (!value) {
// // // // // // // // // // // // // // // // // //         newErrors[key] = `Please fill in the ${formatKey(key)}`;
// // // // // // // // // // // // // // // // // //       } else {
// // // // // // // // // // // // // // // // // //         if (key === "email" && !value.endsWith("@gmail.com")) {
// // // // // // // // // // // // // // // // // //           newErrors[key] = "Only Gmail addresses allowed";
// // // // // // // // // // // // // // // // // //         }
// // // // // // // // // // // // // // // // // //         if (["age", "whatsappNumber"].includes(key) && isNaN(value)) {
// // // // // // // // // // // // // // // // // //           newErrors[key] = `${formatKey(key)} must be a number`;
// // // // // // // // // // // // // // // // // //         }
// // // // // // // // // // // // // // // // // //       }
// // // // // // // // // // // // // // // // // //     });

// // // // // // // // // // // // // // // // // //     setErrors(newErrors);
// // // // // // // // // // // // // // // // // //     return Object.keys(newErrors).length === 0;
// // // // // // // // // // // // // // // // // //   };

// // // // // // // // // // // // // // // // // //   const formatKey = (key) =>
// // // // // // // // // // // // // // // // // //     key.replace(/([A-Z])/g, " $1").replace(/^./, (s) => s.toUpperCase());

// // // // // // // // // // // // // // // // // //   const showAnimatedModal = (msg) => {
// // // // // // // // // // // // // // // // // //     setModalMsg(msg);
// // // // // // // // // // // // // // // // // //     setShowModal(true);
// // // // // // // // // // // // // // // // // //     Animated.timing(slideAnim, {
// // // // // // // // // // // // // // // // // //       toValue: 0,
// // // // // // // // // // // // // // // // // //       duration: 400,
// // // // // // // // // // // // // // // // // //       easing: Easing.out(Easing.exp),
// // // // // // // // // // // // // // // // // //       useNativeDriver: true,
// // // // // // // // // // // // // // // // // //     }).start(() => {
// // // // // // // // // // // // // // // // // //       setTimeout(() => {
// // // // // // // // // // // // // // // // // //         Animated.timing(slideAnim, {
// // // // // // // // // // // // // // // // // //           toValue: -300,
// // // // // // // // // // // // // // // // // //           duration: 300,
// // // // // // // // // // // // // // // // // //           easing: Easing.in(Easing.exp),
// // // // // // // // // // // // // // // // // //           useNativeDriver: true,
// // // // // // // // // // // // // // // // // //         }).start(() => {
// // // // // // // // // // // // // // // // // //           setShowModal(false);
// // // // // // // // // // // // // // // // // //         });
// // // // // // // // // // // // // // // // // //       }, 2500);
// // // // // // // // // // // // // // // // // //     });
// // // // // // // // // // // // // // // // // //   };

// // // // // // // // // // // // // // // // // //   const handleSubmit = async () => {
// // // // // // // // // // // // // // // // // //     if (!validateForm()) {
// // // // // // // // // // // // // // // // // //       showAnimatedModal("Please fix the errors above.");
// // // // // // // // // // // // // // // // // //       return;
// // // // // // // // // // // // // // // // // //     }

// // // // // // // // // // // // // // // // // //     try {
// // // // // // // // // // // // // // // // // //       const response = await fetch(
// // // // // // // // // // // // // // // // // //         "https://rohaniyatweb-production-99fc.up.railway.app/api/email",
// // // // // // // // // // // // // // // // // //         {
// // // // // // // // // // // // // // // // // //           method: "POST",
// // // // // // // // // // // // // // // // // //           headers: { "Content-Type": "application/json" },
// // // // // // // // // // // // // // // // // //           body: JSON.stringify(formData),
// // // // // // // // // // // // // // // // // //         }
// // // // // // // // // // // // // // // // // //       );

// // // // // // // // // // // // // // // // // //       const data = await response.json();

// // // // // // // // // // // // // // // // // //       if (response.ok) {
// // // // // // // // // // // // // // // // // //         showAnimatedModal("Form submitted successfully!");
// // // // // // // // // // // // // // // // // //         setFormData({
// // // // // // // // // // // // // // // // // //           name: "",
// // // // // // // // // // // // // // // // // //           fatherName: "",
// // // // // // // // // // // // // // // // // //           motherName: "",
// // // // // // // // // // // // // // // // // //           country: "",
// // // // // // // // // // // // // // // // // //           cityName: "",
// // // // // // // // // // // // // // // // // //           age: "",
// // // // // // // // // // // // // // // // // //           dateOfBirth: "",
// // // // // // // // // // // // // // // // // //           gender: "",
// // // // // // // // // // // // // // // // // //           status: "",
// // // // // // // // // // // // // // // // // //           whatsappNumber: "",
// // // // // // // // // // // // // // // // // //           email: "",
// // // // // // // // // // // // // // // // // //           natureOfBait: "",
// // // // // // // // // // // // // // // // // //         });
// // // // // // // // // // // // // // // // // //       } else {
// // // // // // // // // // // // // // // // // //         showAnimatedModal(data.error || "Submission failed.");
// // // // // // // // // // // // // // // // // //       }
// // // // // // // // // // // // // // // // // //     } catch (error) {
// // // // // // // // // // // // // // // // // //       console.error(error);
// // // // // // // // // // // // // // // // // //       showAnimatedModal("Something went wrong.");
// // // // // // // // // // // // // // // // // //     }
// // // // // // // // // // // // // // // // // //   };

// // // // // // // // // // // // // // // // // //   const handleDateChange = (_, selectedDate) => {
// // // // // // // // // // // // // // // // // //     setShowDatePicker(false);
// // // // // // // // // // // // // // // // // //     if (selectedDate) {
// // // // // // // // // // // // // // // // // //       const formatted = selectedDate.toISOString().split("T")[0];
// // // // // // // // // // // // // // // // // //       handleChange("dateOfBirth", formatted);
// // // // // // // // // // // // // // // // // //     }
// // // // // // // // // // // // // // // // // //   };

// // // // // // // // // // // // // // // // // //   return (
// // // // // // // // // // // // // // // // // //     <TouchableWithoutFeedback onPress={Keyboard.dismiss}>
// // // // // // // // // // // // // // // // // //       <ScrollView contentContainerStyle={styles.container}>
// // // // // // // // // // // // // // // // // //         <Text style={styles.heading}>📜 Form Submission</Text>

// // // // // // // // // // // // // // // // // //         {Object.keys(formData).map((key) => {
// // // // // // // // // // // // // // // // // //           if (key === "dateOfBirth") {
// // // // // // // // // // // // // // // // // //             return (
// // // // // // // // // // // // // // // // // //               <View key={key} style={{ width: "100%", marginBottom: 12 }}>
// // // // // // // // // // // // // // // // // //                 <TouchableOpacity
// // // // // // // // // // // // // // // // // //                   onPress={() => setShowDatePicker(true)}
// // // // // // // // // // // // // // // // // //                   style={styles.input}
// // // // // // // // // // // // // // // // // //                 >
// // // // // // // // // // // // // // // // // //                   <Text style={{ color: formData[key] ? "#000" : "#999" }}>
// // // // // // // // // // // // // // // // // //                     {formData[key] || "Date Of Birth"}
// // // // // // // // // // // // // // // // // //                   </Text>
// // // // // // // // // // // // // // // // // //                 </TouchableOpacity>
// // // // // // // // // // // // // // // // // //                 {errors[key] && <Text style={styles.error}>{errors[key]}</Text>}
// // // // // // // // // // // // // // // // // //                 {showDatePicker && (
// // // // // // // // // // // // // // // // // //                   <DatePicker
// // // // // // // // // // // // // // // // // //                     mode="date"
// // // // // // // // // // // // // // // // // //                     value={new Date()}
// // // // // // // // // // // // // // // // // //                     display={Platform.OS === "ios" ? "spinner" : "default"}
// // // // // // // // // // // // // // // // // //                     onChange={handleDateChange}
// // // // // // // // // // // // // // // // // //                   />
// // // // // // // // // // // // // // // // // //                 )}
// // // // // // // // // // // // // // // // // //               </View>
// // // // // // // // // // // // // // // // // //             );
// // // // // // // // // // // // // // // // // //           }

// // // // // // // // // // // // // // // // // //           return (
// // // // // // // // // // // // // // // // // //             <View key={key} style={{ width: "100%", marginBottom: 12 }}>
// // // // // // // // // // // // // // // // // //               <TextInput
// // // // // // // // // // // // // // // // // //                 style={styles.input}
// // // // // // // // // // // // // // // // // //                 placeholder={formatKey(key)}
// // // // // // // // // // // // // // // // // //                 value={formData[key]}
// // // // // // // // // // // // // // // // // //                 onChangeText={(text) => handleChange(key, text)}
// // // // // // // // // // // // // // // // // //                 keyboardType={
// // // // // // // // // // // // // // // // // //                   key === "email"
// // // // // // // // // // // // // // // // // //                     ? "email-address"
// // // // // // // // // // // // // // // // // //                     : ["age", "whatsappNumber"].includes(key)
// // // // // // // // // // // // // // // // // //                     ? "numeric"
// // // // // // // // // // // // // // // // // //                     : "default"
// // // // // // // // // // // // // // // // // //                 }
// // // // // // // // // // // // // // // // // //               />
// // // // // // // // // // // // // // // // // //               {errors[key] && <Text style={styles.error}>{errors[key]}</Text>}
// // // // // // // // // // // // // // // // // //             </View>
// // // // // // // // // // // // // // // // // //           );
// // // // // // // // // // // // // // // // // //         })}

// // // // // // // // // // // // // // // // // //         <TouchableOpacity style={styles.button} onPress={handleSubmit}>
// // // // // // // // // // // // // // // // // //           <Text style={styles.buttonText}>📩 Submit</Text>
// // // // // // // // // // // // // // // // // //         </TouchableOpacity>

// // // // // // // // // // // // // // // // // //         <Modal transparent visible={showModal} animationType="none">
// // // // // // // // // // // // // // // // // //           <Animated.View
// // // // // // // // // // // // // // // // // //             style={[
// // // // // // // // // // // // // // // // // //               styles.modal,
// // // // // // // // // // // // // // // // // //               {
// // // // // // // // // // // // // // // // // //                 transform: [{ translateY: slideAnim }],
// // // // // // // // // // // // // // // // // //               },
// // // // // // // // // // // // // // // // // //             ]}
// // // // // // // // // // // // // // // // // //           >
// // // // // // // // // // // // // // // // // //             <Text style={styles.modalText}>{modalMsg}</Text>
// // // // // // // // // // // // // // // // // //           </Animated.View>
// // // // // // // // // // // // // // // // // //         </Modal>
// // // // // // // // // // // // // // // // // //       </ScrollView>
// // // // // // // // // // // // // // // // // //     </TouchableWithoutFeedback>
// // // // // // // // // // // // // // // // // //   );
// // // // // // // // // // // // // // // // // // }

// // // // // // // // // // // // // // // // // // const styles = StyleSheet.create({
// // // // // // // // // // // // // // // // // //   container: {
// // // // // // // // // // // // // // // // // //     flexGrow: 1,
// // // // // // // // // // // // // // // // // //     padding: 20,
// // // // // // // // // // // // // // // // // //     backgroundColor: "#FAF3E0",
// // // // // // // // // // // // // // // // // //     alignItems: "center",
// // // // // // // // // // // // // // // // // //   },
// // // // // // // // // // // // // // // // // //   heading: {
// // // // // // // // // // // // // // // // // //     fontSize: 26,
// // // // // // // // // // // // // // // // // //     fontWeight: "bold",
// // // // // // // // // // // // // // // // // //     color: "#4A3F35",
// // // // // // // // // // // // // // // // // //     marginBottom: 20,
// // // // // // // // // // // // // // // // // //     textAlign: "center",
// // // // // // // // // // // // // // // // // //   },
// // // // // // // // // // // // // // // // // //   input: {
// // // // // // // // // // // // // // // // // //     width: "100%",
// // // // // // // // // // // // // // // // // //     padding: 12,
// // // // // // // // // // // // // // // // // //     borderWidth: 1,
// // // // // // // // // // // // // // // // // //     borderColor: "#8D6E63",
// // // // // // // // // // // // // // // // // //     borderRadius: 10,
// // // // // // // // // // // // // // // // // //     backgroundColor: "#FFFFFF",
// // // // // // // // // // // // // // // // // //     fontSize: 16,
// // // // // // // // // // // // // // // // // //   },
// // // // // // // // // // // // // // // // // //   error: {
// // // // // // // // // // // // // // // // // //     color: "red",
// // // // // // // // // // // // // // // // // //     fontSize: 12,
// // // // // // // // // // // // // // // // // //     marginTop: 4,
// // // // // // // // // // // // // // // // // //   },
// // // // // // // // // // // // // // // // // //   button: {
// // // // // // // // // // // // // // // // // //     backgroundColor: "#6D4C41",
// // // // // // // // // // // // // // // // // //     padding: 15,
// // // // // // // // // // // // // // // // // //     borderRadius: 10,
// // // // // // // // // // // // // // // // // //     alignItems: "center",
// // // // // // // // // // // // // // // // // //     marginTop: 20,
// // // // // // // // // // // // // // // // // //     width: "100%",
// // // // // // // // // // // // // // // // // //   },
// // // // // // // // // // // // // // // // // //   buttonText: {
// // // // // // // // // // // // // // // // // //     color: "#FFFFFF",
// // // // // // // // // // // // // // // // // //     fontSize: 18,
// // // // // // // // // // // // // // // // // //     fontWeight: "bold",
// // // // // // // // // // // // // // // // // //   },
// // // // // // // // // // // // // // // // // //   modal: {
// // // // // // // // // // // // // // // // // //     position: "absolute",
// // // // // // // // // // // // // // // // // //     top: 100,
// // // // // // // // // // // // // // // // // //     left: 40,
// // // // // // // // // // // // // // // // // //     right: 40,
// // // // // // // // // // // // // // // // // //     padding: 20,
// // // // // // // // // // // // // // // // // //     backgroundColor: "#fff",
// // // // // // // // // // // // // // // // // //     borderRadius: 12,
// // // // // // // // // // // // // // // // // //     shadowColor: "#000",
// // // // // // // // // // // // // // // // // //     shadowOpacity: 0.3,
// // // // // // // // // // // // // // // // // //     shadowRadius: 10,
// // // // // // // // // // // // // // // // // //     elevation: 10,
// // // // // // // // // // // // // // // // // //     alignItems: "center",
// // // // // // // // // // // // // // // // // //   },
// // // // // // // // // // // // // // // // // //   modalText: {
// // // // // // // // // // // // // // // // // //     fontSize: 16,
// // // // // // // // // // // // // // // // // //     color: "#333",
// // // // // // // // // // // // // // // // // //     textAlign: "center",
// // // // // // // // // // // // // // // // // //   },
// // // // // // // // // // // // // // // // // // });

// // // // // // // // // // // // // // // // // import React, { useState, useRef, useEffect } from "react";
// // // // // // // // // // // // // // // // // import {
// // // // // // // // // // // // // // // // //   View,
// // // // // // // // // // // // // // // // //   Text,
// // // // // // // // // // // // // // // // //   TextInput,
// // // // // // // // // // // // // // // // //   StyleSheet,
// // // // // // // // // // // // // // // // //   TouchableOpacity,
// // // // // // // // // // // // // // // // //   ScrollView,
// // // // // // // // // // // // // // // // //   Keyboard,
// // // // // // // // // // // // // // // // //   TouchableWithoutFeedback,
// // // // // // // // // // // // // // // // //   Modal,
// // // // // // // // // // // // // // // // //   Animated,
// // // // // // // // // // // // // // // // //   Easing,
// // // // // // // // // // // // // // // // //   Platform,
// // // // // // // // // // // // // // // // // } from "react-native";
// // // // // // // // // // // // // // // // // import DatePicker from "react-native-material-datetime-picker";

// // // // // // // // // // // // // // // // // // For web support, import react-datepicker
// // // // // // // // // // // // // // // // // import ReactDatePicker from "react-datepicker";
// // // // // // // // // // // // // // // // // import "react-datepicker/dist/react-datepicker.css"; // Important for web styling

// // // // // // // // // // // // // // // // // export default function FormScreen() {
// // // // // // // // // // // // // // // // //   const [formData, setFormData] = useState({
// // // // // // // // // // // // // // // // //     name: "",
// // // // // // // // // // // // // // // // //     fatherName: "",
// // // // // // // // // // // // // // // // //     motherName: "",
// // // // // // // // // // // // // // // // //     country: "",
// // // // // // // // // // // // // // // // //     cityName: "",
// // // // // // // // // // // // // // // // //     age: "",
// // // // // // // // // // // // // // // // //     dateOfBirth: "",
// // // // // // // // // // // // // // // // //     gender: "",
// // // // // // // // // // // // // // // // //     status: "",
// // // // // // // // // // // // // // // // //     whatsappNumber: "",
// // // // // // // // // // // // // // // // //     email: "",
// // // // // // // // // // // // // // // // //     natureOfBait: "",
// // // // // // // // // // // // // // // // //   });

// // // // // // // // // // // // // // // // //   const [errors, setErrors] = useState({});
// // // // // // // // // // // // // // // // //   const [showModal, setShowModal] = useState(false);
// // // // // // // // // // // // // // // // //   const [modalMsg, setModalMsg] = useState("");
// // // // // // // // // // // // // // // // //   const slideAnim = useRef(new Animated.Value(-300)).current;

// // // // // // // // // // // // // // // // //   const [showDatePicker, setShowDatePicker] = useState(false);

// // // // // // // // // // // // // // // // //   const handleChange = (key, value) => {
// // // // // // // // // // // // // // // // //     setFormData((prev) => ({ ...prev, [key]: value }));
// // // // // // // // // // // // // // // // //     setErrors((prev) => ({ ...prev, [key]: null }));
// // // // // // // // // // // // // // // // //   };

// // // // // // // // // // // // // // // // //   const validateForm = () => {
// // // // // // // // // // // // // // // // //     const newErrors = {};

// // // // // // // // // // // // // // // // //     Object.entries(formData).forEach(([key, value]) => {
// // // // // // // // // // // // // // // // //       if (!value) {
// // // // // // // // // // // // // // // // //         newErrors[key] = `Please fill in the ${formatKey(key)}`;
// // // // // // // // // // // // // // // // //       } else {
// // // // // // // // // // // // // // // // //         if (key === "email" && !value.endsWith("@gmail.com")) {
// // // // // // // // // // // // // // // // //           newErrors[key] = "Only Gmail addresses allowed";
// // // // // // // // // // // // // // // // //         }
// // // // // // // // // // // // // // // // //         if (["age", "whatsappNumber"].includes(key) && isNaN(value)) {
// // // // // // // // // // // // // // // // //           newErrors[key] = `${formatKey(key)} must be a number`;
// // // // // // // // // // // // // // // // //         }
// // // // // // // // // // // // // // // // //       }
// // // // // // // // // // // // // // // // //     });

// // // // // // // // // // // // // // // // //     setErrors(newErrors);
// // // // // // // // // // // // // // // // //     return Object.keys(newErrors).length === 0;
// // // // // // // // // // // // // // // // //   };

// // // // // // // // // // // // // // // // //   const formatKey = (key) =>
// // // // // // // // // // // // // // // // //     key.replace(/([A-Z])/g, " $1").replace(/^./, (s) => s.toUpperCase());

// // // // // // // // // // // // // // // // //   const showAnimatedModal = (msg) => {
// // // // // // // // // // // // // // // // //     setModalMsg(msg);
// // // // // // // // // // // // // // // // //     setShowModal(true);
// // // // // // // // // // // // // // // // //     Animated.timing(slideAnim, {
// // // // // // // // // // // // // // // // //       toValue: 0,
// // // // // // // // // // // // // // // // //       duration: 400,
// // // // // // // // // // // // // // // // //       easing: Easing.out(Easing.exp),
// // // // // // // // // // // // // // // // //       useNativeDriver: true,
// // // // // // // // // // // // // // // // //     }).start(() => {
// // // // // // // // // // // // // // // // //       setTimeout(() => {
// // // // // // // // // // // // // // // // //         Animated.timing(slideAnim, {
// // // // // // // // // // // // // // // // //           toValue: -300,
// // // // // // // // // // // // // // // // //           duration: 300,
// // // // // // // // // // // // // // // // //           easing: Easing.in(Easing.exp),
// // // // // // // // // // // // // // // // //           useNativeDriver: true,
// // // // // // // // // // // // // // // // //         }).start(() => {
// // // // // // // // // // // // // // // // //           setShowModal(false);
// // // // // // // // // // // // // // // // //         });
// // // // // // // // // // // // // // // // //       }, 2500);
// // // // // // // // // // // // // // // // //     });
// // // // // // // // // // // // // // // // //   };

// // // // // // // // // // // // // // // // //   const handleSubmit = async () => {
// // // // // // // // // // // // // // // // //     if (!validateForm()) {
// // // // // // // // // // // // // // // // //       showAnimatedModal("Please fix the errors above.");
// // // // // // // // // // // // // // // // //       return;
// // // // // // // // // // // // // // // // //     }

// // // // // // // // // // // // // // // // //     try {
// // // // // // // // // // // // // // // // //       const response = await fetch(
// // // // // // // // // // // // // // // // //         "https://rohaniyatweb-production-99fc.up.railway.app/api/email",
// // // // // // // // // // // // // // // // //         {
// // // // // // // // // // // // // // // // //           method: "POST",
// // // // // // // // // // // // // // // // //           headers: { "Content-Type": "application/json" },
// // // // // // // // // // // // // // // // //           body: JSON.stringify(formData),
// // // // // // // // // // // // // // // // //         }
// // // // // // // // // // // // // // // // //       );

// // // // // // // // // // // // // // // // //       const data = await response.json();

// // // // // // // // // // // // // // // // //       if (response.ok) {
// // // // // // // // // // // // // // // // //         showAnimatedModal("Form submitted successfully!");
// // // // // // // // // // // // // // // // //         setFormData({
// // // // // // // // // // // // // // // // //           name: "",
// // // // // // // // // // // // // // // // //           fatherName: "",
// // // // // // // // // // // // // // // // //           motherName: "",
// // // // // // // // // // // // // // // // //           country: "",
// // // // // // // // // // // // // // // // //           cityName: "",
// // // // // // // // // // // // // // // // //           age: "",
// // // // // // // // // // // // // // // // //           dateOfBirth: "",
// // // // // // // // // // // // // // // // //           gender: "",
// // // // // // // // // // // // // // // // //           status: "",
// // // // // // // // // // // // // // // // //           whatsappNumber: "",
// // // // // // // // // // // // // // // // //           email: "",
// // // // // // // // // // // // // // // // //           natureOfBait: "",
// // // // // // // // // // // // // // // // //         });
// // // // // // // // // // // // // // // // //       } else {
// // // // // // // // // // // // // // // // //         showAnimatedModal(data.error || "Submission failed.");
// // // // // // // // // // // // // // // // //       }
// // // // // // // // // // // // // // // // //     } catch (error) {
// // // // // // // // // // // // // // // // //       console.error(error);
// // // // // // // // // // // // // // // // //       showAnimatedModal("Something went wrong.");
// // // // // // // // // // // // // // // // //     }
// // // // // // // // // // // // // // // // //   };

// // // // // // // // // // // // // // // // //   const handleDateChange = (_, selectedDate) => {
// // // // // // // // // // // // // // // // //     setShowDatePicker(false);
// // // // // // // // // // // // // // // // //     if (selectedDate) {
// // // // // // // // // // // // // // // // //       const formatted = selectedDate.toISOString().split("T")[0];
// // // // // // // // // // // // // // // // //       handleChange("dateOfBirth", formatted);
// // // // // // // // // // // // // // // // //     }
// // // // // // // // // // // // // // // // //   };

// // // // // // // // // // // // // // // // //   return (
// // // // // // // // // // // // // // // // //     <TouchableWithoutFeedback onPress={Keyboard.dismiss}>
// // // // // // // // // // // // // // // // //       <ScrollView contentContainerStyle={styles.container}>
// // // // // // // // // // // // // // // // //         <Text style={styles.heading}>📜 Form Submission</Text>

// // // // // // // // // // // // // // // // //         {Object.keys(formData).map((key) => {
// // // // // // // // // // // // // // // // //           if (key === "dateOfBirth") {
// // // // // // // // // // // // // // // // //             return (
// // // // // // // // // // // // // // // // //               <View key={key} style={{ width: "100%", marginBottom: 12 }}>
// // // // // // // // // // // // // // // // //                 {Platform.OS === "web" ? (
// // // // // // // // // // // // // // // // //                   <ReactDatePicker
// // // // // // // // // // // // // // // // //                     selected={formData[key] ? new Date(formData[key]) : null}
// // // // // // // // // // // // // // // // //                     onChange={(date) =>
// // // // // // // // // // // // // // // // //                       handleChange(
// // // // // // // // // // // // // // // // //                         "dateOfBirth",
// // // // // // // // // // // // // // // // //                         date.toISOString().split("T")[0]
// // // // // // // // // // // // // // // // //                       )
// // // // // // // // // // // // // // // // //                     }
// // // // // // // // // // // // // // // // //                     dateFormat="yyyy-MM-dd"
// // // // // // // // // // // // // // // // //                     placeholderText="Date of Birth"
// // // // // // // // // // // // // // // // //                     className="react-datepicker" // Add your custom class if necessary
// // // // // // // // // // // // // // // // //                   />
// // // // // // // // // // // // // // // // //                 ) : (
// // // // // // // // // // // // // // // // //                   <TouchableOpacity
// // // // // // // // // // // // // // // // //                     onPress={() => setShowDatePicker(true)}
// // // // // // // // // // // // // // // // //                     style={styles.input}
// // // // // // // // // // // // // // // // //                   >
// // // // // // // // // // // // // // // // //                     <Text style={{ color: formData[key] ? "#000" : "#999" }}>
// // // // // // // // // // // // // // // // //                       {formData[key] || "Date Of Birth"}
// // // // // // // // // // // // // // // // //                     </Text>
// // // // // // // // // // // // // // // // //                   </TouchableOpacity>
// // // // // // // // // // // // // // // // //                 )}
// // // // // // // // // // // // // // // // //                 {errors[key] && <Text style={styles.error}>{errors[key]}</Text>}
// // // // // // // // // // // // // // // // //                 {showDatePicker && Platform.OS !== "web" && (
// // // // // // // // // // // // // // // // //                   <DatePicker
// // // // // // // // // // // // // // // // //                     mode="date"
// // // // // // // // // // // // // // // // //                     value={new Date()}
// // // // // // // // // // // // // // // // //                     display={Platform.OS === "ios" ? "spinner" : "default"}
// // // // // // // // // // // // // // // // //                     onChange={handleDateChange}
// // // // // // // // // // // // // // // // //                   />
// // // // // // // // // // // // // // // // //                 )}
// // // // // // // // // // // // // // // // //               </View>
// // // // // // // // // // // // // // // // //             );
// // // // // // // // // // // // // // // // //           }

// // // // // // // // // // // // // // // // //           return (
// // // // // // // // // // // // // // // // //             <View key={key} style={{ width: "100%", marginBottom: 12 }}>
// // // // // // // // // // // // // // // // //               <TextInput
// // // // // // // // // // // // // // // // //                 style={styles.input}
// // // // // // // // // // // // // // // // //                 placeholder={formatKey(key)}
// // // // // // // // // // // // // // // // //                 value={formData[key]}
// // // // // // // // // // // // // // // // //                 onChangeText={(text) => handleChange(key, text)}
// // // // // // // // // // // // // // // // //                 keyboardType={
// // // // // // // // // // // // // // // // //                   key === "email"
// // // // // // // // // // // // // // // // //                     ? "email-address"
// // // // // // // // // // // // // // // // //                     : ["age", "whatsappNumber"].includes(key)
// // // // // // // // // // // // // // // // //                     ? "numeric"
// // // // // // // // // // // // // // // // //                     : "default"
// // // // // // // // // // // // // // // // //                 }
// // // // // // // // // // // // // // // // //               />
// // // // // // // // // // // // // // // // //               {errors[key] && <Text style={styles.error}>{errors[key]}</Text>}
// // // // // // // // // // // // // // // // //             </View>
// // // // // // // // // // // // // // // // //           );
// // // // // // // // // // // // // // // // //         })}

// // // // // // // // // // // // // // // // //         <TouchableOpacity style={styles.button} onPress={handleSubmit}>
// // // // // // // // // // // // // // // // //           <Text style={styles.buttonText}>📩 Submit</Text>
// // // // // // // // // // // // // // // // //         </TouchableOpacity>

// // // // // // // // // // // // // // // // //         <Modal transparent visible={showModal} animationType="none">
// // // // // // // // // // // // // // // // //           <Animated.View
// // // // // // // // // // // // // // // // //             style={[styles.modal, { transform: [{ translateY: slideAnim }] }]}
// // // // // // // // // // // // // // // // //           >
// // // // // // // // // // // // // // // // //             <Text style={styles.modalText}>{modalMsg}</Text>
// // // // // // // // // // // // // // // // //           </Animated.View>
// // // // // // // // // // // // // // // // //         </Modal>
// // // // // // // // // // // // // // // // //       </ScrollView>
// // // // // // // // // // // // // // // // //     </TouchableWithoutFeedback>
// // // // // // // // // // // // // // // // //   );
// // // // // // // // // // // // // // // // // }

// // // // // // // // // // // // // // // // // const styles = StyleSheet.create({
// // // // // // // // // // // // // // // // //   container: {
// // // // // // // // // // // // // // // // //     flexGrow: 1,
// // // // // // // // // // // // // // // // //     padding: 20,
// // // // // // // // // // // // // // // // //     backgroundColor: "#FAF3E0",
// // // // // // // // // // // // // // // // //     alignItems: "center",
// // // // // // // // // // // // // // // // //   },
// // // // // // // // // // // // // // // // //   heading: {
// // // // // // // // // // // // // // // // //     fontSize: 26,
// // // // // // // // // // // // // // // // //     fontWeight: "bold",
// // // // // // // // // // // // // // // // //     color: "#4A3F35",
// // // // // // // // // // // // // // // // //     marginBottom: 20,
// // // // // // // // // // // // // // // // //     textAlign: "center",
// // // // // // // // // // // // // // // // //   },
// // // // // // // // // // // // // // // // //   input: {
// // // // // // // // // // // // // // // // //     width: "100%",
// // // // // // // // // // // // // // // // //     padding: 12,
// // // // // // // // // // // // // // // // //     borderWidth: 1,
// // // // // // // // // // // // // // // // //     borderColor: "#8D6E63",
// // // // // // // // // // // // // // // // //     borderRadius: 10,
// // // // // // // // // // // // // // // // //     backgroundColor: "#FFFFFF",
// // // // // // // // // // // // // // // // //     fontSize: 16,
// // // // // // // // // // // // // // // // //   },
// // // // // // // // // // // // // // // // //   error: {
// // // // // // // // // // // // // // // // //     color: "red",
// // // // // // // // // // // // // // // // //     fontSize: 12,
// // // // // // // // // // // // // // // // //     marginTop: 4,
// // // // // // // // // // // // // // // // //   },
// // // // // // // // // // // // // // // // //   button: {
// // // // // // // // // // // // // // // // //     backgroundColor: "#6D4C41",
// // // // // // // // // // // // // // // // //     padding: 15,
// // // // // // // // // // // // // // // // //     borderRadius: 10,
// // // // // // // // // // // // // // // // //     alignItems: "center",
// // // // // // // // // // // // // // // // //     marginTop: 20,
// // // // // // // // // // // // // // // // //     width: "100%",
// // // // // // // // // // // // // // // // //   },
// // // // // // // // // // // // // // // // //   buttonText: {
// // // // // // // // // // // // // // // // //     color: "#FFFFFF",
// // // // // // // // // // // // // // // // //     fontSize: 18,
// // // // // // // // // // // // // // // // //     fontWeight: "bold",
// // // // // // // // // // // // // // // // //   },
// // // // // // // // // // // // // // // // //   modal: {
// // // // // // // // // // // // // // // // //     position: "absolute",
// // // // // // // // // // // // // // // // //     top: 100,
// // // // // // // // // // // // // // // // //     left: 40,
// // // // // // // // // // // // // // // // //     right: 40,
// // // // // // // // // // // // // // // // //     padding: 20,
// // // // // // // // // // // // // // // // //     backgroundColor: "#fff",
// // // // // // // // // // // // // // // // //     borderRadius: 12,
// // // // // // // // // // // // // // // // //     shadowColor: "#000",
// // // // // // // // // // // // // // // // //     shadowOpacity: 0.3,
// // // // // // // // // // // // // // // // //     shadowRadius: 10,
// // // // // // // // // // // // // // // // //     elevation: 10,
// // // // // // // // // // // // // // // // //     alignItems: "center",
// // // // // // // // // // // // // // // // //   },
// // // // // // // // // // // // // // // // //   modalText: {
// // // // // // // // // // // // // // // // //     fontSize: 16,
// // // // // // // // // // // // // // // // //     color: "#333",
// // // // // // // // // // // // // // // // //     textAlign: "center",
// // // // // // // // // // // // // // // // //   },
// // // // // // // // // // // // // // // // // });

// // // // // // // // // // // // // // // // import React, { useState, useRef } from "react";
// // // // // // // // // // // // // // // // import {
// // // // // // // // // // // // // // // //   View,
// // // // // // // // // // // // // // // //   Text,
// // // // // // // // // // // // // // // //   TextInput,
// // // // // // // // // // // // // // // //   StyleSheet,
// // // // // // // // // // // // // // // //   TouchableOpacity,
// // // // // // // // // // // // // // // //   ScrollView,
// // // // // // // // // // // // // // // //   Keyboard,
// // // // // // // // // // // // // // // //   TouchableWithoutFeedback,
// // // // // // // // // // // // // // // //   Modal,
// // // // // // // // // // // // // // // //   Animated,
// // // // // // // // // // // // // // // //   Platform,
// // // // // // // // // // // // // // // // } from "react-native";
// // // // // // // // // // // // // // // // import { DatePickerAndroid, DatePickerIOS } from "react-native";

// // // // // // // // // // // // // // // // export default function FormScreen() {
// // // // // // // // // // // // // // // //   const [formData, setFormData] = useState({
// // // // // // // // // // // // // // // //     name: "",
// // // // // // // // // // // // // // // //     fatherName: "",
// // // // // // // // // // // // // // // //     motherName: "",
// // // // // // // // // // // // // // // //     country: "",
// // // // // // // // // // // // // // // //     cityName: "",
// // // // // // // // // // // // // // // //     age: "",
// // // // // // // // // // // // // // // //     dateOfBirth: "",
// // // // // // // // // // // // // // // //     gender: "",
// // // // // // // // // // // // // // // //     status: "",
// // // // // // // // // // // // // // // //     whatsappNumber: "",
// // // // // // // // // // // // // // // //     email: "",
// // // // // // // // // // // // // // // //     natureOfBait: "",
// // // // // // // // // // // // // // // //   });

// // // // // // // // // // // // // // // //   const [errors, setErrors] = useState({});
// // // // // // // // // // // // // // // //   const [showModal, setShowModal] = useState(false);
// // // // // // // // // // // // // // // //   const [modalMsg, setModalMsg] = useState("");
// // // // // // // // // // // // // // // //   const slideAnim = useRef(new Animated.Value(-300)).current;

// // // // // // // // // // // // // // // //   const handleChange = (key, value) => {
// // // // // // // // // // // // // // // //     setFormData((prev) => ({ ...prev, [key]: value }));
// // // // // // // // // // // // // // // //     setErrors((prev) => ({ ...prev, [key]: null }));
// // // // // // // // // // // // // // // //   };

// // // // // // // // // // // // // // // //   const validateForm = () => {
// // // // // // // // // // // // // // // //     const newErrors = {};

// // // // // // // // // // // // // // // //     Object.entries(formData).forEach(([key, value]) => {
// // // // // // // // // // // // // // // //       if (!value) {
// // // // // // // // // // // // // // // //         newErrors[key] = `Please fill in the ${formatKey(key)}`;
// // // // // // // // // // // // // // // //       } else {
// // // // // // // // // // // // // // // //         if (key === "email" && !value.endsWith("@gmail.com")) {
// // // // // // // // // // // // // // // //           newErrors[key] = "Only Gmail addresses allowed";
// // // // // // // // // // // // // // // //         }
// // // // // // // // // // // // // // // //         if (["age", "whatsappNumber"].includes(key) && isNaN(value)) {
// // // // // // // // // // // // // // // //           newErrors[key] = `${formatKey(key)} must be a number`;
// // // // // // // // // // // // // // // //         }
// // // // // // // // // // // // // // // //       }
// // // // // // // // // // // // // // // //     });

// // // // // // // // // // // // // // // //     setErrors(newErrors);
// // // // // // // // // // // // // // // //     return Object.keys(newErrors).length === 0;
// // // // // // // // // // // // // // // //   };

// // // // // // // // // // // // // // // //   const formatKey = (key) =>
// // // // // // // // // // // // // // // //     key.replace(/([A-Z])/g, " $1").replace(/^./, (s) => s.toUpperCase());

// // // // // // // // // // // // // // // //   const showAnimatedModal = (msg) => {
// // // // // // // // // // // // // // // //     setModalMsg(msg);
// // // // // // // // // // // // // // // //     setShowModal(true);
// // // // // // // // // // // // // // // //     Animated.timing(slideAnim, {
// // // // // // // // // // // // // // // //       toValue: 0,
// // // // // // // // // // // // // // // //       duration: 400,
// // // // // // // // // // // // // // // //       easing: Easing.out(Easing.exp),
// // // // // // // // // // // // // // // //       useNativeDriver: true,
// // // // // // // // // // // // // // // //     }).start(() => {
// // // // // // // // // // // // // // // //       setTimeout(() => {
// // // // // // // // // // // // // // // //         Animated.timing(slideAnim, {
// // // // // // // // // // // // // // // //           toValue: -300,
// // // // // // // // // // // // // // // //           duration: 300,
// // // // // // // // // // // // // // // //           easing: Easing.in(Easing.exp),
// // // // // // // // // // // // // // // //           useNativeDriver: true,
// // // // // // // // // // // // // // // //         }).start(() => {
// // // // // // // // // // // // // // // //           setShowModal(false);
// // // // // // // // // // // // // // // //         });
// // // // // // // // // // // // // // // //       }, 2500);
// // // // // // // // // // // // // // // //     });
// // // // // // // // // // // // // // // //   };

// // // // // // // // // // // // // // // //   const handleSubmit = async () => {
// // // // // // // // // // // // // // // //     if (!validateForm()) {
// // // // // // // // // // // // // // // //       showAnimatedModal("Please fix the errors above.");
// // // // // // // // // // // // // // // //       return;
// // // // // // // // // // // // // // // //     }

// // // // // // // // // // // // // // // //     try {
// // // // // // // // // // // // // // // //       const response = await fetch(
// // // // // // // // // // // // // // // //         "https://rohaniyatweb-production-99fc.up.railway.app/api/email",
// // // // // // // // // // // // // // // //         {
// // // // // // // // // // // // // // // //           method: "POST",
// // // // // // // // // // // // // // // //           headers: { "Content-Type": "application/json" },
// // // // // // // // // // // // // // // //           body: JSON.stringify(formData),
// // // // // // // // // // // // // // // //         }
// // // // // // // // // // // // // // // //       );

// // // // // // // // // // // // // // // //       const data = await response.json();

// // // // // // // // // // // // // // // //       if (response.ok) {
// // // // // // // // // // // // // // // //         showAnimatedModal("Form submitted successfully!");
// // // // // // // // // // // // // // // //         setFormData({
// // // // // // // // // // // // // // // //           name: "",
// // // // // // // // // // // // // // // //           fatherName: "",
// // // // // // // // // // // // // // // //           motherName: "",
// // // // // // // // // // // // // // // //           country: "",
// // // // // // // // // // // // // // // //           cityName: "",
// // // // // // // // // // // // // // // //           age: "",
// // // // // // // // // // // // // // // //           dateOfBirth: "",
// // // // // // // // // // // // // // // //           gender: "",
// // // // // // // // // // // // // // // //           status: "",
// // // // // // // // // // // // // // // //           whatsappNumber: "",
// // // // // // // // // // // // // // // //           email: "",
// // // // // // // // // // // // // // // //           natureOfBait: "",
// // // // // // // // // // // // // // // //         });
// // // // // // // // // // // // // // // //       } else {
// // // // // // // // // // // // // // // //         showAnimatedModal(data.error || "Submission failed.");
// // // // // // // // // // // // // // // //       }
// // // // // // // // // // // // // // // //     } catch (error) {
// // // // // // // // // // // // // // // //       console.error(error);
// // // // // // // // // // // // // // // //       showAnimatedModal("Something went wrong.");
// // // // // // // // // // // // // // // //     }
// // // // // // // // // // // // // // // //   };

// // // // // // // // // // // // // // // //   const handleDateChange = () => {
// // // // // // // // // // // // // // // //     if (Platform.OS === "android") {
// // // // // // // // // // // // // // // //       DatePickerAndroid.open({
// // // // // // // // // // // // // // // //         date: new Date(formData.dateOfBirth || new Date()),
// // // // // // // // // // // // // // // //       }).then((response) => {
// // // // // // // // // // // // // // // //         if (response.action !== DatePickerAndroid.dismissedAction) {
// // // // // // // // // // // // // // // //           const selectedDate = new Date(
// // // // // // // // // // // // // // // //             response.year,
// // // // // // // // // // // // // // // //             response.month,
// // // // // // // // // // // // // // // //             response.day
// // // // // // // // // // // // // // // //           );
// // // // // // // // // // // // // // // //           const formatted = selectedDate.toISOString().split("T")[0]; // format the date as 'YYYY-MM-DD'
// // // // // // // // // // // // // // // //           handleChange("dateOfBirth", formatted); // store formatted date in the form data state
// // // // // // // // // // // // // // // //         }
// // // // // // // // // // // // // // // //       });
// // // // // // // // // // // // // // // //     } else if (Platform.OS === "ios") {
// // // // // // // // // // // // // // // //       // For iOS, DatePickerIOS is used
// // // // // // // // // // // // // // // //       setShowDatePicker(true);
// // // // // // // // // // // // // // // //     }
// // // // // // // // // // // // // // // //   };

// // // // // // // // // // // // // // // //   return (
// // // // // // // // // // // // // // // //     <TouchableWithoutFeedback onPress={Keyboard.dismiss}>
// // // // // // // // // // // // // // // //       <ScrollView contentContainerStyle={styles.container}>
// // // // // // // // // // // // // // // //         <Text style={styles.heading}>📜 Form Submission</Text>

// // // // // // // // // // // // // // // //         {Object.keys(formData).map((key) => {
// // // // // // // // // // // // // // // //           if (key === "dateOfBirth") {
// // // // // // // // // // // // // // // //             return (
// // // // // // // // // // // // // // // //               <View key={key} style={{ width: "100%", marginBottom: 12 }}>
// // // // // // // // // // // // // // // //                 <TouchableOpacity
// // // // // // // // // // // // // // // //                   onPress={handleDateChange}
// // // // // // // // // // // // // // // //                   style={styles.input}
// // // // // // // // // // // // // // // //                 >
// // // // // // // // // // // // // // // //                   <Text style={{ color: formData[key] ? "#000" : "#999" }}>
// // // // // // // // // // // // // // // //                     {formData[key] || "Date Of Birth"}
// // // // // // // // // // // // // // // //                   </Text>
// // // // // // // // // // // // // // // //                 </TouchableOpacity>
// // // // // // // // // // // // // // // //                 {errors[key] && <Text style={styles.error}>{errors[key]}</Text>}
// // // // // // // // // // // // // // // //                 {showDatePicker && (
// // // // // // // // // // // // // // // //                   <DatePickerIOS
// // // // // // // // // // // // // // // //                     date={new Date(formData[key] || new Date())}
// // // // // // // // // // // // // // // //                     onDateChange={(newDate) => {
// // // // // // // // // // // // // // // //                       const formatted = newDate.toISOString().split("T")[0];
// // // // // // // // // // // // // // // //                       handleChange("dateOfBirth", formatted);
// // // // // // // // // // // // // // // //                     }}
// // // // // // // // // // // // // // // //                   />
// // // // // // // // // // // // // // // //                 )}
// // // // // // // // // // // // // // // //               </View>
// // // // // // // // // // // // // // // //             );
// // // // // // // // // // // // // // // //           }

// // // // // // // // // // // // // // // //           return (
// // // // // // // // // // // // // // // //             <View key={key} style={{ width: "100%", marginBottom: 12 }}>
// // // // // // // // // // // // // // // //               <TextInput
// // // // // // // // // // // // // // // //                 style={styles.input}
// // // // // // // // // // // // // // // //                 placeholder={formatKey(key)}
// // // // // // // // // // // // // // // //                 value={formData[key]}
// // // // // // // // // // // // // // // //                 onChangeText={(text) => handleChange(key, text)}
// // // // // // // // // // // // // // // //                 keyboardType={
// // // // // // // // // // // // // // // //                   key === "email"
// // // // // // // // // // // // // // // //                     ? "email-address"
// // // // // // // // // // // // // // // //                     : ["age", "whatsappNumber"].includes(key)
// // // // // // // // // // // // // // // //                     ? "numeric"
// // // // // // // // // // // // // // // //                     : "default"
// // // // // // // // // // // // // // // //                 }
// // // // // // // // // // // // // // // //               />
// // // // // // // // // // // // // // // //               {errors[key] && <Text style={styles.error}>{errors[key]}</Text>}
// // // // // // // // // // // // // // // //             </View>
// // // // // // // // // // // // // // // //           );
// // // // // // // // // // // // // // // //         })}

// // // // // // // // // // // // // // // //         <TouchableOpacity style={styles.button} onPress={handleSubmit}>
// // // // // // // // // // // // // // // //           <Text style={styles.buttonText}>📩 Submit</Text>
// // // // // // // // // // // // // // // //         </TouchableOpacity>

// // // // // // // // // // // // // // // //         <Modal transparent visible={showModal} animationType="none">
// // // // // // // // // // // // // // // //           <Animated.View
// // // // // // // // // // // // // // // //             style={[
// // // // // // // // // // // // // // // //               styles.modal,
// // // // // // // // // // // // // // // //               {
// // // // // // // // // // // // // // // //                 transform: [{ translateY: slideAnim }],
// // // // // // // // // // // // // // // //               },
// // // // // // // // // // // // // // // //             ]}
// // // // // // // // // // // // // // // //           >
// // // // // // // // // // // // // // // //             <Text style={styles.modalText}>{modalMsg}</Text>
// // // // // // // // // // // // // // // //           </Animated.View>
// // // // // // // // // // // // // // // //         </Modal>
// // // // // // // // // // // // // // // //       </ScrollView>
// // // // // // // // // // // // // // // //     </TouchableWithoutFeedback>
// // // // // // // // // // // // // // // //   );
// // // // // // // // // // // // // // // // }

// // // // // // // // // // // // // // // // const styles = StyleSheet.create({
// // // // // // // // // // // // // // // //   container: {
// // // // // // // // // // // // // // // //     flexGrow: 1,
// // // // // // // // // // // // // // // //     padding: 20,
// // // // // // // // // // // // // // // //     backgroundColor: "#FAF3E0",
// // // // // // // // // // // // // // // //     alignItems: "center",
// // // // // // // // // // // // // // // //   },
// // // // // // // // // // // // // // // //   heading: {
// // // // // // // // // // // // // // // //     fontSize: 26,
// // // // // // // // // // // // // // // //     fontWeight: "bold",
// // // // // // // // // // // // // // // //     color: "#4A3F35",
// // // // // // // // // // // // // // // //     marginBottom: 20,
// // // // // // // // // // // // // // // //     textAlign: "center",
// // // // // // // // // // // // // // // //   },
// // // // // // // // // // // // // // // //   input: {
// // // // // // // // // // // // // // // //     width: "100%",
// // // // // // // // // // // // // // // //     padding: 12,
// // // // // // // // // // // // // // // //     borderWidth: 1,
// // // // // // // // // // // // // // // //     borderColor: "#8D6E63",
// // // // // // // // // // // // // // // //     borderRadius: 10,
// // // // // // // // // // // // // // // //     backgroundColor: "#FFFFFF",
// // // // // // // // // // // // // // // //     fontSize: 16,
// // // // // // // // // // // // // // // //   },
// // // // // // // // // // // // // // // //   error: {
// // // // // // // // // // // // // // // //     color: "red",
// // // // // // // // // // // // // // // //     fontSize: 12,
// // // // // // // // // // // // // // // //     marginTop: 4,
// // // // // // // // // // // // // // // //   },
// // // // // // // // // // // // // // // //   button: {
// // // // // // // // // // // // // // // //     backgroundColor: "#6D4C41",
// // // // // // // // // // // // // // // //     padding: 15,
// // // // // // // // // // // // // // // //     borderRadius: 10,
// // // // // // // // // // // // // // // //     alignItems: "center",
// // // // // // // // // // // // // // // //     marginTop: 20,
// // // // // // // // // // // // // // // //     width: "100%",
// // // // // // // // // // // // // // // //   },
// // // // // // // // // // // // // // // //   buttonText: {
// // // // // // // // // // // // // // // //     color: "#FFFFFF",
// // // // // // // // // // // // // // // //     fontSize: 18,
// // // // // // // // // // // // // // // //     fontWeight: "bold",
// // // // // // // // // // // // // // // //   },
// // // // // // // // // // // // // // // //   modal: {
// // // // // // // // // // // // // // // //     position: "absolute",
// // // // // // // // // // // // // // // //     top: 100,
// // // // // // // // // // // // // // // //     left: 40,
// // // // // // // // // // // // // // // //     right: 40,
// // // // // // // // // // // // // // // //     padding: 20,
// // // // // // // // // // // // // // // //     backgroundColor: "#fff",
// // // // // // // // // // // // // // // //     borderRadius: 12,
// // // // // // // // // // // // // // // //     shadowColor: "#000",
// // // // // // // // // // // // // // // //     shadowOpacity: 0.3,
// // // // // // // // // // // // // // // //     shadowRadius: 10,
// // // // // // // // // // // // // // // //     elevation: 10,
// // // // // // // // // // // // // // // //     alignItems: "center",
// // // // // // // // // // // // // // // //   },
// // // // // // // // // // // // // // // //   modalText: {
// // // // // // // // // // // // // // // //     fontSize: 16,
// // // // // // // // // // // // // // // //     color: "#333",
// // // // // // // // // // // // // // // //     textAlign: "center",
// // // // // // // // // // // // // // // //   },
// // // // // // // // // // // // // // // // });
// // // // // // // // // // // // // // // import React, { useState, useRef } from "react";
// // // // // // // // // // // // // // // import {
// // // // // // // // // // // // // // //   View,
// // // // // // // // // // // // // // //   Text,
// // // // // // // // // // // // // // //   TextInput,
// // // // // // // // // // // // // // //   StyleSheet,
// // // // // // // // // // // // // // //   TouchableOpacity,
// // // // // // // // // // // // // // //   ScrollView,
// // // // // // // // // // // // // // //   Keyboard,
// // // // // // // // // // // // // // //   TouchableWithoutFeedback,
// // // // // // // // // // // // // // //   Modal,
// // // // // // // // // // // // // // //   Animated,
// // // // // // // // // // // // // // //   Platform,
// // // // // // // // // // // // // // // } from "react-native";
// // // // // // // // // // // // // // // import { DatePickerAndroid, DatePickerIOS } from "react-native";
// // // // // // // // // // // // // // // import { Easing } from "react-native";

// // // // // // // // // // // // // // // export default function FormScreen() {
// // // // // // // // // // // // // // //   const [formData, setFormData] = useState({
// // // // // // // // // // // // // // //     name: "",
// // // // // // // // // // // // // // //     fatherName: "",
// // // // // // // // // // // // // // //     motherName: "",
// // // // // // // // // // // // // // //     country: "",
// // // // // // // // // // // // // // //     cityName: "",
// // // // // // // // // // // // // // //     age: "",
// // // // // // // // // // // // // // //     dateOfBirth: "",
// // // // // // // // // // // // // // //     gender: "",
// // // // // // // // // // // // // // //     status: "",
// // // // // // // // // // // // // // //     whatsappNumber: "",
// // // // // // // // // // // // // // //     email: "",
// // // // // // // // // // // // // // //     natureOfBait: "",
// // // // // // // // // // // // // // //   });

// // // // // // // // // // // // // // //   const [errors, setErrors] = useState({});
// // // // // // // // // // // // // // //   const [showModal, setShowModal] = useState(false);
// // // // // // // // // // // // // // //   const [modalMsg, setModalMsg] = useState("");
// // // // // // // // // // // // // // //   const [showDatePicker, setShowDatePicker] = useState(false); // ✅ Added state
// // // // // // // // // // // // // // //   const slideAnim = useRef(new Animated.Value(-300)).current;

// // // // // // // // // // // // // // //   const handleChange = (key, value) => {
// // // // // // // // // // // // // // //     setFormData((prev) => ({ ...prev, [key]: value }));
// // // // // // // // // // // // // // //     setErrors((prev) => ({ ...prev, [key]: null }));
// // // // // // // // // // // // // // //   };

// // // // // // // // // // // // // // //   const validateForm = () => {
// // // // // // // // // // // // // // //     const newErrors = {};
// // // // // // // // // // // // // // //     Object.entries(formData).forEach(([key, value]) => {
// // // // // // // // // // // // // // //       if (!value) {
// // // // // // // // // // // // // // //         newErrors[key] = `Please fill in the ${formatKey(key)}`;
// // // // // // // // // // // // // // //       } else {
// // // // // // // // // // // // // // //         if (key === "email" && !value.endsWith("@gmail.com")) {
// // // // // // // // // // // // // // //           newErrors[key] = "Only Gmail addresses allowed";
// // // // // // // // // // // // // // //         }
// // // // // // // // // // // // // // //         if (["age", "whatsappNumber"].includes(key) && isNaN(value)) {
// // // // // // // // // // // // // // //           newErrors[key] = `${formatKey(key)} must be a number`;
// // // // // // // // // // // // // // //         }
// // // // // // // // // // // // // // //       }
// // // // // // // // // // // // // // //     });
// // // // // // // // // // // // // // //     setErrors(newErrors);
// // // // // // // // // // // // // // //     return Object.keys(newErrors).length === 0;
// // // // // // // // // // // // // // //   };

// // // // // // // // // // // // // // //   const formatKey = (key) =>
// // // // // // // // // // // // // // //     key.replace(/([A-Z])/g, " $1").replace(/^./, (s) => s.toUpperCase());

// // // // // // // // // // // // // // //   const showAnimatedModal = (msg) => {
// // // // // // // // // // // // // // //     setModalMsg(msg);
// // // // // // // // // // // // // // //     setShowModal(true);
// // // // // // // // // // // // // // //     Animated.timing(slideAnim, {
// // // // // // // // // // // // // // //       toValue: 0,
// // // // // // // // // // // // // // //       duration: 400,
// // // // // // // // // // // // // // //       easing: Easing.out(Easing.exp),
// // // // // // // // // // // // // // //       useNativeDriver: true,
// // // // // // // // // // // // // // //     }).start(() => {
// // // // // // // // // // // // // // //       setTimeout(() => {
// // // // // // // // // // // // // // //         Animated.timing(slideAnim, {
// // // // // // // // // // // // // // //           toValue: -300,
// // // // // // // // // // // // // // //           duration: 300,
// // // // // // // // // // // // // // //           easing: Easing.in(Easing.exp),
// // // // // // // // // // // // // // //           useNativeDriver: true,
// // // // // // // // // // // // // // //         }).start(() => {
// // // // // // // // // // // // // // //           setShowModal(false);
// // // // // // // // // // // // // // //         });
// // // // // // // // // // // // // // //       }, 2500);
// // // // // // // // // // // // // // //     });
// // // // // // // // // // // // // // //   };

// // // // // // // // // // // // // // //   const handleSubmit = async () => {
// // // // // // // // // // // // // // //     if (!validateForm()) {
// // // // // // // // // // // // // // //       showAnimatedModal("Please fix the errors above.");
// // // // // // // // // // // // // // //       return;
// // // // // // // // // // // // // // //     }

// // // // // // // // // // // // // // //     try {
// // // // // // // // // // // // // // //       const response = await fetch(
// // // // // // // // // // // // // // //         "https://rohaniyatweb-production-99fc.up.railway.app/api/email",
// // // // // // // // // // // // // // //         {
// // // // // // // // // // // // // // //           method: "POST",
// // // // // // // // // // // // // // //           headers: { "Content-Type": "application/json" },
// // // // // // // // // // // // // // //           body: JSON.stringify(formData),
// // // // // // // // // // // // // // //         }
// // // // // // // // // // // // // // //       );

// // // // // // // // // // // // // // //       const data = await response.json();

// // // // // // // // // // // // // // //       if (response.ok) {
// // // // // // // // // // // // // // //         showAnimatedModal("Form submitted successfully!");
// // // // // // // // // // // // // // //         setFormData({
// // // // // // // // // // // // // // //           name: "",
// // // // // // // // // // // // // // //           fatherName: "",
// // // // // // // // // // // // // // //           motherName: "",
// // // // // // // // // // // // // // //           country: "",
// // // // // // // // // // // // // // //           cityName: "",
// // // // // // // // // // // // // // //           age: "",
// // // // // // // // // // // // // // //           dateOfBirth: "",
// // // // // // // // // // // // // // //           gender: "",
// // // // // // // // // // // // // // //           status: "",
// // // // // // // // // // // // // // //           whatsappNumber: "",
// // // // // // // // // // // // // // //           email: "",
// // // // // // // // // // // // // // //           natureOfBait: "",
// // // // // // // // // // // // // // //         });
// // // // // // // // // // // // // // //         setShowDatePicker(false);
// // // // // // // // // // // // // // //       } else {
// // // // // // // // // // // // // // //         showAnimatedModal(data.error || "Submission failed.");
// // // // // // // // // // // // // // //       }
// // // // // // // // // // // // // // //     } catch (error) {
// // // // // // // // // // // // // // //       console.error(error);
// // // // // // // // // // // // // // //       showAnimatedModal("Something went wrong.");
// // // // // // // // // // // // // // //     }
// // // // // // // // // // // // // // //   };

// // // // // // // // // // // // // // //   const handleDateChange = () => {
// // // // // // // // // // // // // // //     if (Platform.OS === "android") {
// // // // // // // // // // // // // // //       DatePickerAndroid.open({
// // // // // // // // // // // // // // //         date: new Date(formData.dateOfBirth || new Date()),
// // // // // // // // // // // // // // //       }).then((response) => {
// // // // // // // // // // // // // // //         if (response.action !== DatePickerAndroid.dismissedAction) {
// // // // // // // // // // // // // // //           const selectedDate = new Date(
// // // // // // // // // // // // // // //             response.year,
// // // // // // // // // // // // // // //             response.month,
// // // // // // // // // // // // // // //             response.day
// // // // // // // // // // // // // // //           );
// // // // // // // // // // // // // // //           const formatted = selectedDate.toISOString().split("T")[0];
// // // // // // // // // // // // // // //           handleChange("dateOfBirth", formatted);
// // // // // // // // // // // // // // //         }
// // // // // // // // // // // // // // //       });
// // // // // // // // // // // // // // //     } else if (Platform.OS === "ios") {
// // // // // // // // // // // // // // //       setShowDatePicker(true);
// // // // // // // // // // // // // // //     }
// // // // // // // // // // // // // // //   };

// // // // // // // // // // // // // // //   return (
// // // // // // // // // // // // // // //     <TouchableWithoutFeedback onPress={Keyboard.dismiss}>
// // // // // // // // // // // // // // //       <ScrollView contentContainerStyle={styles.container}>
// // // // // // // // // // // // // // //         <Text style={styles.heading}>📜 Form Submission</Text>

// // // // // // // // // // // // // // //         {Object.keys(formData).map((key) => {
// // // // // // // // // // // // // // //           if (key === "dateOfBirth") {
// // // // // // // // // // // // // // //             return (
// // // // // // // // // // // // // // //               <View key={key} style={{ width: "100%", marginBottom: 12 }}>
// // // // // // // // // // // // // // //                 <TouchableOpacity
// // // // // // // // // // // // // // //                   onPress={handleDateChange}
// // // // // // // // // // // // // // //                   style={styles.input}
// // // // // // // // // // // // // // //                 >
// // // // // // // // // // // // // // //                   <Text style={{ color: formData[key] ? "#000" : "#999" }}>
// // // // // // // // // // // // // // //                     {formData[key] || "Date Of Birth"}
// // // // // // // // // // // // // // //                   </Text>
// // // // // // // // // // // // // // //                 </TouchableOpacity>
// // // // // // // // // // // // // // //                 {errors[key] && <Text style={styles.error}>{errors[key]}</Text>}
// // // // // // // // // // // // // // //                 {Platform.OS === "ios" && showDatePicker && (
// // // // // // // // // // // // // // //                   <DatePickerIOS
// // // // // // // // // // // // // // //                     date={formData[key] ? new Date(formData[key]) : new Date()}
// // // // // // // // // // // // // // //                     mode="date"
// // // // // // // // // // // // // // //                     onDateChange={(newDate) => {
// // // // // // // // // // // // // // //                       const formatted = newDate.toISOString().split("T")[0];
// // // // // // // // // // // // // // //                       handleChange("dateOfBirth", formatted);
// // // // // // // // // // // // // // //                       setShowDatePicker(false); // hide after selection
// // // // // // // // // // // // // // //                     }}
// // // // // // // // // // // // // // //                   />
// // // // // // // // // // // // // // //                 )}
// // // // // // // // // // // // // // //               </View>
// // // // // // // // // // // // // // //             );
// // // // // // // // // // // // // // //           }

// // // // // // // // // // // // // // //           return (
// // // // // // // // // // // // // // //             <View key={key} style={{ width: "100%", marginBottom: 12 }}>
// // // // // // // // // // // // // // //               <TextInput
// // // // // // // // // // // // // // //                 style={styles.input}
// // // // // // // // // // // // // // //                 placeholder={formatKey(key)}
// // // // // // // // // // // // // // //                 value={formData[key]}
// // // // // // // // // // // // // // //                 onChangeText={(text) => handleChange(key, text)}
// // // // // // // // // // // // // // //                 keyboardType={
// // // // // // // // // // // // // // //                   key === "email"
// // // // // // // // // // // // // // //                     ? "email-address"
// // // // // // // // // // // // // // //                     : ["age", "whatsappNumber"].includes(key)
// // // // // // // // // // // // // // //                     ? "numeric"
// // // // // // // // // // // // // // //                     : "default"
// // // // // // // // // // // // // // //                 }
// // // // // // // // // // // // // // //               />
// // // // // // // // // // // // // // //               {errors[key] && <Text style={styles.error}>{errors[key]}</Text>}
// // // // // // // // // // // // // // //             </View>
// // // // // // // // // // // // // // //           );
// // // // // // // // // // // // // // //         })}

// // // // // // // // // // // // // // //         <TouchableOpacity style={styles.button} onPress={handleSubmit}>
// // // // // // // // // // // // // // //           <Text style={styles.buttonText}>📩 Submit</Text>
// // // // // // // // // // // // // // //         </TouchableOpacity>

// // // // // // // // // // // // // // //         <Modal transparent visible={showModal} animationType="none">
// // // // // // // // // // // // // // //           <Animated.View
// // // // // // // // // // // // // // //             style={[
// // // // // // // // // // // // // // //               styles.modal,
// // // // // // // // // // // // // // //               {
// // // // // // // // // // // // // // //                 transform: [{ translateY: slideAnim }],
// // // // // // // // // // // // // // //               },
// // // // // // // // // // // // // // //             ]}
// // // // // // // // // // // // // // //           >
// // // // // // // // // // // // // // //             <Text style={styles.modalText}>{modalMsg}</Text>
// // // // // // // // // // // // // // //           </Animated.View>
// // // // // // // // // // // // // // //         </Modal>
// // // // // // // // // // // // // // //       </ScrollView>
// // // // // // // // // // // // // // //     </TouchableWithoutFeedback>
// // // // // // // // // // // // // // //   );
// // // // // // // // // // // // // // // }

// // // // // // // // // // // // // // // const styles = StyleSheet.create({
// // // // // // // // // // // // // // //   container: {
// // // // // // // // // // // // // // //     flexGrow: 1,
// // // // // // // // // // // // // // //     padding: 20,
// // // // // // // // // // // // // // //     backgroundColor: "#FAF3E0",
// // // // // // // // // // // // // // //     alignItems: "center",
// // // // // // // // // // // // // // //   },
// // // // // // // // // // // // // // //   heading: {
// // // // // // // // // // // // // // //     fontSize: 26,
// // // // // // // // // // // // // // //     fontWeight: "bold",
// // // // // // // // // // // // // // //     color: "#4A3F35",
// // // // // // // // // // // // // // //     marginBottom: 20,
// // // // // // // // // // // // // // //     textAlign: "center",
// // // // // // // // // // // // // // //   },
// // // // // // // // // // // // // // //   input: {
// // // // // // // // // // // // // // //     width: "100%",
// // // // // // // // // // // // // // //     padding: 12,
// // // // // // // // // // // // // // //     borderWidth: 1,
// // // // // // // // // // // // // // //     borderColor: "#8D6E63",
// // // // // // // // // // // // // // //     borderRadius: 10,
// // // // // // // // // // // // // // //     backgroundColor: "#FFFFFF",
// // // // // // // // // // // // // // //     fontSize: 16,
// // // // // // // // // // // // // // //   },
// // // // // // // // // // // // // // //   error: {
// // // // // // // // // // // // // // //     color: "red",
// // // // // // // // // // // // // // //     fontSize: 12,
// // // // // // // // // // // // // // //     marginTop: 4,
// // // // // // // // // // // // // // //   },
// // // // // // // // // // // // // // //   button: {
// // // // // // // // // // // // // // //     backgroundColor: "#6D4C41",
// // // // // // // // // // // // // // //     padding: 15,
// // // // // // // // // // // // // // //     borderRadius: 10,
// // // // // // // // // // // // // // //     alignItems: "center",
// // // // // // // // // // // // // // //     marginTop: 20,
// // // // // // // // // // // // // // //     width: "100%",
// // // // // // // // // // // // // // //   },
// // // // // // // // // // // // // // //   buttonText: {
// // // // // // // // // // // // // // //     color: "#FFFFFF",
// // // // // // // // // // // // // // //     fontSize: 18,
// // // // // // // // // // // // // // //     fontWeight: "bold",
// // // // // // // // // // // // // // //   },
// // // // // // // // // // // // // // //   modal: {
// // // // // // // // // // // // // // //     position: "absolute",
// // // // // // // // // // // // // // //     top: 100,
// // // // // // // // // // // // // // //     left: 40,
// // // // // // // // // // // // // // //     right: 40,
// // // // // // // // // // // // // // //     padding: 20,
// // // // // // // // // // // // // // //     backgroundColor: "#fff",
// // // // // // // // // // // // // // //     borderRadius: 12,
// // // // // // // // // // // // // // //     shadowColor: "#000",
// // // // // // // // // // // // // // //     shadowOpacity: 0.3,
// // // // // // // // // // // // // // //     shadowRadius: 10,
// // // // // // // // // // // // // // //     elevation: 10,
// // // // // // // // // // // // // // //     alignItems: "center",
// // // // // // // // // // // // // // //   },
// // // // // // // // // // // // // // //   modalText: {
// // // // // // // // // // // // // // //     fontSize: 16,
// // // // // // // // // // // // // // //     color: "#333",
// // // // // // // // // // // // // // //     textAlign: "center",
// // // // // // // // // // // // // // //   },
// // // // // // // // // // // // // // // });
// // // // // // // // // // // // // // import React, { useState, useRef } from "react";
// // // // // // // // // // // // // // import {
// // // // // // // // // // // // // //   View,
// // // // // // // // // // // // // //   Text,
// // // // // // // // // // // // // //   TextInput,
// // // // // // // // // // // // // //   StyleSheet,
// // // // // // // // // // // // // //   TouchableOpacity,
// // // // // // // // // // // // // //   ScrollView,
// // // // // // // // // // // // // //   Keyboard,
// // // // // // // // // // // // // //   TouchableWithoutFeedback,
// // // // // // // // // // // // // //   Modal,
// // // // // // // // // // // // // //   Animated,
// // // // // // // // // // // // // // } from "react-native";
// // // // // // // // // // // // // // import DateTimePicker from "@react-native-community/datetimepicker";
// // // // // // // // // // // // // // import CustomBackground from "../../../../../components/Background/Background";

// // // // // // // // // // // // // // export default function FormScreen() {
// // // // // // // // // // // // // //   const [formData, setFormData] = useState({
// // // // // // // // // // // // // //     name: "",
// // // // // // // // // // // // // //     fatherName: "",
// // // // // // // // // // // // // //     motherName: "",
// // // // // // // // // // // // // //     country: "",
// // // // // // // // // // // // // //     cityName: "",
// // // // // // // // // // // // // //     age: "",
// // // // // // // // // // // // // //     dateOfBirth: "",
// // // // // // // // // // // // // //     gender: "",
// // // // // // // // // // // // // //     status: "",
// // // // // // // // // // // // // //     whatsappNumber: "",
// // // // // // // // // // // // // //     email: "",
// // // // // // // // // // // // // //     natureOfBait: "",
// // // // // // // // // // // // // //   });

// // // // // // // // // // // // // //   const [errors, setErrors] = useState({});
// // // // // // // // // // // // // //   const [showModal, setShowModal] = useState(false);
// // // // // // // // // // // // // //   const [modalMsg, setModalMsg] = useState("");
// // // // // // // // // // // // // //   const [showDatePicker, setShowDatePicker] = useState(false);
// // // // // // // // // // // // // //   const [selectedDate, setSelectedDate] = useState(new Date());
// // // // // // // // // // // // // //   const slideAnim = useRef(new Animated.Value(-300)).current;

// // // // // // // // // // // // // //   const handleChange = (key, value) => {
// // // // // // // // // // // // // //     setFormData((prev) => ({ ...prev, [key]: value }));
// // // // // // // // // // // // // //     setErrors((prev) => ({ ...prev, [key]: null }));
// // // // // // // // // // // // // //   };

// // // // // // // // // // // // // //   const validateForm = () => {
// // // // // // // // // // // // // //     const newErrors = {};
// // // // // // // // // // // // // //     Object.entries(formData).forEach(([key, value]) => {
// // // // // // // // // // // // // //       if (!value) {
// // // // // // // // // // // // // //         newErrors[key] = `Please fill in the ${formatKey(key)}`;
// // // // // // // // // // // // // //       } else {
// // // // // // // // // // // // // //         if (key === "email" && !value.endsWith("@gmail.com")) {
// // // // // // // // // // // // // //           newErrors[key] = "Only Gmail addresses allowed";
// // // // // // // // // // // // // //         }
// // // // // // // // // // // // // //         if (["age", "whatsappNumber"].includes(key) && isNaN(value)) {
// // // // // // // // // // // // // //           newErrors[key] = `${formatKey(key)} must be a number`;
// // // // // // // // // // // // // //         }
// // // // // // // // // // // // // //       }
// // // // // // // // // // // // // //     });
// // // // // // // // // // // // // //     setErrors(newErrors);
// // // // // // // // // // // // // //     return Object.keys(newErrors).length === 0;
// // // // // // // // // // // // // //   };

// // // // // // // // // // // // // //   const formatKey = (key) =>
// // // // // // // // // // // // // //     key.replace(/([A-Z])/g, " $1").replace(/^./, (s) => s.toUpperCase());

// // // // // // // // // // // // // //   const showAnimatedModal = (msg) => {
// // // // // // // // // // // // // //     setModalMsg(msg);
// // // // // // // // // // // // // //     setShowModal(true);
// // // // // // // // // // // // // //     Animated.timing(slideAnim, {
// // // // // // // // // // // // // //       toValue: 0,
// // // // // // // // // // // // // //       duration: 700,
// // // // // // // // // // // // // //       useNativeDriver: true,
// // // // // // // // // // // // // //     }).start(() => {
// // // // // // // // // // // // // //       setTimeout(() => {
// // // // // // // // // // // // // //         Animated.timing(slideAnim, {
// // // // // // // // // // // // // //           toValue: -700,
// // // // // // // // // // // // // //           duration: 700,
// // // // // // // // // // // // // //           useNativeDriver: true,
// // // // // // // // // // // // // //         }).start(() => {
// // // // // // // // // // // // // //           setShowModal(false);
// // // // // // // // // // // // // //         });
// // // // // // // // // // // // // //       }, 2500);
// // // // // // // // // // // // // //     });
// // // // // // // // // // // // // //   };

// // // // // // // // // // // // // //   const handleSubmit = async () => {
// // // // // // // // // // // // // //     if (!validateForm()) {
// // // // // // // // // // // // // //       showAnimatedModal("Please fix the errors above.");
// // // // // // // // // // // // // //       return;
// // // // // // // // // // // // // //     }

// // // // // // // // // // // // // //     try {
// // // // // // // // // // // // // //       const response = await fetch(
// // // // // // // // // // // // // //         "https://rohaniyatweb-production-99fc.up.railway.app/api/mureed_form",
// // // // // // // // // // // // // //         {
// // // // // // // // // // // // // //           method: "POST",
// // // // // // // // // // // // // //           headers: { "Content-Type": "application/json" },
// // // // // // // // // // // // // //           body: JSON.stringify(formData),
// // // // // // // // // // // // // //         }
// // // // // // // // // // // // // //       );

// // // // // // // // // // // // // //       const data = await response.json();

// // // // // // // // // // // // // //       if (response.ok) {
// // // // // // // // // // // // // //         showAnimatedModal("Form submitted successfully!");
// // // // // // // // // // // // // //         setFormData({
// // // // // // // // // // // // // //           name: "",
// // // // // // // // // // // // // //           fatherName: "",
// // // // // // // // // // // // // //           motherName: "",
// // // // // // // // // // // // // //           country: "",
// // // // // // // // // // // // // //           cityName: "",
// // // // // // // // // // // // // //           age: "",
// // // // // // // // // // // // // //           dateOfBirth: "",
// // // // // // // // // // // // // //           gender: "",
// // // // // // // // // // // // // //           status: "",
// // // // // // // // // // // // // //           whatsappNumber: "",
// // // // // // // // // // // // // //           email: "",
// // // // // // // // // // // // // //           natureOfBait: "",
// // // // // // // // // // // // // //         });
// // // // // // // // // // // // // //       } else {
// // // // // // // // // // // // // //         showAnimatedModal(data.error || "Submission failed.");
// // // // // // // // // // // // // //       }
// // // // // // // // // // // // // //     } catch (error) {
// // // // // // // // // // // // // //       console.error(error);
// // // // // // // // // // // // // //       showAnimatedModal("Something went wrong.");
// // // // // // // // // // // // // //     }
// // // // // // // // // // // // // //   };

// // // // // // // // // // // // // //   const onDateChange = (event, date) => {
// // // // // // // // // // // // // //     if (date) {
// // // // // // // // // // // // // //       const formattedDate = date.toISOString().split("T")[0];
// // // // // // // // // // // // // //       handleChange("dateOfBirth", formattedDate);
// // // // // // // // // // // // // //       setSelectedDate(date);
// // // // // // // // // // // // // //     }
// // // // // // // // // // // // // //     setShowDatePicker(false);
// // // // // // // // // // // // // //   };

// // // // // // // // // // // // // //   return (
// // // // // // // // // // // // // //     <CustomBackground>
// // // // // // // // // // // // // //       <TouchableWithoutFeedback onPress={Keyboard.dismiss}>
// // // // // // // // // // // // // //         <ScrollView>
// // // // // // // // // // // // // //           <Text style={styles.heading}>مرید ہونے کیلئے</Text>
// // // // // // // // // // // // // //           <Text style={styles.description}>
// // // // // // // // // // // // // //             الحمد للہ اس سروس کے ذریعے ہزاروں لوگ ہمارے سلسلے میں داخل ہو رہے
// // // // // // // // // // // // // //             ہیں ان کو ای میل یا واٹس اپ کے ذریعے سلسلے کے تمام وظائف و اذکار
// // // // // // // // // // // // // //             بھیج دئے جاتے ہیں اور وقتا فوقتا ان کی رہنمائی بھی کی جاتی ہے یاد
// // // // // // // // // // // // // //             رہے تصوف اور عملیات دونوں علیحدہ علیحدہ شعبے ہیں
// // // // // // // // // // // // // //           </Text>

// // // // // // // // // // // // // //           {Object.keys(formData).map((key) => {
// // // // // // // // // // // // // //             if (key === "dateOfBirth") {
// // // // // // // // // // // // // //               return (
// // // // // // // // // // // // // //                 <View key={key} style={{ width: "100%", marginBottom: 12 }}>
// // // // // // // // // // // // // //                   <TouchableOpacity
// // // // // // // // // // // // // //                     onPress={() => setShowDatePicker(true)}
// // // // // // // // // // // // // //                     style={styles.input}
// // // // // // // // // // // // // //                   >
// // // // // // // // // // // // // //                     <Text style={{ color: formData[key] ? "#000" : "#999" }}>
// // // // // // // // // // // // // //                       {formData[key] || "Date Of Birth"}
// // // // // // // // // // // // // //                     </Text>
// // // // // // // // // // // // // //                   </TouchableOpacity>
// // // // // // // // // // // // // //                   {errors[key] && (
// // // // // // // // // // // // // //                     <Text style={styles.error}>{errors[key]}</Text>
// // // // // // // // // // // // // //                   )}
// // // // // // // // // // // // // //                   {showDatePicker && (
// // // // // // // // // // // // // //                     <DateTimePicker
// // // // // // // // // // // // // //                       value={selectedDate}
// // // // // // // // // // // // // //                       mode="date"
// // // // // // // // // // // // // //                       display="default"
// // // // // // // // // // // // // //                       onChange={onDateChange}
// // // // // // // // // // // // // //                       maximumDate={new Date()}
// // // // // // // // // // // // // //                     />
// // // // // // // // // // // // // //                   )}
// // // // // // // // // // // // // //                 </View>
// // // // // // // // // // // // // //               );
// // // // // // // // // // // // // //             }

// // // // // // // // // // // // // //             return (
// // // // // // // // // // // // // //               <View key={key} style={{ width: "100%", marginBottom: 12 }}>
// // // // // // // // // // // // // //                 <TextInput
// // // // // // // // // // // // // //                   style={styles.input}
// // // // // // // // // // // // // //                   placeholder={formatKey(key)}
// // // // // // // // // // // // // //                   value={formData[key]}
// // // // // // // // // // // // // //                   onChangeText={(text) => handleChange(key, text)}
// // // // // // // // // // // // // //                   keyboardType={
// // // // // // // // // // // // // //                     key === "email"
// // // // // // // // // // // // // //                       ? "email-address"
// // // // // // // // // // // // // //                       : ["age", "whatsappNumber"].includes(key)
// // // // // // // // // // // // // //                       ? "numeric"
// // // // // // // // // // // // // //                       : "default"
// // // // // // // // // // // // // //                   }
// // // // // // // // // // // // // //                 />
// // // // // // // // // // // // // //                 {errors[key] && <Text style={styles.error}>{errors[key]}</Text>}
// // // // // // // // // // // // // //               </View>
// // // // // // // // // // // // // //             );
// // // // // // // // // // // // // //           })}

// // // // // // // // // // // // // //           <TouchableOpacity style={styles.button} onPress={handleSubmit}>
// // // // // // // // // // // // // //             <Text style={styles.buttonText}>📩 Submit</Text>
// // // // // // // // // // // // // //           </TouchableOpacity>

// // // // // // // // // // // // // //           <Modal transparent visible={showModal} animationType="none">
// // // // // // // // // // // // // //             <Animated.View
// // // // // // // // // // // // // //               style={[
// // // // // // // // // // // // // //                 styles.modal,
// // // // // // // // // // // // // //                 {
// // // // // // // // // // // // // //                   transform: [{ translateY: slideAnim }],
// // // // // // // // // // // // // //                 },
// // // // // // // // // // // // // //               ]}
// // // // // // // // // // // // // //             >
// // // // // // // // // // // // // //               <Text style={styles.modalText}>{modalMsg}</Text>
// // // // // // // // // // // // // //             </Animated.View>
// // // // // // // // // // // // // //           </Modal>
// // // // // // // // // // // // // //         </ScrollView>
// // // // // // // // // // // // // //       </TouchableWithoutFeedback>
// // // // // // // // // // // // // //     </CustomBackground>
// // // // // // // // // // // // // //   );
// // // // // // // // // // // // // // }

// // // // // // // // // // // // // // const styles = StyleSheet.create({
// // // // // // // // // // // // // //   heading: {
// // // // // // // // // // // // // //     fontSize: 25,
// // // // // // // // // // // // // //     fontWeight: "bold",
// // // // // // // // // // // // // //     color: "#6C472D",
// // // // // // // // // // // // // //     textAlign: "center",
// // // // // // // // // // // // // //     marginBottom: 10,
// // // // // // // // // // // // // //     writingDirection: "rtl",
// // // // // // // // // // // // // //   },

// // // // // // // // // // // // // //   description: {
// // // // // // // // // // // // // //     fontSize: 18,
// // // // // // // // // // // // // //     color: "#6C472D",
// // // // // // // // // // // // // //     lineHeight: 30,
// // // // // // // // // // // // // //     textAlign: "right",
// // // // // // // // // // // // // //     writingDirection: "rtl",
// // // // // // // // // // // // // //     marginBottom: 10,
// // // // // // // // // // // // // //   },

// // // // // // // // // // // // // //   input: {
// // // // // // // // // // // // // //     width: "100%",
// // // // // // // // // // // // // //     padding: 10,
// // // // // // // // // // // // // //     color: "#6D4C41",
// // // // // // // // // // // // // //     borderRadius: 5,
// // // // // // // // // // // // // //     backgroundColor: "#EFEADF",
// // // // // // // // // // // // // //     fontSize: 16,
// // // // // // // // // // // // // //   },
// // // // // // // // // // // // // //   error: {
// // // // // // // // // // // // // //     color: "red",
// // // // // // // // // // // // // //     fontSize: 12,
// // // // // // // // // // // // // //     marginTop: 4,
// // // // // // // // // // // // // //   },
// // // // // // // // // // // // // //   button: {
// // // // // // // // // // // // // //     backgroundColor: "#6D4C41",
// // // // // // // // // // // // // //     padding: 15,
// // // // // // // // // // // // // //     borderRadius: 10,
// // // // // // // // // // // // // //     alignItems: "center",
// // // // // // // // // // // // // //     marginTop: 10,
// // // // // // // // // // // // // //     width: "100%",
// // // // // // // // // // // // // //   },
// // // // // // // // // // // // // //   buttonText: {
// // // // // // // // // // // // // //     color: "#FFFFFF",
// // // // // // // // // // // // // //     fontSize: 18,
// // // // // // // // // // // // // //     fontWeight: "bold",
// // // // // // // // // // // // // //   },
// // // // // // // // // // // // // //   modal: {
// // // // // // // // // // // // // //     position: "absolute",
// // // // // // // // // // // // // //     top: "50%",
// // // // // // // // // // // // // //     left: 40,
// // // // // // // // // // // // // //     right: 40,
// // // // // // // // // // // // // //     padding: 20,
// // // // // // // // // // // // // //     backgroundColor: "#6D4C41",
// // // // // // // // // // // // // //     borderRadius: 12,
// // // // // // // // // // // // // //     shadowColor: "#000",
// // // // // // // // // // // // // //     shadowOpacity: 0.3,
// // // // // // // // // // // // // //     shadowRadius: 10,
// // // // // // // // // // // // // //     elevation: 10,
// // // // // // // // // // // // // //     alignItems: "center",
// // // // // // // // // // // // // //   },
// // // // // // // // // // // // // //   modalText: {
// // // // // // // // // // // // // //     color: "#FFFFFF",
// // // // // // // // // // // // // //     fontSize: 18,
// // // // // // // // // // // // // //     fontWeight: "bold",
// // // // // // // // // // // // // //     textAlign: "center",
// // // // // // // // // // // // // //     padding: 15,
// // // // // // // // // // // // // //     borderRadius: 10,
// // // // // // // // // // // // // //   },
// // // // // // // // // // // // // // });

// // // // // // // // // // // // // import React, { useState, useRef } from "react";
// // // // // // // // // // // // // import {
// // // // // // // // // // // // //   View,
// // // // // // // // // // // // //   Text,
// // // // // // // // // // // // //   TextInput,
// // // // // // // // // // // // //   StyleSheet,
// // // // // // // // // // // // //   TouchableOpacity,
// // // // // // // // // // // // //   ScrollView,
// // // // // // // // // // // // //   Keyboard,
// // // // // // // // // // // // //   TouchableWithoutFeedback,
// // // // // // // // // // // // //   Modal,
// // // // // // // // // // // // //   Animated,
// // // // // // // // // // // // // } from "react-native";
// // // // // // // // // // // // // import DateTimePicker from "@react-native-community/datetimepicker";
// // // // // // // // // // // // // import { Picker } from "@react-native-picker/picker";
// // // // // // // // // // // // // import CustomBackground from "../../../../../components/Background/Background";

// // // // // // // // // // // // // export default function FormScreen() {
// // // // // // // // // // // // //   const [formData, setFormData] = useState({
// // // // // // // // // // // // //     name: "",
// // // // // // // // // // // // //     fatherName: "",
// // // // // // // // // // // // //     motherName: "",
// // // // // // // // // // // // //     country: "",
// // // // // // // // // // // // //     cityName: "",
// // // // // // // // // // // // //     age: "",
// // // // // // // // // // // // //     dateOfBirth: "",
// // // // // // // // // // // // //     gender: "",
// // // // // // // // // // // // //     status: "",
// // // // // // // // // // // // //     whatsappNumber: "",
// // // // // // // // // // // // //     email: "",
// // // // // // // // // // // // //     natureOfBait: "",
// // // // // // // // // // // // //   });

// // // // // // // // // // // // //   const [errors, setErrors] = useState({});
// // // // // // // // // // // // //   const [showModal, setShowModal] = useState(false);
// // // // // // // // // // // // //   const [modalMsg, setModalMsg] = useState("");
// // // // // // // // // // // // //   const [showDatePicker, setShowDatePicker] = useState(false);
// // // // // // // // // // // // //   const [selectedDate, setSelectedDate] = useState(new Date());
// // // // // // // // // // // // //   const slideAnim = useRef(new Animated.Value(-300)).current;

// // // // // // // // // // // // //   const handleChange = (key, value) => {
// // // // // // // // // // // // //     setFormData((prev) => ({ ...prev, [key]: value }));
// // // // // // // // // // // // //     setErrors((prev) => ({ ...prev, [key]: null }));
// // // // // // // // // // // // //   };

// // // // // // // // // // // // //   const validateForm = () => {
// // // // // // // // // // // // //     const newErrors = {};
// // // // // // // // // // // // //     Object.entries(formData).forEach(([key, value]) => {
// // // // // // // // // // // // //       if (!value) {
// // // // // // // // // // // // //         newErrors[key] = `Please fill in the ${formatKey(key)}`;
// // // // // // // // // // // // //       } else {
// // // // // // // // // // // // //         if (key === "email" && !value.endsWith("@gmail.com")) {
// // // // // // // // // // // // //           newErrors[key] = "Only Gmail addresses allowed";
// // // // // // // // // // // // //         }
// // // // // // // // // // // // //         if (["age", "whatsappNumber"].includes(key) && isNaN(value)) {
// // // // // // // // // // // // //           newErrors[key] = `${formatKey(key)} must be a number`;
// // // // // // // // // // // // //         }
// // // // // // // // // // // // //       }
// // // // // // // // // // // // //     });
// // // // // // // // // // // // //     setErrors(newErrors);
// // // // // // // // // // // // //     return Object.keys(newErrors).length === 0;
// // // // // // // // // // // // //   };

// // // // // // // // // // // // //   const formatKey = (key) =>
// // // // // // // // // // // // //     key.replace(/([A-Z])/g, " $1").replace(/^./, (s) => s.toUpperCase());

// // // // // // // // // // // // //   const showAnimatedModal = (msg) => {
// // // // // // // // // // // // //     setModalMsg(msg);
// // // // // // // // // // // // //     setShowModal(true);
// // // // // // // // // // // // //     Animated.timing(slideAnim, {
// // // // // // // // // // // // //       toValue: 0,
// // // // // // // // // // // // //       duration: 700,
// // // // // // // // // // // // //       useNativeDriver: true,
// // // // // // // // // // // // //     }).start(() => {
// // // // // // // // // // // // //       setTimeout(() => {
// // // // // // // // // // // // //         Animated.timing(slideAnim, {
// // // // // // // // // // // // //           toValue: -700,
// // // // // // // // // // // // //           duration: 700,
// // // // // // // // // // // // //           useNativeDriver: true,
// // // // // // // // // // // // //         }).start(() => {
// // // // // // // // // // // // //           setShowModal(false);
// // // // // // // // // // // // //         });
// // // // // // // // // // // // //       }, 2500);
// // // // // // // // // // // // //     });
// // // // // // // // // // // // //   };

// // // // // // // // // // // // //   const handleSubmit = async () => {
// // // // // // // // // // // // //     if (!validateForm()) {
// // // // // // // // // // // // //       showAnimatedModal("Please fix the errors above.");
// // // // // // // // // // // // //       return;
// // // // // // // // // // // // //     }

// // // // // // // // // // // // //     try {
// // // // // // // // // // // // //       const response = await fetch(
// // // // // // // // // // // // //         "https://rohaniyatweb-production-99fc.up.railway.app/api/mureed_form",
// // // // // // // // // // // // //         {
// // // // // // // // // // // // //           method: "POST",
// // // // // // // // // // // // //           headers: { "Content-Type": "application/json" },
// // // // // // // // // // // // //           body: JSON.stringify(formData),
// // // // // // // // // // // // //         }
// // // // // // // // // // // // //       );

// // // // // // // // // // // // //       const data = await response.json();

// // // // // // // // // // // // //       if (response.ok) {
// // // // // // // // // // // // //         showAnimatedModal("Form submitted successfully!");
// // // // // // // // // // // // //         setFormData({
// // // // // // // // // // // // //           name: "",
// // // // // // // // // // // // //           fatherName: "",
// // // // // // // // // // // // //           motherName: "",
// // // // // // // // // // // // //           country: "",
// // // // // // // // // // // // //           cityName: "",
// // // // // // // // // // // // //           age: "",
// // // // // // // // // // // // //           dateOfBirth: "",
// // // // // // // // // // // // //           gender: "",
// // // // // // // // // // // // //           status: "",
// // // // // // // // // // // // //           whatsappNumber: "",
// // // // // // // // // // // // //           email: "",
// // // // // // // // // // // // //           natureOfBait: "",
// // // // // // // // // // // // //         });
// // // // // // // // // // // // //       } else {
// // // // // // // // // // // // //         showAnimatedModal(data.error || "Submission failed.");
// // // // // // // // // // // // //       }
// // // // // // // // // // // // //     } catch (error) {
// // // // // // // // // // // // //       console.error(error);
// // // // // // // // // // // // //       showAnimatedModal("Something went wrong.");
// // // // // // // // // // // // //     }
// // // // // // // // // // // // //   };

// // // // // // // // // // // // //   const onDateChange = (event, date) => {
// // // // // // // // // // // // //     if (date) {
// // // // // // // // // // // // //       const formattedDate = date.toISOString().split("T")[0];
// // // // // // // // // // // // //       handleChange("dateOfBirth", formattedDate);
// // // // // // // // // // // // //       setSelectedDate(date);
// // // // // // // // // // // // //     }
// // // // // // // // // // // // //     setShowDatePicker(false);
// // // // // // // // // // // // //   };

// // // // // // // // // // // // //   return (
// // // // // // // // // // // // //     <CustomBackground>
// // // // // // // // // // // // //       <TouchableWithoutFeedback onPress={Keyboard.dismiss}>
// // // // // // // // // // // // //         <ScrollView>
// // // // // // // // // // // // //           <Text style={styles.heading}>مرید ہونے کیلئے</Text>
// // // // // // // // // // // // //           <Text style={styles.description}>
// // // // // // // // // // // // //             الحمد للہ اس سروس کے ذریعے ہزاروں لوگ ہمارے سلسلے میں داخل ہو رہے
// // // // // // // // // // // // //             ہیں ان کو ای میل یا واٹس اپ کے ذریعے سلسلے کے تمام وظائف و اذکار
// // // // // // // // // // // // //             بھیج دئے جاتے ہیں اور وقتا فوقتا ان کی رہنمائی بھی کی جاتی ہے یاد
// // // // // // // // // // // // //             رہے تصوف اور عملیات دونوں علیحدہ علیحدہ شعبے ہیں
// // // // // // // // // // // // //           </Text>

// // // // // // // // // // // // //           {Object.keys(formData).map((key) => {
// // // // // // // // // // // // //             if (key === "dateOfBirth") {
// // // // // // // // // // // // //               return (
// // // // // // // // // // // // //                 <View key={key} style={{ width: "100%", marginBottom: 12 }}>
// // // // // // // // // // // // //                   <TouchableOpacity
// // // // // // // // // // // // //                     onPress={() => setShowDatePicker(true)}
// // // // // // // // // // // // //                     style={styles.input}
// // // // // // // // // // // // //                   >
// // // // // // // // // // // // //                     <Text style={{ color: formData[key] ? "#000" : "#999" }}>
// // // // // // // // // // // // //                       {formData[key] || "Date Of Birth"}
// // // // // // // // // // // // //                     </Text>
// // // // // // // // // // // // //                   </TouchableOpacity>
// // // // // // // // // // // // //                   {errors[key] && (
// // // // // // // // // // // // //                     <Text style={styles.error}>{errors[key]}</Text>
// // // // // // // // // // // // //                   )}
// // // // // // // // // // // // //                   {showDatePicker && (
// // // // // // // // // // // // //                     <DateTimePicker
// // // // // // // // // // // // //                       value={selectedDate}
// // // // // // // // // // // // //                       mode="date"
// // // // // // // // // // // // //                       display="default"
// // // // // // // // // // // // //                       onChange={onDateChange}
// // // // // // // // // // // // //                       maximumDate={new Date()}
// // // // // // // // // // // // //                     />
// // // // // // // // // // // // //                   )}
// // // // // // // // // // // // //                 </View>
// // // // // // // // // // // // //               );
// // // // // // // // // // // // //             }

// // // // // // // // // // // // //             if (["gender", "status", "age"].includes(key)) return null;

// // // // // // // // // // // // //             return (
// // // // // // // // // // // // //               <View key={key} style={{ width: "100%", marginBottom: 12 }}>
// // // // // // // // // // // // //                 <TextInput
// // // // // // // // // // // // //                   style={styles.input}
// // // // // // // // // // // // //                   placeholder={formatKey(key)}
// // // // // // // // // // // // //                   value={formData[key]}
// // // // // // // // // // // // //                   onChangeText={(text) => handleChange(key, text)}
// // // // // // // // // // // // //                   keyboardType={
// // // // // // // // // // // // //                     key === "email"
// // // // // // // // // // // // //                       ? "email-address"
// // // // // // // // // // // // //                       : ["whatsappNumber"].includes(key)
// // // // // // // // // // // // //                       ? "numeric"
// // // // // // // // // // // // //                       : "default"
// // // // // // // // // // // // //                   }
// // // // // // // // // // // // //                 />
// // // // // // // // // // // // //                 {errors[key] && <Text style={styles.error}>{errors[key]}</Text>}
// // // // // // // // // // // // //               </View>
// // // // // // // // // // // // //             );
// // // // // // // // // // // // //           })}

// // // // // // // // // // // // //           {/* Row for Gender, Status, and Age */}
// // // // // // // // // // // // //           <View style={styles.rowContainer}>
// // // // // // // // // // // // //             <View style={styles.pickerContainer}>
// // // // // // // // // // // // //               <Picker
// // // // // // // // // // // // //                 selectedValue={formData.gender}
// // // // // // // // // // // // //                 onValueChange={(value) => handleChange("gender", value)}
// // // // // // // // // // // // //                 style={styles.picker}
// // // // // // // // // // // // //               >
// // // // // // // // // // // // //                 <Picker.Item label="Gender" value="" />
// // // // // // // // // // // // //                 <Picker.Item label="Male" value="male" />
// // // // // // // // // // // // //                 <Picker.Item label="Female" value="female" />
// // // // // // // // // // // // //                 <Picker.Item label="Other" value="other" />
// // // // // // // // // // // // //               </Picker>
// // // // // // // // // // // // //               {errors.gender && (
// // // // // // // // // // // // //                 <Text style={styles.error}>{errors.gender}</Text>
// // // // // // // // // // // // //               )}
// // // // // // // // // // // // //             </View>

// // // // // // // // // // // // //             <View style={styles.pickerContainer}>
// // // // // // // // // // // // //               <Picker
// // // // // // // // // // // // //                 selectedValue={formData.status}
// // // // // // // // // // // // //                 onValueChange={(value) => handleChange("status", value)}
// // // // // // // // // // // // //                 style={styles.picker}
// // // // // // // // // // // // //               >
// // // // // // // // // // // // //                 <Picker.Item label="Status" value="" />
// // // // // // // // // // // // //                 <Picker.Item label="Married" value="married" />
// // // // // // // // // // // // //                 <Picker.Item label="Unmarried" value="unmarried" />
// // // // // // // // // // // // //               </Picker>
// // // // // // // // // // // // //               {errors.status && (
// // // // // // // // // // // // //                 <Text style={styles.error}>{errors.status}</Text>
// // // // // // // // // // // // //               )}
// // // // // // // // // // // // //             </View>

// // // // // // // // // // // // //             <View style={{ flex: 1, marginLeft: 5 }}>
// // // // // // // // // // // // //               <TextInput
// // // // // // // // // // // // //                 style={styles.input}
// // // // // // // // // // // // //                 placeholder="Age"
// // // // // // // // // // // // //                 value={formData.age}
// // // // // // // // // // // // //                 onChangeText={(text) => handleChange("age", text)}
// // // // // // // // // // // // //                 keyboardType="numeric"
// // // // // // // // // // // // //               />
// // // // // // // // // // // // //               {errors.age && <Text style={styles.error}>{errors.age}</Text>}
// // // // // // // // // // // // //             </View>
// // // // // // // // // // // // //           </View>

// // // // // // // // // // // // //           <TouchableOpacity style={styles.button} onPress={handleSubmit}>
// // // // // // // // // // // // //             <Text style={styles.buttonText}>📩 Submit</Text>
// // // // // // // // // // // // //           </TouchableOpacity>

// // // // // // // // // // // // //           <Modal transparent visible={showModal} animationType="none">
// // // // // // // // // // // // //             <Animated.View
// // // // // // // // // // // // //               style={[
// // // // // // // // // // // // //                 styles.modal,
// // // // // // // // // // // // //                 {
// // // // // // // // // // // // //                   transform: [{ translateY: slideAnim }],
// // // // // // // // // // // // //                 },
// // // // // // // // // // // // //               ]}
// // // // // // // // // // // // //             >
// // // // // // // // // // // // //               <Text style={styles.modalText}>{modalMsg}</Text>
// // // // // // // // // // // // //             </Animated.View>
// // // // // // // // // // // // //           </Modal>
// // // // // // // // // // // // //         </ScrollView>
// // // // // // // // // // // // //       </TouchableWithoutFeedback>
// // // // // // // // // // // // //     </CustomBackground>
// // // // // // // // // // // // //   );
// // // // // // // // // // // // // }

// // // // // // // // // // // // // const styles = StyleSheet.create({
// // // // // // // // // // // // //   heading: {
// // // // // // // // // // // // //     fontSize: 25,
// // // // // // // // // // // // //     fontWeight: "bold",
// // // // // // // // // // // // //     color: "#6C472D",
// // // // // // // // // // // // //     textAlign: "center",
// // // // // // // // // // // // //     marginBottom: 10,
// // // // // // // // // // // // //     writingDirection: "rtl",
// // // // // // // // // // // // //   },
// // // // // // // // // // // // //   description: {
// // // // // // // // // // // // //     fontSize: 18,
// // // // // // // // // // // // //     color: "#6C472D",
// // // // // // // // // // // // //     lineHeight: 30,
// // // // // // // // // // // // //     textAlign: "right",
// // // // // // // // // // // // //     writingDirection: "rtl",
// // // // // // // // // // // // //     marginBottom: 10,
// // // // // // // // // // // // //   },
// // // // // // // // // // // // //   input: {
// // // // // // // // // // // // //     width: "100%",
// // // // // // // // // // // // //     padding: 10,
// // // // // // // // // // // // //     color: "#6D4C41",
// // // // // // // // // // // // //     borderRadius: 5,
// // // // // // // // // // // // //     backgroundColor: "#EFEADF",
// // // // // // // // // // // // //     fontSize: 16,
// // // // // // // // // // // // //   },
// // // // // // // // // // // // //   error: {
// // // // // // // // // // // // //     color: "red",
// // // // // // // // // // // // //     fontSize: 12,
// // // // // // // // // // // // //     marginTop: 4,
// // // // // // // // // // // // //   },
// // // // // // // // // // // // //   button: {
// // // // // // // // // // // // //     backgroundColor: "#6D4C41",
// // // // // // // // // // // // //     padding: 15,
// // // // // // // // // // // // //     borderRadius: 10,
// // // // // // // // // // // // //     alignItems: "center",
// // // // // // // // // // // // //     marginTop: 10,
// // // // // // // // // // // // //     width: "100%",
// // // // // // // // // // // // //   },
// // // // // // // // // // // // //   buttonText: {
// // // // // // // // // // // // //     color: "#FFFFFF",
// // // // // // // // // // // // //     fontSize: 18,
// // // // // // // // // // // // //     fontWeight: "bold",
// // // // // // // // // // // // //   },
// // // // // // // // // // // // //   modal: {
// // // // // // // // // // // // //     position: "absolute",
// // // // // // // // // // // // //     top: "50%",
// // // // // // // // // // // // //     left: 40,
// // // // // // // // // // // // //     right: 40,
// // // // // // // // // // // // //     padding: 20,
// // // // // // // // // // // // //     backgroundColor: "#6D4C41",
// // // // // // // // // // // // //     borderRadius: 12,
// // // // // // // // // // // // //     shadowColor: "#000",
// // // // // // // // // // // // //     shadowOpacity: 0.3,
// // // // // // // // // // // // //     shadowRadius: 10,
// // // // // // // // // // // // //     elevation: 10,
// // // // // // // // // // // // //     alignItems: "center",
// // // // // // // // // // // // //   },
// // // // // // // // // // // // //   modalText: {
// // // // // // // // // // // // //     color: "#FFFFFF",
// // // // // // // // // // // // //     fontSize: 18,
// // // // // // // // // // // // //     fontWeight: "bold",
// // // // // // // // // // // // //     textAlign: "center",
// // // // // // // // // // // // //     padding: 15,
// // // // // // // // // // // // //     borderRadius: 10,
// // // // // // // // // // // // //   },
// // // // // // // // // // // // //   rowContainer: {
// // // // // // // // // // // // //     flexDirection: "row",
// // // // // // // // // // // // //     justifyContent: "space-between",
// // // // // // // // // // // // //     gap: 5,
// // // // // // // // // // // // //     marginBottom: 12,
// // // // // // // // // // // // //   },
// // // // // // // // // // // // //   pickerContainer: {
// // // // // // // // // // // // //     flex: 1,
// // // // // // // // // // // // //     backgroundColor: "#EFEADF",
// // // // // // // // // // // // //     borderRadius: 5,
// // // // // // // // // // // // //     padding: 0,
// // // // // // // // // // // // //   },
// // // // // // // // // // // // //   picker: {
// // // // // // // // // // // // //     width: "100%",
// // // // // // // // // // // // //     height: 50,
// // // // // // // // // // // // //     color: "#6D4C41",
// // // // // // // // // // // // //   },
// // // // // // // // // // // // // });
// // // // // // // // // // // // import React, { useState, useRef } from "react";
// // // // // // // // // // // // import {
// // // // // // // // // // // //   View,
// // // // // // // // // // // //   Text,
// // // // // // // // // // // //   TextInput,
// // // // // // // // // // // //   StyleSheet,
// // // // // // // // // // // //   TouchableOpacity,
// // // // // // // // // // // //   ScrollView,
// // // // // // // // // // // //   Keyboard,
// // // // // // // // // // // //   TouchableWithoutFeedback,
// // // // // // // // // // // //   Animated,
// // // // // // // // // // // // } from "react-native";
// // // // // // // // // // // // import DateTimePicker from "@react-native-community/datetimepicker";
// // // // // // // // // // // // import { Picker } from "@react-native-picker/picker";
// // // // // // // // // // // // import CustomBackground from "../../../../../components/Background/Background";

// // // // // // // // // // // // export default function FormScreen() {
// // // // // // // // // // // //   const [formData, setFormData] = useState({
// // // // // // // // // // // //     name: "",
// // // // // // // // // // // //     fatherName: "",
// // // // // // // // // // // //     motherName: "",
// // // // // // // // // // // //     country: "",
// // // // // // // // // // // //     cityName: "",
// // // // // // // // // // // //     age: "",
// // // // // // // // // // // //     dateOfBirth: "",
// // // // // // // // // // // //     gender: "",
// // // // // // // // // // // //     status: "",
// // // // // // // // // // // //     whatsappNumber: "",
// // // // // // // // // // // //     email: "",
// // // // // // // // // // // //     natureOfBait: "",
// // // // // // // // // // // //   });

// // // // // // // // // // // //   const [errors, setErrors] = useState({});
// // // // // // // // // // // //   const [showModal, setShowModal] = useState(false);
// // // // // // // // // // // //   const [modalMsg, setModalMsg] = useState("");
// // // // // // // // // // // //   const [showDatePicker, setShowDatePicker] = useState(false);
// // // // // // // // // // // //   const [selectedDate, setSelectedDate] = useState(new Date());
// // // // // // // // // // // //   const slideAnim = useRef(new Animated.Value(-300)).current;

// // // // // // // // // // // //   const handleChange = (key, value) => {
// // // // // // // // // // // //     setFormData((prev) => ({ ...prev, [key]: value }));
// // // // // // // // // // // //     setErrors((prev) => ({ ...prev, [key]: null }));
// // // // // // // // // // // //   };

// // // // // // // // // // // //   const validateForm = () => {
// // // // // // // // // // // //     const newErrors = {};
// // // // // // // // // // // //     Object.entries(formData).forEach(([key, value]) => {
// // // // // // // // // // // //       if (!value) {
// // // // // // // // // // // //         newErrors[key] = `Please fill in the ${formatKey(key)}`;
// // // // // // // // // // // //       } else {
// // // // // // // // // // // //         if (key === "email" && !value.endsWith("@gmail.com")) {
// // // // // // // // // // // //           newErrors[key] = "Only Gmail addresses allowed";
// // // // // // // // // // // //         }
// // // // // // // // // // // //         if (["age", "whatsappNumber"].includes(key) && isNaN(value)) {
// // // // // // // // // // // //           newErrors[key] = `${formatKey(key)} must be a number`;
// // // // // // // // // // // //         }
// // // // // // // // // // // //       }
// // // // // // // // // // // //     });
// // // // // // // // // // // //     setErrors(newErrors);
// // // // // // // // // // // //     return Object.keys(newErrors).length === 0;
// // // // // // // // // // // //   };

// // // // // // // // // // // //   const formatKey = (key) =>
// // // // // // // // // // // //     key.replace(/([A-Z])/g, " $1").replace(/^./, (s) => s.toUpperCase());

// // // // // // // // // // // //   const showAnimatedModal = (msg) => {
// // // // // // // // // // // //     setModalMsg(msg);
// // // // // // // // // // // //     setShowModal(true);
// // // // // // // // // // // //     Animated.timing(slideAnim, {
// // // // // // // // // // // //       toValue: 0,
// // // // // // // // // // // //       duration: 700,
// // // // // // // // // // // //       useNativeDriver: true,
// // // // // // // // // // // //     }).start(() => {
// // // // // // // // // // // //       setTimeout(() => {
// // // // // // // // // // // //         Animated.timing(slideAnim, {
// // // // // // // // // // // //           toValue: -700,
// // // // // // // // // // // //           duration: 700,
// // // // // // // // // // // //           useNativeDriver: true,
// // // // // // // // // // // //         }).start(() => {
// // // // // // // // // // // //           setShowModal(false);
// // // // // // // // // // // //         });
// // // // // // // // // // // //       }, 2500);
// // // // // // // // // // // //     });
// // // // // // // // // // // //   };

// // // // // // // // // // // //   const handleSubmit = async () => {
// // // // // // // // // // // //     if (!validateForm()) {
// // // // // // // // // // // //       showAnimatedModal("Please fix the errors above.");
// // // // // // // // // // // //       return;
// // // // // // // // // // // //     }

// // // // // // // // // // // //     try {
// // // // // // // // // // // //       const response = await fetch(
// // // // // // // // // // // //         "https://rohaniyatweb-production-99fc.up.railway.app/api/mureed_form",
// // // // // // // // // // // //         {
// // // // // // // // // // // //           method: "POST",
// // // // // // // // // // // //           headers: { "Content-Type": "application/json" },
// // // // // // // // // // // //           body: JSON.stringify(formData),
// // // // // // // // // // // //         }
// // // // // // // // // // // //       );

// // // // // // // // // // // //       const data = await response.json();

// // // // // // // // // // // //       if (response.ok) {
// // // // // // // // // // // //         showAnimatedModal("Form submitted successfully!");
// // // // // // // // // // // //         setFormData({
// // // // // // // // // // // //           name: "",
// // // // // // // // // // // //           fatherName: "",
// // // // // // // // // // // //           motherName: "",
// // // // // // // // // // // //           country: "",
// // // // // // // // // // // //           cityName: "",
// // // // // // // // // // // //           age: "",
// // // // // // // // // // // //           dateOfBirth: "",
// // // // // // // // // // // //           gender: "",
// // // // // // // // // // // //           status: "",
// // // // // // // // // // // //           whatsappNumber: "",
// // // // // // // // // // // //           email: "",
// // // // // // // // // // // //           natureOfBait: "",
// // // // // // // // // // // //         });
// // // // // // // // // // // //       } else {
// // // // // // // // // // // //         showAnimatedModal(data.error || "Submission failed.");
// // // // // // // // // // // //       }
// // // // // // // // // // // //     } catch (error) {
// // // // // // // // // // // //       console.error(error);
// // // // // // // // // // // //       showAnimatedModal("Something went wrong.");
// // // // // // // // // // // //     }
// // // // // // // // // // // //   };

// // // // // // // // // // // //   const onDateChange = (event, date) => {
// // // // // // // // // // // //     if (date) {
// // // // // // // // // // // //       const formattedDate = date.toISOString().split("T")[0];
// // // // // // // // // // // //       handleChange("dateOfBirth", formattedDate);
// // // // // // // // // // // //       setSelectedDate(date);
// // // // // // // // // // // //     }
// // // // // // // // // // // //     setShowDatePicker(false);
// // // // // // // // // // // //   };

// // // // // // // // // // // //   return (
// // // // // // // // // // // //     <CustomBackground>
// // // // // // // // // // // //       <TouchableWithoutFeedback onPress={Keyboard.dismiss}>
// // // // // // // // // // // //         <ScrollView>
// // // // // // // // // // // //           <Text style={styles.heading}>مرید ہونے کیلئے</Text>
// // // // // // // // // // // //           <Text style={styles.description}>
// // // // // // // // // // // //             الحمد للہ اس سروس کے ذریعے ہزاروں لوگ ہمارے سلسلے میں داخل ہو رہے
// // // // // // // // // // // //             ہیں ان کو ای میل یا واٹس اپ کے ذریعے سلسلے کے تمام وظائف و اذکار
// // // // // // // // // // // //             بھیج دئے جاتے ہیں اور وقتا فوقتا ان کی رہنمائی بھی کی جاتی ہے یاد
// // // // // // // // // // // //             رہے تصوف اور عملیات دونوں علیحدہ علیحدہ شعبے ہیں
// // // // // // // // // // // //           </Text>

// // // // // // // // // // // //           {Object.keys(formData).map((key) => {
// // // // // // // // // // // //             if (key === "dateOfBirth") {
// // // // // // // // // // // //               return (
// // // // // // // // // // // //                 <View key={key} style={styles.inputWrapper}>
// // // // // // // // // // // //                   <TouchableOpacity
// // // // // // // // // // // //                     onPress={() => setShowDatePicker(true)}
// // // // // // // // // // // //                     style={styles.input}
// // // // // // // // // // // //                   >
// // // // // // // // // // // //                     <Text style={{ color: formData[key] ? "#000" : "#999" }}>
// // // // // // // // // // // //                       {formData[key] || "Date Of Birth"}
// // // // // // // // // // // //                     </Text>
// // // // // // // // // // // //                   </TouchableOpacity>
// // // // // // // // // // // //                   {errors[key] && (
// // // // // // // // // // // //                     <Text style={styles.error}>{errors[key]}</Text>
// // // // // // // // // // // //                   )}
// // // // // // // // // // // //                   {showDatePicker && (
// // // // // // // // // // // //                     <DateTimePicker
// // // // // // // // // // // //                       value={selectedDate}
// // // // // // // // // // // //                       mode="date"
// // // // // // // // // // // //                       display="default"
// // // // // // // // // // // //                       onChange={onDateChange}
// // // // // // // // // // // //                       maximumDate={new Date()}
// // // // // // // // // // // //                     />
// // // // // // // // // // // //                   )}
// // // // // // // // // // // //                 </View>
// // // // // // // // // // // //               );
// // // // // // // // // // // //             }

// // // // // // // // // // // //             if (["gender", "status", "age"].includes(key)) return null;

// // // // // // // // // // // //             return (
// // // // // // // // // // // //               <View key={key} style={styles.inputWrapper}>
// // // // // // // // // // // //                 <TextInput
// // // // // // // // // // // //                   style={styles.input}
// // // // // // // // // // // //                   placeholder={formatKey(key)}
// // // // // // // // // // // //                   value={formData[key]}
// // // // // // // // // // // //                   onChangeText={(text) => handleChange(key, text)}
// // // // // // // // // // // //                   keyboardType={
// // // // // // // // // // // //                     key === "email"
// // // // // // // // // // // //                       ? "email-address"
// // // // // // // // // // // //                       : ["whatsappNumber"].includes(key)
// // // // // // // // // // // //                       ? "numeric"
// // // // // // // // // // // //                       : "default"
// // // // // // // // // // // //                   }
// // // // // // // // // // // //                 />
// // // // // // // // // // // //                 {errors[key] && <Text style={styles.error}>{errors[key]}</Text>}
// // // // // // // // // // // //               </View>
// // // // // // // // // // // //             );
// // // // // // // // // // // //           })}

// // // // // // // // // // // //           {/* Row for Gender, Status, and Age */}
// // // // // // // // // // // //           <View style={styles.rowContainer}>
// // // // // // // // // // // //             <View style={styles.pickerContainer}>
// // // // // // // // // // // //               <Picker
// // // // // // // // // // // //                 selectedValue={formData.gender}
// // // // // // // // // // // //                 onValueChange={(value) => handleChange("gender", value)}
// // // // // // // // // // // //                 style={styles.picker}
// // // // // // // // // // // //               >
// // // // // // // // // // // //                 <Picker.Item label="Gender" value="" />
// // // // // // // // // // // //                 <Picker.Item label="Male" value="male" />
// // // // // // // // // // // //                 <Picker.Item label="Female" value="female" />
// // // // // // // // // // // //                 <Picker.Item label="Other" value="other" />
// // // // // // // // // // // //               </Picker>
// // // // // // // // // // // //               {errors.gender && (
// // // // // // // // // // // //                 <Text style={styles.error}>{errors.gender}</Text>
// // // // // // // // // // // //               )}
// // // // // // // // // // // //             </View>

// // // // // // // // // // // //             <View style={styles.pickerContainer}>
// // // // // // // // // // // //               <Picker
// // // // // // // // // // // //                 selectedValue={formData.status}
// // // // // // // // // // // //                 onValueChange={(value) => handleChange("status", value)}
// // // // // // // // // // // //                 style={styles.picker}
// // // // // // // // // // // //               >
// // // // // // // // // // // //                 <Picker.Item label="Status" value="" />
// // // // // // // // // // // //                 <Picker.Item label="Married" value="married" />
// // // // // // // // // // // //                 <Picker.Item label="Unmarried" value="unmarried" />
// // // // // // // // // // // //               </Picker>
// // // // // // // // // // // //               {errors.status && (
// // // // // // // // // // // //                 <Text style={styles.error}>{errors.status}</Text>
// // // // // // // // // // // //               )}
// // // // // // // // // // // //             </View>

// // // // // // // // // // // //             <View style={{ flex: 1, marginLeft: 5 }}>
// // // // // // // // // // // //               <TextInput
// // // // // // // // // // // //                 style={styles.input}
// // // // // // // // // // // //                 placeholder="Age"
// // // // // // // // // // // //                 value={formData.age}
// // // // // // // // // // // //                 onChangeText={(text) => handleChange("age", text)}
// // // // // // // // // // // //                 keyboardType="numeric"
// // // // // // // // // // // //               />
// // // // // // // // // // // //               {errors.age && <Text style={styles.error}>{errors.age}</Text>}
// // // // // // // // // // // //             </View>
// // // // // // // // // // // //           </View>

// // // // // // // // // // // //           <TouchableOpacity style={styles.button} onPress={handleSubmit}>
// // // // // // // // // // // //             <Text style={styles.buttonText}>📩 Submit</Text>
// // // // // // // // // // // //           </TouchableOpacity>

// // // // // // // // // // // //           {/* Modal to show form submission messages */}
// // // // // // // // // // // //           {showModal && (
// // // // // // // // // // // //             <Animated.View
// // // // // // // // // // // //               style={[styles.modal, { transform: [{ translateY: slideAnim }] }]}
// // // // // // // // // // // //             >
// // // // // // // // // // // //               <Text style={styles.modalText}>{modalMsg}</Text>
// // // // // // // // // // // //             </Animated.View>
// // // // // // // // // // // //           )}
// // // // // // // // // // // //         </ScrollView>
// // // // // // // // // // // //       </TouchableWithoutFeedback>
// // // // // // // // // // // //     </CustomBackground>
// // // // // // // // // // // //   );
// // // // // // // // // // // // }

// // // // // // // // // // // // const styles = StyleSheet.create({
// // // // // // // // // // // //   heading: {
// // // // // // // // // // // //     fontSize: 25,
// // // // // // // // // // // //     fontWeight: "bold",
// // // // // // // // // // // //     color: "#6C472D",
// // // // // // // // // // // //     textAlign: "center",
// // // // // // // // // // // //     marginBottom: 10,
// // // // // // // // // // // //     writingDirection: "rtl",
// // // // // // // // // // // //   },
// // // // // // // // // // // //   description: {
// // // // // // // // // // // //     fontSize: 18,
// // // // // // // // // // // //     color: "#6C472D",
// // // // // // // // // // // //     lineHeight: 30,
// // // // // // // // // // // //     textAlign: "right",
// // // // // // // // // // // //     writingDirection: "rtl",
// // // // // // // // // // // //     marginBottom: 10,
// // // // // // // // // // // //   },
// // // // // // // // // // // //   inputWrapper: {
// // // // // // // // // // // //     width: "100%",
// // // // // // // // // // // //     marginBottom: 12,
// // // // // // // // // // // //   },
// // // // // // // // // // // //   input: {
// // // // // // // // // // // //     width: "100%",
// // // // // // // // // // // //     padding: 10,
// // // // // // // // // // // //     color: "#6D4C41",
// // // // // // // // // // // //     borderRadius: 5,
// // // // // // // // // // // //     backgroundColor: "#EFEADF",
// // // // // // // // // // // //     fontSize: 16,
// // // // // // // // // // // //   },
// // // // // // // // // // // //   error: {
// // // // // // // // // // // //     color: "red",
// // // // // // // // // // // //     fontSize: 12,
// // // // // // // // // // // //     marginTop: 4,
// // // // // // // // // // // //   },
// // // // // // // // // // // //   button: {
// // // // // // // // // // // //     backgroundColor: "#6D4C41",
// // // // // // // // // // // //     padding: 15,
// // // // // // // // // // // //     borderRadius: 10,
// // // // // // // // // // // //     alignItems: "center",
// // // // // // // // // // // //     marginTop: 10,
// // // // // // // // // // // //     width: "100%",
// // // // // // // // // // // //   },
// // // // // // // // // // // //   buttonText: {
// // // // // // // // // // // //     color: "#FFFFFF",
// // // // // // // // // // // //     fontSize: 18,
// // // // // // // // // // // //     fontWeight: "bold",
// // // // // // // // // // // //   },
// // // // // // // // // // // //   modal: {
// // // // // // // // // // // //     position: "absolute",
// // // // // // // // // // // //     top: "50%",
// // // // // // // // // // // //     left: 40,
// // // // // // // // // // // //     right: 40,
// // // // // // // // // // // //     padding: 20,
// // // // // // // // // // // //     backgroundColor: "#6D4C41",
// // // // // // // // // // // //     borderRadius: 12,
// // // // // // // // // // // //     shadowColor: "#000",
// // // // // // // // // // // //     shadowOpacity: 0.3,
// // // // // // // // // // // //     shadowRadius: 10,
// // // // // // // // // // // //     elevation: 10,
// // // // // // // // // // // //     alignItems: "center",
// // // // // // // // // // // //   },
// // // // // // // // // // // //   modalText: {
// // // // // // // // // // // //     color: "#FFFFFF",
// // // // // // // // // // // //     fontSize: 18,
// // // // // // // // // // // //     fontWeight: "bold",
// // // // // // // // // // // //     textAlign: "center",
// // // // // // // // // // // //     padding: 15,
// // // // // // // // // // // //     borderRadius: 10,
// // // // // // // // // // // //   },
// // // // // // // // // // // //   rowContainer: {
// // // // // // // // // // // //     flexDirection: "row",
// // // // // // // // // // // //     justifyContent: "space-between",
// // // // // // // // // // // //     gap: 5,
// // // // // // // // // // // //     marginBottom: 12,
// // // // // // // // // // // //   },
// // // // // // // // // // // //   pickerContainer: {
// // // // // // // // // // // //     flex: 1,
// // // // // // // // // // // //     backgroundColor: "#EFEADF",
// // // // // // // // // // // //     borderRadius: 5,
// // // // // // // // // // // //     padding: 0,
// // // // // // // // // // // //   },
// // // // // // // // // // // //   picker: {
// // // // // // // // // // // //     width: "100%",
// // // // // // // // // // // //     height: 50,
// // // // // // // // // // // //     color: "#6D4C41",
// // // // // // // // // // // //   },
// // // // // // // // // // // // });

// // // // // // // // // // // import React, { useState, useRef } from "react";
// // // // // // // // // // // import {
// // // // // // // // // // //   View,
// // // // // // // // // // //   Text,
// // // // // // // // // // //   TextInput,
// // // // // // // // // // //   StyleSheet,
// // // // // // // // // // //   TouchableOpacity,
// // // // // // // // // // //   ScrollView,
// // // // // // // // // // //   Keyboard,
// // // // // // // // // // //   TouchableWithoutFeedback,
// // // // // // // // // // //   Animated,
// // // // // // // // // // // } from "react-native";
// // // // // // // // // // // import DateTimePicker from "@react-native-community/datetimepicker";
// // // // // // // // // // // import { Picker } from "@react-native-picker/picker";
// // // // // // // // // // // import CustomBackground from "../../../../../components/Background/Background";

// // // // // // // // // // // export default function FormScreen() {
// // // // // // // // // // //   const [formData, setFormData] = useState({
// // // // // // // // // // //     name: "",
// // // // // // // // // // //     fatherName: "",
// // // // // // // // // // //     motherName: "",
// // // // // // // // // // //     country: "",
// // // // // // // // // // //     cityName: "",
// // // // // // // // // // //     age: "",
// // // // // // // // // // //     dateOfBirth: "",
// // // // // // // // // // //     gender: "",
// // // // // // // // // // //     status: "",
// // // // // // // // // // //     whatsappNumber: "",
// // // // // // // // // // //     email: "",
// // // // // // // // // // //     natureOfBait: "",
// // // // // // // // // // //   });

// // // // // // // // // // //   const [errors, setErrors] = useState({});
// // // // // // // // // // //   const [showModal, setShowModal] = useState(false);
// // // // // // // // // // //   const [modalMsg, setModalMsg] = useState("");
// // // // // // // // // // //   const [showDatePicker, setShowDatePicker] = useState(false);
// // // // // // // // // // //   const [selectedDate, setSelectedDate] = useState(new Date());
// // // // // // // // // // //   const slideAnim = useRef(new Animated.Value(-300)).current;

// // // // // // // // // // //   const handleChange = (key, value) => {
// // // // // // // // // // //     setFormData((prev) => ({ ...prev, [key]: value }));
// // // // // // // // // // //     setErrors((prev) => ({ ...prev, [key]: null }));
// // // // // // // // // // //   };

// // // // // // // // // // //   const validateForm = () => {
// // // // // // // // // // //     const newErrors = {};
// // // // // // // // // // //     Object.entries(formData).forEach(([key, value]) => {
// // // // // // // // // // //       if (!value) {
// // // // // // // // // // //         newErrors[key] = `Please fill in the ${formatKey(key)}`;
// // // // // // // // // // //       } else {
// // // // // // // // // // //         if (key === "email" && !value.endsWith("@gmail.com")) {
// // // // // // // // // // //           newErrors[key] = "Only Gmail addresses allowed";
// // // // // // // // // // //         }
// // // // // // // // // // //         if (["age", "whatsappNumber"].includes(key) && isNaN(value)) {
// // // // // // // // // // //           newErrors[key] = `${formatKey(key)} must be a number`;
// // // // // // // // // // //         }
// // // // // // // // // // //       }
// // // // // // // // // // //     });
// // // // // // // // // // //     setErrors(newErrors);
// // // // // // // // // // //     return Object.keys(newErrors).length === 0;
// // // // // // // // // // //   };

// // // // // // // // // // //   const formatKey = (key) =>
// // // // // // // // // // //     key.replace(/([A-Z])/g, " $1").replace(/^./, (s) => s.toUpperCase());

// // // // // // // // // // //   const showAnimatedModal = (msg) => {
// // // // // // // // // // //     setModalMsg(msg);
// // // // // // // // // // //     setShowModal(true);
// // // // // // // // // // //     Animated.timing(slideAnim, {
// // // // // // // // // // //       toValue: 0,
// // // // // // // // // // //       duration: 700,
// // // // // // // // // // //       useNativeDriver: true,
// // // // // // // // // // //     }).start(() => {
// // // // // // // // // // //       setTimeout(() => {
// // // // // // // // // // //         Animated.timing(slideAnim, {
// // // // // // // // // // //           toValue: -700,
// // // // // // // // // // //           duration: 700,
// // // // // // // // // // //           useNativeDriver: true,
// // // // // // // // // // //         }).start(() => {
// // // // // // // // // // //           setShowModal(false);
// // // // // // // // // // //         });
// // // // // // // // // // //       }, 2500);
// // // // // // // // // // //     });
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleSubmit = async () => {
// // // // // // // // // // //     if (!validateForm()) {
// // // // // // // // // // //       showAnimatedModal("Please fix the errors above.");
// // // // // // // // // // //       return;
// // // // // // // // // // //     }

// // // // // // // // // // //     try {
// // // // // // // // // // //       const response = await fetch(
// // // // // // // // // // //         "https://rohaniyatweb-production-99fc.up.railway.app/api/mureed_form",
// // // // // // // // // // //         {
// // // // // // // // // // //           method: "POST",
// // // // // // // // // // //           headers: { "Content-Type": "application/json" },
// // // // // // // // // // //           body: JSON.stringify(formData),
// // // // // // // // // // //         }
// // // // // // // // // // //       );

// // // // // // // // // // //       const data = await response.json();

// // // // // // // // // // //       if (response.ok) {
// // // // // // // // // // //         showAnimatedModal("Form submitted successfully!");
// // // // // // // // // // //         setFormData({
// // // // // // // // // // //           name: "",
// // // // // // // // // // //           fatherName: "",
// // // // // // // // // // //           motherName: "",
// // // // // // // // // // //           country: "",
// // // // // // // // // // //           cityName: "",
// // // // // // // // // // //           age: "",
// // // // // // // // // // //           dateOfBirth: "",
// // // // // // // // // // //           gender: "",
// // // // // // // // // // //           status: "",
// // // // // // // // // // //           whatsappNumber: "",
// // // // // // // // // // //           email: "",
// // // // // // // // // // //           natureOfBait: "",
// // // // // // // // // // //         });
// // // // // // // // // // //       } else {
// // // // // // // // // // //         showAnimatedModal(data.error || "Submission failed.");
// // // // // // // // // // //       }
// // // // // // // // // // //     } catch (error) {
// // // // // // // // // // //       console.error(error);
// // // // // // // // // // //       showAnimatedModal("Something went wrong.");
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   const onDateChange = (event, date) => {
// // // // // // // // // // //     if (date) {
// // // // // // // // // // //       const formattedDate = date.toISOString().split("T")[0];
// // // // // // // // // // //       handleChange("dateOfBirth", formattedDate);
// // // // // // // // // // //       setSelectedDate(date);
// // // // // // // // // // //     }
// // // // // // // // // // //     setShowDatePicker(false);
// // // // // // // // // // //   };

// // // // // // // // // // //   return (
// // // // // // // // // // //     <CustomBackground>
// // // // // // // // // // //       <TouchableWithoutFeedback onPress={Keyboard.dismiss}>
// // // // // // // // // // //         <ScrollView>
// // // // // // // // // // //           <Text style={styles.heading}>مرید ہونے کیلئے</Text>
// // // // // // // // // // //           <Text style={styles.description}>
// // // // // // // // // // //             الحمد للہ اس سروس کے ذریعے ہزاروں لوگ ہمارے سلسلے میں داخل ہو رہے
// // // // // // // // // // //             ہیں ان کو ای میل یا واٹس اپ کے ذریعے سلسلے کے تمام وظائف و اذکار
// // // // // // // // // // //             بھیج دئے جاتے ہیں اور وقتا فوقتا ان کی رہنمائی بھی کی جاتی ہے یاد
// // // // // // // // // // //             رہے تصوف اور عملیات دونوں علیحدہ علیحدہ شعبے ہیں
// // // // // // // // // // //           </Text>

// // // // // // // // // // //           {Object.keys(formData).map((key) => {
// // // // // // // // // // //             if (key === "dateOfBirth") {
// // // // // // // // // // //               return (
// // // // // // // // // // //                 <View key={key} style={styles.inputWrapper}>
// // // // // // // // // // //                   <TouchableOpacity
// // // // // // // // // // //                     onPress={() => setShowDatePicker(true)}
// // // // // // // // // // //                     style={styles.input}
// // // // // // // // // // //                   >
// // // // // // // // // // //                     <Text style={{ color: formData[key] ? "#000" : "#999" }}>
// // // // // // // // // // //                       {formData[key] || "Date Of Birth"}
// // // // // // // // // // //                     </Text>
// // // // // // // // // // //                   </TouchableOpacity>
// // // // // // // // // // //                   {errors[key] && (
// // // // // // // // // // //                     <Text style={styles.error}>{errors[key]}</Text>
// // // // // // // // // // //                   )}
// // // // // // // // // // //                   {showDatePicker && (
// // // // // // // // // // //                     <DateTimePicker
// // // // // // // // // // //                       value={selectedDate}
// // // // // // // // // // //                       mode="date"
// // // // // // // // // // //                       display="default"
// // // // // // // // // // //                       onChange={onDateChange}
// // // // // // // // // // //                       maximumDate={new Date()}
// // // // // // // // // // //                     />
// // // // // // // // // // //                   )}
// // // // // // // // // // //                 </View>
// // // // // // // // // // //               );
// // // // // // // // // // //             }

// // // // // // // // // // //             if (["gender", "status", "age"].includes(key)) return null;

// // // // // // // // // // //             return (
// // // // // // // // // // //               <View key={key} style={styles.inputWrapper}>
// // // // // // // // // // //                 <TextInput
// // // // // // // // // // //                   style={styles.input}
// // // // // // // // // // //                   placeholder={formatKey(key)}
// // // // // // // // // // //                   value={formData[key]}
// // // // // // // // // // //                   onChangeText={(text) => handleChange(key, text)}
// // // // // // // // // // //                   keyboardType={
// // // // // // // // // // //                     key === "email"
// // // // // // // // // // //                       ? "email-address"
// // // // // // // // // // //                       : ["whatsappNumber"].includes(key)
// // // // // // // // // // //                       ? "numeric"
// // // // // // // // // // //                       : "default"
// // // // // // // // // // //                   }
// // // // // // // // // // //                 />
// // // // // // // // // // //                 {errors[key] && <Text style={styles.error}>{errors[key]}</Text>}
// // // // // // // // // // //               </View>
// // // // // // // // // // //             );
// // // // // // // // // // //           })}

// // // // // // // // // // //           {/* Row for Gender, Status, and Age */}
// // // // // // // // // // //           <View style={styles.rowContainer}>
// // // // // // // // // // //             <View style={styles.pickerContainer}>
// // // // // // // // // // //               <Picker
// // // // // // // // // // //                 selectedValue={formData.gender}
// // // // // // // // // // //                 onValueChange={(value) => handleChange("gender", value)}
// // // // // // // // // // //                 style={styles.picker}
// // // // // // // // // // //               >
// // // // // // // // // // //                 <Picker.Item label="Gender" value="" />
// // // // // // // // // // //                 <Picker.Item label="Male" value="male" />
// // // // // // // // // // //                 <Picker.Item label="Female" value="female" />
// // // // // // // // // // //                 <Picker.Item label="Other" value="other" />
// // // // // // // // // // //               </Picker>
// // // // // // // // // // //               {errors.gender && (
// // // // // // // // // // //                 <Text style={styles.error}>{errors.gender}</Text>
// // // // // // // // // // //               )}
// // // // // // // // // // //             </View>

// // // // // // // // // // //             <View style={styles.pickerContainer}>
// // // // // // // // // // //               <Picker
// // // // // // // // // // //                 selectedValue={formData.status}
// // // // // // // // // // //                 onValueChange={(value) => handleChange("status", value)}
// // // // // // // // // // //                 style={styles.picker}
// // // // // // // // // // //               >
// // // // // // // // // // //                 <Picker.Item label="Status" value="" />
// // // // // // // // // // //                 <Picker.Item label="Married" value="married" />
// // // // // // // // // // //                 <Picker.Item label="Unmarried" value="unmarried" />
// // // // // // // // // // //               </Picker>
// // // // // // // // // // //               {errors.status && (
// // // // // // // // // // //                 <Text style={styles.error}>{errors.status}</Text>
// // // // // // // // // // //               )}
// // // // // // // // // // //             </View>

// // // // // // // // // // //             <View style={{ flex: 1, marginLeft: 5 }}>
// // // // // // // // // // //               <TextInput
// // // // // // // // // // //                 style={styles.input}
// // // // // // // // // // //                 placeholder="Age"
// // // // // // // // // // //                 value={formData.age}
// // // // // // // // // // //                 onChangeText={(text) => handleChange("age", text)}
// // // // // // // // // // //                 keyboardType="numeric"
// // // // // // // // // // //               />
// // // // // // // // // // //               {errors.age && <Text style={styles.error}>{errors.age}</Text>}
// // // // // // // // // // //             </View>
// // // // // // // // // // //           </View>

// // // // // // // // // // //           <TouchableOpacity style={styles.button} onPress={handleSubmit}>
// // // // // // // // // // //             <Text style={styles.buttonText}>📩 Submit</Text>
// // // // // // // // // // //           </TouchableOpacity>

// // // // // // // // // // //           {/* Modal to show form submission messages */}
// // // // // // // // // // //           {showModal && (
// // // // // // // // // // //             <Animated.View
// // // // // // // // // // //               style={[styles.modal, { transform: [{ translateY: slideAnim }] }]}
// // // // // // // // // // //             >
// // // // // // // // // // //               <Text style={styles.modalText}>{modalMsg}</Text>
// // // // // // // // // // //             </Animated.View>
// // // // // // // // // // //           )}
// // // // // // // // // // //         </ScrollView>
// // // // // // // // // // //       </TouchableWithoutFeedback>
// // // // // // // // // // //     </CustomBackground>
// // // // // // // // // // //   );
// // // // // // // // // // // }

// // // // // // // // // // // const styles = StyleSheet.create({
// // // // // // // // // // //   heading: {
// // // // // // // // // // //     fontSize: 25,
// // // // // // // // // // //     fontWeight: "bold",
// // // // // // // // // // //     color: "#6C472D",
// // // // // // // // // // //     textAlign: "center",
// // // // // // // // // // //     marginBottom: 10,
// // // // // // // // // // //     writingDirection: "rtl",
// // // // // // // // // // //   },
// // // // // // // // // // //   description: {
// // // // // // // // // // //     fontSize: 18,
// // // // // // // // // // //     color: "#6C472D",
// // // // // // // // // // //     lineHeight: 30,
// // // // // // // // // // //     textAlign: "right",
// // // // // // // // // // //     writingDirection: "rtl",
// // // // // // // // // // //     marginBottom: 10,
// // // // // // // // // // //   },
// // // // // // // // // // //   inputWrapper: {
// // // // // // // // // // //     width: "100%",
// // // // // // // // // // //     marginBottom: 12,
// // // // // // // // // // //   },
// // // // // // // // // // //   input: {
// // // // // // // // // // //     width: "100%",
// // // // // // // // // // //     padding: 10,
// // // // // // // // // // //     color: "#6D4C41",
// // // // // // // // // // //     borderRadius: 5,
// // // // // // // // // // //     backgroundColor: "transparent", // No background color
// // // // // // // // // // //     fontSize: 16,
// // // // // // // // // // //     borderBottomWidth: 2, // Add bottom border
// // // // // // // // // // //     borderBottomColor: "#6D4C41", // Border color
// // // // // // // // // // //   },
// // // // // // // // // // //   error: {
// // // // // // // // // // //     color: "red",
// // // // // // // // // // //     fontSize: 12,
// // // // // // // // // // //     marginTop: 4,
// // // // // // // // // // //   },
// // // // // // // // // // //   button: {
// // // // // // // // // // //     backgroundColor: "#6D4C41",
// // // // // // // // // // //     padding: 15,
// // // // // // // // // // //     borderRadius: 10,
// // // // // // // // // // //     alignItems: "center",
// // // // // // // // // // //     marginTop: 10,
// // // // // // // // // // //     width: "100%",
// // // // // // // // // // //   },
// // // // // // // // // // //   buttonText: {
// // // // // // // // // // //     color: "#FFFFFF",
// // // // // // // // // // //     fontSize: 18,
// // // // // // // // // // //     fontWeight: "bold",
// // // // // // // // // // //   },
// // // // // // // // // // //   modal: {
// // // // // // // // // // //     position: "absolute",
// // // // // // // // // // //     top: "50%",
// // // // // // // // // // //     left: 40,
// // // // // // // // // // //     right: 40,
// // // // // // // // // // //     padding: 20,
// // // // // // // // // // //     backgroundColor: "#6D4C41",
// // // // // // // // // // //     borderRadius: 12,
// // // // // // // // // // //     shadowColor: "#000",
// // // // // // // // // // //     shadowOpacity: 0.3,
// // // // // // // // // // //     shadowRadius: 10,
// // // // // // // // // // //     elevation: 10,
// // // // // // // // // // //     alignItems: "center",
// // // // // // // // // // //   },
// // // // // // // // // // //   modalText: {
// // // // // // // // // // //     color: "#FFFFFF",
// // // // // // // // // // //     fontSize: 18,
// // // // // // // // // // //     fontWeight: "bold",
// // // // // // // // // // //     textAlign: "center",
// // // // // // // // // // //     padding: 15,
// // // // // // // // // // //     borderRadius: 10,
// // // // // // // // // // //   },
// // // // // // // // // // //   rowContainer: {
// // // // // // // // // // //     flexDirection: "row",
// // // // // // // // // // //     justifyContent: "space-between",
// // // // // // // // // // //     gap: 5,
// // // // // // // // // // //     marginBottom: 12,
// // // // // // // // // // //   },
// // // // // // // // // // //   pickerContainer: {
// // // // // // // // // // //     flex: 1,
// // // // // // // // // // //     backgroundColor: "#EFEADF",
// // // // // // // // // // //     borderRadius: 5,
// // // // // // // // // // //     padding: 0,
// // // // // // // // // // //   },
// // // // // // // // // // //   picker: {
// // // // // // // // // // //     width: "100%",
// // // // // // // // // // //     height: 50,
// // // // // // // // // // //     color: "#6D4C41",
// // // // // // // // // // //   },
// // // // // // // // // // // });
// // // // // // // // // // import React, { useState, useRef } from "react";
// // // // // // // // // // import {
// // // // // // // // // //   View,
// // // // // // // // // //   Text,
// // // // // // // // // //   TextInput,
// // // // // // // // // //   StyleSheet,
// // // // // // // // // //   TouchableOpacity,
// // // // // // // // // //   ScrollView,
// // // // // // // // // //   Keyboard,
// // // // // // // // // //   TouchableWithoutFeedback,
// // // // // // // // // //   Animated,
// // // // // // // // // // } from "react-native";
// // // // // // // // // // import DateTimePicker from "@react-native-community/datetimepicker";
// // // // // // // // // // import { Picker } from "@react-native-picker/picker";
// // // // // // // // // // import CustomBackground from "../../../../../components/Background/Background";

// // // // // // // // // // export default function FormScreen() {
// // // // // // // // // //   const [formData, setFormData] = useState({
// // // // // // // // // //     name: "",
// // // // // // // // // //     fatherName: "",
// // // // // // // // // //     motherName: "",
// // // // // // // // // //     country: "",
// // // // // // // // // //     cityName: "",
// // // // // // // // // //     age: "",
// // // // // // // // // //     dateOfBirth: "",
// // // // // // // // // //     gender: "",
// // // // // // // // // //     status: "",
// // // // // // // // // //     whatsappNumber: "",
// // // // // // // // // //     email: "",
// // // // // // // // // //     natureOfBait: "",
// // // // // // // // // //   });

// // // // // // // // // //   const [errors, setErrors] = useState({});
// // // // // // // // // //   const [showModal, setShowModal] = useState(false);
// // // // // // // // // //   const [modalMsg, setModalMsg] = useState("");
// // // // // // // // // //   const [showDatePicker, setShowDatePicker] = useState(false);
// // // // // // // // // //   const [selectedDate, setSelectedDate] = useState(new Date());
// // // // // // // // // //   const slideAnim = useRef(new Animated.Value(-300)).current;

// // // // // // // // // //   const handleChange = (key, value) => {
// // // // // // // // // //     setFormData((prev) => ({ ...prev, [key]: value }));
// // // // // // // // // //     setErrors((prev) => ({ ...prev, [key]: null }));
// // // // // // // // // //   };

// // // // // // // // // //   const validateForm = () => {
// // // // // // // // // //     const newErrors = {};
// // // // // // // // // //     Object.entries(formData).forEach(([key, value]) => {
// // // // // // // // // //       if (!value) {
// // // // // // // // // //         newErrors[key] = `Please fill in the ${formatKey(key)}`;
// // // // // // // // // //       } else {
// // // // // // // // // //         if (key === "email" && !value.endsWith("@gmail.com")) {
// // // // // // // // // //           newErrors[key] = "Only Gmail addresses allowed";
// // // // // // // // // //         }
// // // // // // // // // //         if (["age", "whatsappNumber"].includes(key) && isNaN(value)) {
// // // // // // // // // //           newErrors[key] = `${formatKey(key)} must be a number`;
// // // // // // // // // //         }
// // // // // // // // // //       }
// // // // // // // // // //     });
// // // // // // // // // //     setErrors(newErrors);
// // // // // // // // // //     return Object.keys(newErrors).length === 0;
// // // // // // // // // //   };

// // // // // // // // // //   const formatKey = (key) =>
// // // // // // // // // //     key.replace(/([A-Z])/g, " $1").replace(/^./, (s) => s.toUpperCase());

// // // // // // // // // //   const showAnimatedModal = (msg) => {
// // // // // // // // // //     setModalMsg(msg);
// // // // // // // // // //     setShowModal(true);
// // // // // // // // // //     Animated.timing(slideAnim, {
// // // // // // // // // //       toValue: 0,
// // // // // // // // // //       duration: 700,
// // // // // // // // // //       useNativeDriver: true,
// // // // // // // // // //     }).start(() => {
// // // // // // // // // //       setTimeout(() => {
// // // // // // // // // //         Animated.timing(slideAnim, {
// // // // // // // // // //           toValue: -700,
// // // // // // // // // //           duration: 700,
// // // // // // // // // //           useNativeDriver: true,
// // // // // // // // // //         }).start(() => {
// // // // // // // // // //           setShowModal(false);
// // // // // // // // // //         });
// // // // // // // // // //       }, 2500);
// // // // // // // // // //     });
// // // // // // // // // //   };

// // // // // // // // // //   const handleSubmit = async () => {
// // // // // // // // // //     if (!validateForm()) {
// // // // // // // // // //       showAnimatedModal("Please fix the errors above.");
// // // // // // // // // //       return;
// // // // // // // // // //     }

// // // // // // // // // //     try {
// // // // // // // // // //       const response = await fetch(
// // // // // // // // // //         "https://rohaniyatweb-production-99fc.up.railway.app/api/mureed_form",
// // // // // // // // // //         {
// // // // // // // // // //           method: "POST",
// // // // // // // // // //           headers: { "Content-Type": "application/json" },
// // // // // // // // // //           body: JSON.stringify(formData),
// // // // // // // // // //         }
// // // // // // // // // //       );

// // // // // // // // // //       const data = await response.json();

// // // // // // // // // //       if (response.ok) {
// // // // // // // // // //         showAnimatedModal("Form submitted successfully!");
// // // // // // // // // //         setFormData({
// // // // // // // // // //           name: "",
// // // // // // // // // //           fatherName: "",
// // // // // // // // // //           motherName: "",
// // // // // // // // // //           country: "",
// // // // // // // // // //           cityName: "",
// // // // // // // // // //           age: "",
// // // // // // // // // //           dateOfBirth: "",
// // // // // // // // // //           gender: "",
// // // // // // // // // //           status: "",
// // // // // // // // // //           whatsappNumber: "",
// // // // // // // // // //           email: "",
// // // // // // // // // //           natureOfBait: "",
// // // // // // // // // //         });
// // // // // // // // // //       } else {
// // // // // // // // // //         showAnimatedModal(data.error || "Submission failed.");
// // // // // // // // // //       }
// // // // // // // // // //     } catch (error) {
// // // // // // // // // //       console.error(error);
// // // // // // // // // //       showAnimatedModal("Something went wrong.");
// // // // // // // // // //     }
// // // // // // // // // //   };

// // // // // // // // // //   const onDateChange = (event, date) => {
// // // // // // // // // //     if (date) {
// // // // // // // // // //       const formattedDate = date.toISOString().split("T")[0];
// // // // // // // // // //       handleChange("dateOfBirth", formattedDate);
// // // // // // // // // //       setSelectedDate(date);
// // // // // // // // // //     }
// // // // // // // // // //     setShowDatePicker(false);
// // // // // // // // // //   };

// // // // // // // // // //   return (
// // // // // // // // // //     <CustomBackground>
// // // // // // // // // //       <TouchableWithoutFeedback onPress={Keyboard.dismiss}>
// // // // // // // // // //         <ScrollView>
// // // // // // // // // //           <Text style={styles.heading}>مرید ہونے کیلئے</Text>
// // // // // // // // // //           <Text style={styles.description}>
// // // // // // // // // //             الحمد للہ اس سروس کے ذریعے ہزاروں لوگ ہمارے سلسلے میں داخل ہو رہے
// // // // // // // // // //             ہیں ان کو ای میل یا واٹس اپ کے ذریعے سلسلے کے تمام وظائف و اذکار
// // // // // // // // // //             بھیج دئے جاتے ہیں اور وقتا فوقتا ان کی رہنمائی بھی کی جاتی ہے یاد
// // // // // // // // // //             رہے تصوف اور عملیات دونوں علیحدہ علیحدہ شعبے ہیں
// // // // // // // // // //           </Text>

// // // // // // // // // //           {Object.keys(formData).map((key) => {
// // // // // // // // // //             if (key === "dateOfBirth") {
// // // // // // // // // //               return (
// // // // // // // // // //                 <View key={key} style={styles.inputWrapper}>
// // // // // // // // // //                   <TouchableOpacity
// // // // // // // // // //                     onPress={() => setShowDatePicker(true)}
// // // // // // // // // //                     style={styles.input}
// // // // // // // // // //                   >
// // // // // // // // // //                     <Text style={{ color: formData[key] ? "#000" : "#999" }}>
// // // // // // // // // //                       {formData[key] || "Date Of Birth"}
// // // // // // // // // //                     </Text>
// // // // // // // // // //                   </TouchableOpacity>
// // // // // // // // // //                   {errors[key] && (
// // // // // // // // // //                     <Text style={styles.error}>{errors[key]}</Text>
// // // // // // // // // //                   )}
// // // // // // // // // //                   {showDatePicker && (
// // // // // // // // // //                     <DateTimePicker
// // // // // // // // // //                       value={selectedDate}
// // // // // // // // // //                       mode="date"
// // // // // // // // // //                       display="default"
// // // // // // // // // //                       onChange={onDateChange}
// // // // // // // // // //                       maximumDate={new Date()}
// // // // // // // // // //                     />
// // // // // // // // // //                   )}
// // // // // // // // // //                 </View>
// // // // // // // // // //               );
// // // // // // // // // //             }

// // // // // // // // // //             if (["gender", "status", "age"].includes(key)) return null;

// // // // // // // // // //             return (
// // // // // // // // // //               <View key={key} style={styles.inputWrapper}>
// // // // // // // // // //                 <TextInput
// // // // // // // // // //                   style={styles.input}
// // // // // // // // // //                   placeholder={formatKey(key)}
// // // // // // // // // //                   value={formData[key]}
// // // // // // // // // //                   onChangeText={(text) => handleChange(key, text)}
// // // // // // // // // //                   keyboardType={
// // // // // // // // // //                     key === "email"
// // // // // // // // // //                       ? "email-address"
// // // // // // // // // //                       : ["whatsappNumber"].includes(key)
// // // // // // // // // //                       ? "numeric"
// // // // // // // // // //                       : "default"
// // // // // // // // // //                   }
// // // // // // // // // //                 />
// // // // // // // // // //                 {errors[key] && <Text style={styles.error}>{errors[key]}</Text>}
// // // // // // // // // //               </View>
// // // // // // // // // //             );
// // // // // // // // // //           })}

// // // // // // // // // //           <View style={styles.rowContainer}>
// // // // // // // // // //             <View style={styles.pickerContainer}>
// // // // // // // // // //               <Picker
// // // // // // // // // //                 selectedValue={formData.gender}
// // // // // // // // // //                 onValueChange={(value) => handleChange("gender", value)}
// // // // // // // // // //                 style={styles.picker}
// // // // // // // // // //               >
// // // // // // // // // //                 <Picker.Item label="Gender" value="" />
// // // // // // // // // //                 <Picker.Item label="Male" value="male" />
// // // // // // // // // //                 <Picker.Item label="Female" value="female" />
// // // // // // // // // //                 <Picker.Item label="Other" value="other" />
// // // // // // // // // //               </Picker>
// // // // // // // // // //               {errors.gender && (
// // // // // // // // // //                 <Text style={styles.error}>{errors.gender}</Text>
// // // // // // // // // //               )}
// // // // // // // // // //             </View>

// // // // // // // // // //             <View style={styles.pickerContainer}>
// // // // // // // // // //               <Picker
// // // // // // // // // //                 selectedValue={formData.status}
// // // // // // // // // //                 onValueChange={(value) => handleChange("status", value)}
// // // // // // // // // //                 style={styles.picker}
// // // // // // // // // //               >
// // // // // // // // // //                 <Picker.Item label="Status" value="" />
// // // // // // // // // //                 <Picker.Item label="Married" value="married" />
// // // // // // // // // //                 <Picker.Item label="Unmarried" value="unmarried" />
// // // // // // // // // //               </Picker>
// // // // // // // // // //               {errors.status && (
// // // // // // // // // //                 <Text style={styles.error}>{errors.status}</Text>
// // // // // // // // // //               )}
// // // // // // // // // //             </View>

// // // // // // // // // //             <View style={{ flex: 1, marginLeft: 5 }}>
// // // // // // // // // //               <TextInput
// // // // // // // // // //                 style={styles.input}
// // // // // // // // // //                 placeholder="Age"
// // // // // // // // // //                 value={formData.age}
// // // // // // // // // //                 onChangeText={(text) => handleChange("age", text)}
// // // // // // // // // //                 keyboardType="numeric"
// // // // // // // // // //               />
// // // // // // // // // //               {errors.age && <Text style={styles.error}>{errors.age}</Text>}
// // // // // // // // // //             </View>
// // // // // // // // // //           </View>

// // // // // // // // // //           <TouchableOpacity style={styles.button} onPress={handleSubmit}>
// // // // // // // // // //             <Text style={styles.buttonText}>📩 Submit</Text>
// // // // // // // // // //           </TouchableOpacity>

// // // // // // // // // //           {showModal && (
// // // // // // // // // //             <Animated.View
// // // // // // // // // //               style={[styles.modal, { transform: [{ translateY: slideAnim }] }]}
// // // // // // // // // //             >
// // // // // // // // // //               <Text style={styles.modalText}>{modalMsg}</Text>
// // // // // // // // // //             </Animated.View>
// // // // // // // // // //           )}
// // // // // // // // // //         </ScrollView>
// // // // // // // // // //       </TouchableWithoutFeedback>
// // // // // // // // // //     </CustomBackground>
// // // // // // // // // //   );
// // // // // // // // // // }

// // // // // // // // // // const styles = StyleSheet.create({
// // // // // // // // // //   heading: {
// // // // // // // // // //     fontSize: 25,
// // // // // // // // // //     fontWeight: "bold",
// // // // // // // // // //     color: "#6C472D",
// // // // // // // // // //     textAlign: "center",
// // // // // // // // // //     marginBottom: 10,
// // // // // // // // // //     writingDirection: "rtl",
// // // // // // // // // //   },
// // // // // // // // // //   description: {
// // // // // // // // // //     fontSize: 18,
// // // // // // // // // //     color: "#6C472D",
// // // // // // // // // //     lineHeight: 30,
// // // // // // // // // //     textAlign: "right",
// // // // // // // // // //     writingDirection: "rtl",
// // // // // // // // // //     marginBottom: 10,
// // // // // // // // // //   },
// // // // // // // // // //   inputWrapper: {
// // // // // // // // // //     width: "100%",
// // // // // // // // // //     marginBottom: 12,
// // // // // // // // // //   },
// // // // // // // // // //   input: {
// // // // // // // // // //     width: "100%",
// // // // // // // // // //     padding: 10,
// // // // // // // // // //     color: "#6D4C41",
// // // // // // // // // //     borderRadius: 5,
// // // // // // // // // //     backgroundColor: "transparent",
// // // // // // // // // //     fontSize: 16,
// // // // // // // // // //     borderBottomWidth: 2,
// // // // // // // // // //     borderBottomColor: "#6D4C41",
// // // // // // // // // //   },
// // // // // // // // // //   error: {
// // // // // // // // // //     color: "red",
// // // // // // // // // //     fontSize: 12,
// // // // // // // // // //     marginTop: 4,
// // // // // // // // // //   },
// // // // // // // // // //   button: {
// // // // // // // // // //     backgroundColor: "#6D4C41",
// // // // // // // // // //     padding: 15,
// // // // // // // // // //     borderRadius: 10,
// // // // // // // // // //     alignItems: "center",
// // // // // // // // // //     marginTop: 10,
// // // // // // // // // //     width: "100%",
// // // // // // // // // //   },
// // // // // // // // // //   buttonText: {
// // // // // // // // // //     color: "#FFFFFF",
// // // // // // // // // //     fontSize: 18,
// // // // // // // // // //     fontWeight: "bold",
// // // // // // // // // //   },
// // // // // // // // // //   modal: {
// // // // // // // // // //     position: "absolute",
// // // // // // // // // //     top: "50%",
// // // // // // // // // //     left: 40,
// // // // // // // // // //     right: 40,
// // // // // // // // // //     padding: 20,
// // // // // // // // // //     backgroundColor: "#6D4C41",
// // // // // // // // // //     borderRadius: 12,
// // // // // // // // // //     shadowColor: "#000",
// // // // // // // // // //     shadowOpacity: 0.3,
// // // // // // // // // //     shadowRadius: 10,
// // // // // // // // // //     elevation: 10,
// // // // // // // // // //     alignItems: "center",
// // // // // // // // // //   },
// // // // // // // // // //   modalText: {
// // // // // // // // // //     color: "#FFFFFF",
// // // // // // // // // //     fontSize: 18,
// // // // // // // // // //     fontWeight: "bold",
// // // // // // // // // //     textAlign: "center",
// // // // // // // // // //     padding: 15,
// // // // // // // // // //     borderRadius: 10,
// // // // // // // // // //   },
// // // // // // // // // //   rowContainer: {
// // // // // // // // // //     flexDirection: "row",
// // // // // // // // // //     justifyContent: "space-between",
// // // // // // // // // //     gap: 5,
// // // // // // // // // //     marginBottom: 12,
// // // // // // // // // //   },
// // // // // // // // // //   pickerContainer: {
// // // // // // // // // //     flex: 1,
// // // // // // // // // //     backgroundColor: "#EFEADF",
// // // // // // // // // //     borderRadius: 5,
// // // // // // // // // //     overflow: "hidden",
// // // // // // // // // //     marginRight: 5,
// // // // // // // // // //   },
// // // // // // // // // //   picker: {
// // // // // // // // // //     height: 50,
// // // // // // // // // //     width: "100%",
// // // // // // // // // //     color: "#6D4C41",
// // // // // // // // // //   },
// // // // // // // // // // });
// // // // // // // // // import React, { useState, useRef } from "react";
// // // // // // // // // import {
// // // // // // // // //   View,
// // // // // // // // //   Text,
// // // // // // // // //   TextInput,
// // // // // // // // //   StyleSheet,
// // // // // // // // //   TouchableOpacity,
// // // // // // // // //   ScrollView,
// // // // // // // // //   Keyboard,
// // // // // // // // //   TouchableWithoutFeedback,
// // // // // // // // //   Animated,
// // // // // // // // // } from "react-native";
// // // // // // // // // import DateTimePicker from "@react-native-community/datetimepicker";
// // // // // // // // // import { Picker } from "@react-native-picker/picker";
// // // // // // // // // import CustomBackground from "../../../../../components/Background/Background";

// // // // // // // // // export default function FormScreen() {
// // // // // // // // //   const [formData, setFormData] = useState({
// // // // // // // // //     name: "",
// // // // // // // // //     fatherName: "",
// // // // // // // // //     motherName: "",
// // // // // // // // //     country: "",
// // // // // // // // //     cityName: "",
// // // // // // // // //     age: "",
// // // // // // // // //     dateOfBirth: "",
// // // // // // // // //     gender: "",
// // // // // // // // //     status: "",
// // // // // // // // //     whatsappNumber: "",
// // // // // // // // //     email: "",
// // // // // // // // //     natureOfBait: "",
// // // // // // // // //   });

// // // // // // // // //   const [errors, setErrors] = useState({});
// // // // // // // // //   const [showModal, setShowModal] = useState(false);
// // // // // // // // //   const [modalMsg, setModalMsg] = useState("");
// // // // // // // // //   const [showDatePicker, setShowDatePicker] = useState(false);
// // // // // // // // //   const [selectedDate, setSelectedDate] = useState(new Date());
// // // // // // // // //   const slideAnim = useRef(new Animated.Value(-300)).current;

// // // // // // // // //   const handleChange = (key, value) => {
// // // // // // // // //     setFormData((prev) => ({ ...prev, [key]: value }));
// // // // // // // // //     setErrors((prev) => ({ ...prev, [key]: null }));
// // // // // // // // //   };

// // // // // // // // //   const calculateAge = (dob) => {
// // // // // // // // //     const birthDate = new Date(dob);
// // // // // // // // //     const today = new Date();
// // // // // // // // //     let age = today.getFullYear() - birthDate.getFullYear();
// // // // // // // // //     const monthDiff = today.getMonth() - birthDate.getMonth();
// // // // // // // // //     if (
// // // // // // // // //       monthDiff < 0 ||
// // // // // // // // //       (monthDiff === 0 && today.getDate() < birthDate.getDate())
// // // // // // // // //     ) {
// // // // // // // // //       age--;
// // // // // // // // //     }
// // // // // // // // //     return age.toString(); // convert to string for TextInput
// // // // // // // // //   };

// // // // // // // // //   const validateForm = () => {
// // // // // // // // //     const newErrors = {};
// // // // // // // // //     Object.entries(formData).forEach(([key, value]) => {
// // // // // // // // //       if (!value) {
// // // // // // // // //         newErrors[key] = `Please fill in the ${formatKey(key)}`;
// // // // // // // // //       } else {
// // // // // // // // //         if (key === "email" && !value.endsWith("@gmail.com")) {
// // // // // // // // //           newErrors[key] = "Only Gmail addresses allowed";
// // // // // // // // //         }
// // // // // // // // //         if (["age", "whatsappNumber"].includes(key) && isNaN(value)) {
// // // // // // // // //           newErrors[key] = `${formatKey(key)} must be a number`;
// // // // // // // // //         }
// // // // // // // // //       }
// // // // // // // // //     });
// // // // // // // // //     setErrors(newErrors);
// // // // // // // // //     return Object.keys(newErrors).length === 0;
// // // // // // // // //   };

// // // // // // // // //   const formatKey = (key) =>
// // // // // // // // //     key.replace(/([A-Z])/g, " $1").replace(/^./, (s) => s.toUpperCase());

// // // // // // // // //   const showAnimatedModal = (msg) => {
// // // // // // // // //     setModalMsg(msg);
// // // // // // // // //     setShowModal(true);
// // // // // // // // //     Animated.timing(slideAnim, {
// // // // // // // // //       toValue: 0,
// // // // // // // // //       duration: 700,
// // // // // // // // //       useNativeDriver: true,
// // // // // // // // //     }).start(() => {
// // // // // // // // //       setTimeout(() => {
// // // // // // // // //         Animated.timing(slideAnim, {
// // // // // // // // //           toValue: -700,
// // // // // // // // //           duration: 700,
// // // // // // // // //           useNativeDriver: true,
// // // // // // // // //         }).start(() => {
// // // // // // // // //           setShowModal(false);
// // // // // // // // //         });
// // // // // // // // //       }, 2500);
// // // // // // // // //     });
// // // // // // // // //   };

// // // // // // // // //   const handleSubmit = async () => {
// // // // // // // // //     if (!validateForm()) {
// // // // // // // // //       showAnimatedModal("Please fix the errors above.");
// // // // // // // // //       return;
// // // // // // // // //     }

// // // // // // // // //     try {
// // // // // // // // //       const response = await fetch(
// // // // // // // // //         "https://rohaniyatweb-production-99fc.up.railway.app/api/mureed_form",
// // // // // // // // //         {
// // // // // // // // //           method: "POST",
// // // // // // // // //           headers: { "Content-Type": "application/json" },
// // // // // // // // //           body: JSON.stringify(formData),
// // // // // // // // //         }
// // // // // // // // //       );

// // // // // // // // //       const data = await response.json();

// // // // // // // // //       if (response.ok) {
// // // // // // // // //         showAnimatedModal("Form submitted successfully!");
// // // // // // // // //         setFormData({
// // // // // // // // //           name: "",
// // // // // // // // //           fatherName: "",
// // // // // // // // //           motherName: "",
// // // // // // // // //           country: "",
// // // // // // // // //           cityName: "",
// // // // // // // // //           age: "",
// // // // // // // // //           dateOfBirth: "",
// // // // // // // // //           gender: "",
// // // // // // // // //           status: "",
// // // // // // // // //           whatsappNumber: "",
// // // // // // // // //           email: "",
// // // // // // // // //           natureOfBait: "",
// // // // // // // // //         });
// // // // // // // // //       } else {
// // // // // // // // //         showAnimatedModal(data.error || "Submission failed.");
// // // // // // // // //       }
// // // // // // // // //     } catch (error) {
// // // // // // // // //       console.error(error);
// // // // // // // // //       showAnimatedModal("Something went wrong.");
// // // // // // // // //     }
// // // // // // // // //   };

// // // // // // // // //   const onDateChange = (event, date) => {
// // // // // // // // //     if (date) {
// // // // // // // // //       const formattedDate = date.toISOString().split("T")[0];
// // // // // // // // //       const calculatedAge = calculateAge(formattedDate);
// // // // // // // // //       handleChange("dateOfBirth", formattedDate);
// // // // // // // // //       handleChange("age", calculatedAge);
// // // // // // // // //       setSelectedDate(date);
// // // // // // // // //     }
// // // // // // // // //     setShowDatePicker(false);
// // // // // // // // //   };

// // // // // // // // //   return (
// // // // // // // // //     <CustomBackground>
// // // // // // // // //       <TouchableWithoutFeedback onPress={Keyboard.dismiss}>
// // // // // // // // //         <ScrollView>
// // // // // // // // //           <Text style={styles.heading}>مرید ہونے کیلئے</Text>
// // // // // // // // //           <Text style={styles.description}>
// // // // // // // // //             الحمد للہ اس سروس کے ذریعے ہزاروں لوگ ہمارے سلسلے میں داخل ہو رہے
// // // // // // // // //             ہیں ان کو ای میل یا واٹس اپ کے ذریعے سلسلے کے تمام وظائف و اذکار
// // // // // // // // //             بھیج دئے جاتے ہیں اور وقتا فوقتا ان کی رہنمائی بھی کی جاتی ہے یاد
// // // // // // // // //             رہے تصوف اور عملیات دونوں علیحدہ علیحدہ شعبے ہیں
// // // // // // // // //           </Text>

// // // // // // // // //           {Object.keys(formData).map((key) => {
// // // // // // // // //             if (key === "dateOfBirth") {
// // // // // // // // //               return (
// // // // // // // // //                 <View key={key}>
// // // // // // // // //                   <TouchableOpacity
// // // // // // // // //                     onPress={() => setShowDatePicker(true)}
// // // // // // // // //                     style={styles.input}
// // // // // // // // //                   >
// // // // // // // // //                     <Text style={{ color: "#6D4C41", fontSize: 16 }}>
// // // // // // // // //                       {formData[key] || "Date Of Birth"}
// // // // // // // // //                     </Text>
// // // // // // // // //                   </TouchableOpacity>
// // // // // // // // //                   {errors[key] && (
// // // // // // // // //                     <Text style={styles.error}>{errors[key]}</Text>
// // // // // // // // //                   )}
// // // // // // // // //                   {showDatePicker && (
// // // // // // // // //                     <DateTimePicker
// // // // // // // // //                       value={selectedDate}
// // // // // // // // //                       mode="date"
// // // // // // // // //                       display="default"
// // // // // // // // //                       onChange={onDateChange}
// // // // // // // // //                       maximumDate={new Date()}
// // // // // // // // //                     />
// // // // // // // // //                   )}
// // // // // // // // //                 </View>
// // // // // // // // //               );
// // // // // // // // //             }

// // // // // // // // //             if (["gender", "status", "age"].includes(key)) return null;

// // // // // // // // //             return (
// // // // // // // // //               <View key={key}>
// // // // // // // // //                 <TextInput
// // // // // // // // //                   style={styles.input}
// // // // // // // // //                   placeholder={formatKey(key)}
// // // // // // // // //                   value={formData[key]}
// // // // // // // // //                   onChangeText={(text) => handleChange(key, text)}
// // // // // // // // //                   keyboardType={
// // // // // // // // //                     key === "email"
// // // // // // // // //                       ? "email-address"
// // // // // // // // //                       : ["whatsappNumber"].includes(key)
// // // // // // // // //                       ? "numeric"
// // // // // // // // //                       : "default"
// // // // // // // // //                   }
// // // // // // // // //                 />
// // // // // // // // //                 {errors[key] && <Text style={styles.error}>{errors[key]}</Text>}
// // // // // // // // //               </View>
// // // // // // // // //             );
// // // // // // // // //           })}

// // // // // // // // //           <View style={styles.rowContainer}>
// // // // // // // // //             <View style={styles.pickerContainer}>
// // // // // // // // //               <Picker
// // // // // // // // //                 selectedValue={formData.gender}
// // // // // // // // //                 onValueChange={(value) => handleChange("gender", value)}
// // // // // // // // //                 style={styles.picker}
// // // // // // // // //               >
// // // // // // // // //                 <Picker.Item label="Gender" value="" />
// // // // // // // // //                 <Picker.Item label="Male" value="male" />
// // // // // // // // //                 <Picker.Item label="Female" value="female" />
// // // // // // // // //                 <Picker.Item label="Other" value="other" />
// // // // // // // // //               </Picker>
// // // // // // // // //             </View>

// // // // // // // // //             <View style={styles.pickerContainer}>
// // // // // // // // //               <Picker
// // // // // // // // //                 selectedValue={formData.status}
// // // // // // // // //                 onValueChange={(value) => handleChange("status", value)}
// // // // // // // // //                 style={styles.picker}
// // // // // // // // //               >
// // // // // // // // //                 <Picker.Item label="Status" value="" />
// // // // // // // // //                 <Picker.Item label="Married" value="married" />
// // // // // // // // //                 <Picker.Item label="Unmarried" value="unmarried" />
// // // // // // // // //               </Picker>
// // // // // // // // //             </View>

// // // // // // // // //             <View>
// // // // // // // // //               <TextInput
// // // // // // // // //                 style={styles.input}
// // // // // // // // //                 placeholder="Age"
// // // // // // // // //                 value={formData.age}
// // // // // // // // //                 onChangeText={(text) => handleChange("age", text)}
// // // // // // // // //                 keyboardType="numeric"
// // // // // // // // //               />
// // // // // // // // //             </View>
// // // // // // // // //           </View>

// // // // // // // // //           <View>
// // // // // // // // //             {errors.gender && <Text style={styles.error}>{errors.gender}</Text>}
// // // // // // // // //             {errors.status && <Text style={styles.error}>{errors.status}</Text>}
// // // // // // // // //             {errors.age && <Text style={styles.error}>{errors.age}</Text>}
// // // // // // // // //           </View>

// // // // // // // // //           <TouchableOpacity style={styles.button} onPress={handleSubmit}>
// // // // // // // // //             <Text style={styles.buttonText}>📩 Submit</Text>
// // // // // // // // //           </TouchableOpacity>

// // // // // // // // //           {showModal && (
// // // // // // // // //             <Animated.View
// // // // // // // // //               style={[styles.modal, { transform: [{ translateY: slideAnim }] }]}
// // // // // // // // //             >
// // // // // // // // //               <Text style={styles.modalText}>{modalMsg}</Text>
// // // // // // // // //             </Animated.View>
// // // // // // // // //           )}
// // // // // // // // //         </ScrollView>
// // // // // // // // //       </TouchableWithoutFeedback>
// // // // // // // // //     </CustomBackground>
// // // // // // // // //   );
// // // // // // // // // }

// // // // // // // // // const styles = StyleSheet.create({
// // // // // // // // //   heading: {
// // // // // // // // //     fontSize: 25,
// // // // // // // // //     fontWeight: "bold",
// // // // // // // // //     color: "#6C472D",
// // // // // // // // //     textAlign: "center",
// // // // // // // // //     marginBottom: 10,
// // // // // // // // //     writingDirection: "rtl",
// // // // // // // // //   },
// // // // // // // // //   description: {
// // // // // // // // //     fontSize: 18,
// // // // // // // // //     color: "#6C472D",
// // // // // // // // //     lineHeight: 30,
// // // // // // // // //     textAlign: "right",
// // // // // // // // //     writingDirection: "rtl",
// // // // // // // // //     marginBottom: 10,
// // // // // // // // //   },

// // // // // // // // //   input: {
// // // // // // // // //     width: "100%",
// // // // // // // // //     padding: 6,
// // // // // // // // //     color: "#6D4C41",
// // // // // // // // //     fontSize: 16,
// // // // // // // // //     borderBottomWidth: 2,
// // // // // // // // //     borderBottomColor: "#6D4C41",
// // // // // // // // //     marginTop: 5,
// // // // // // // // //   },
// // // // // // // // //   error: {
// // // // // // // // //     color: "red",
// // // // // // // // //     fontSize: 10,
// // // // // // // // //   },
// // // // // // // // //   button: {
// // // // // // // // //     backgroundColor: "#6D4C41",
// // // // // // // // //     padding: 15,
// // // // // // // // //     borderRadius: 10,
// // // // // // // // //     alignItems: "center",
// // // // // // // // //     marginTop: 10,
// // // // // // // // //     width: "100%",
// // // // // // // // //   },
// // // // // // // // //   buttonText: {
// // // // // // // // //     color: "#FFFFFF",
// // // // // // // // //     fontSize: 18,
// // // // // // // // //     fontWeight: "bold",
// // // // // // // // //   },
// // // // // // // // //   modal: {
// // // // // // // // //     position: "absolute",
// // // // // // // // //     top: "50%",
// // // // // // // // //     left: 40,
// // // // // // // // //     right: 40,
// // // // // // // // //     padding: 20,
// // // // // // // // //     backgroundColor: "#6D4C41",
// // // // // // // // //     borderRadius: 5,
// // // // // // // // //     shadowColor: "#000",
// // // // // // // // //     shadowOpacity: 0.3,
// // // // // // // // //     shadowRadius: 10,
// // // // // // // // //     elevation: 10,
// // // // // // // // //     alignItems: "center",
// // // // // // // // //   },
// // // // // // // // //   modalText: {
// // // // // // // // //     color: "#FFFFFF",
// // // // // // // // //     fontSize: 18,
// // // // // // // // //     fontWeight: "bold",
// // // // // // // // //     textAlign: "center",
// // // // // // // // //     padding: 15,
// // // // // // // // //     borderRadius: 5,
// // // // // // // // //   },
// // // // // // // // //   rowContainer: {
// // // // // // // // //     flexDirection: "row",
// // // // // // // // //     justifyContent: "space-between",

// // // // // // // // //     marginTop: 5,
// // // // // // // // //     alignItems: "center",
// // // // // // // // //   },
// // // // // // // // //   pickerContainer: {
// // // // // // // // //     flex: 1,
// // // // // // // // //   },
// // // // // // // // //   picker: {
// // // // // // // // //     color: "#6D4C41",
// // // // // // // // //     padding: 6,
// // // // // // // // //     color: "#6D4C41",
// // // // // // // // //     fontSize: 16,
// // // // // // // // //   },
// // // // // // // // // });

// // // // // // // import React, { useState, useRef } from "react";
// // // // // // // import {
// // // // // // //   View,
// // // // // // //   Text,
// // // // // // //   TextInput,
// // // // // // //   StyleSheet,
// // // // // // //   TouchableOpacity,
// // // // // // //   ScrollView,
// // // // // // //   Keyboard,
// // // // // // //   TouchableWithoutFeedback,
// // // // // // //   Animated,
// // // // // // // } from "react-native";
// // // // // // // import DateTimePicker from "@react-native-community/datetimepicker";
// // // // // // // import { Picker } from "@react-native-picker/picker";
// // // // // // // import CustomBackground from "../../../../../components/Background/Background";

// // // // // // // export default function FormScreen() {
// // // // // // //   const [formData, setFormData] = useState({
// // // // // // //     name: "",
// // // // // // //     fatherName: "",
// // // // // // //     motherName: "",
// // // // // // //     country: "",
// // // // // // //     cityName: "",
// // // // // // //     age: "",
// // // // // // //     dateOfBirth: "",
// // // // // // //     gender: "",
// // // // // // //     status: "",
// // // // // // //     whatsappNumber: "",
// // // // // // //     email: "",
// // // // // // //     natureOfBait: "",
// // // // // // //   });

// // // // // // //   const [errors, setErrors] = useState({});
// // // // // // //   const [showModal, setShowModal] = useState(false);
// // // // // // //   const [modalMsg, setModalMsg] = useState("");
// // // // // // //   const [showDatePicker, setShowDatePicker] = useState(false);
// // // // // // //   const [selectedDate, setSelectedDate] = useState(new Date());
// // // // // // //   const slideAnim = useRef(new Animated.Value(-300)).current;

// // // // // // //   const handleChange = (key, value) => {
// // // // // // //     setFormData((prev) => ({ ...prev, [key]: value }));
// // // // // // //     setErrors((prev) => ({ ...prev, [key]: null }));
// // // // // // //   };

// // // // // // //   const calculateAge = (dob) => {
// // // // // // //     const birthDate = new Date(dob);
// // // // // // //     const today = new Date();
// // // // // // //     let age = today.getFullYear() - birthDate.getFullYear();
// // // // // // //     const monthDiff = today.getMonth() - birthDate.getMonth();
// // // // // // //     if (
// // // // // // //       monthDiff < 0 ||
// // // // // // //       (monthDiff === 0 && today.getDate() < birthDate.getDate())
// // // // // // //     ) {
// // // // // // //       age--;
// // // // // // //     }
// // // // // // //     return age.toString();
// // // // // // //   };

// // // // // // //   const validateForm = () => {
// // // // // // //     const newErrors = {};
// // // // // // //     Object.entries(formData).forEach(([key, value]) => {
// // // // // // //       if (!value) {
// // // // // // //         newErrors[key] = `Please fill in the ${formatKey(key)}`;
// // // // // // //       } else {
// // // // // // //         if (key === "email" && !value.endsWith("@gmail.com")) {
// // // // // // //           newErrors[key] = "Only Gmail addresses allowed";
// // // // // // //         }
// // // // // // //         if (["age", "whatsappNumber"].includes(key) && isNaN(value)) {
// // // // // // //           newErrors[key] = `${formatKey(key)} must be a number`;
// // // // // // //         }
// // // // // // //       }
// // // // // // //     });
// // // // // // //     setErrors(newErrors);
// // // // // // //     return Object.keys(newErrors).length === 0;
// // // // // // //   };

// // // // // // //   const formatKey = (key) =>
// // // // // // //     key.replace(/([A-Z])/g, " $1").replace(/^./, (s) => s.toUpperCase());

// // // // // // //   const showAnimatedModal = (msg) => {
// // // // // // //     setModalMsg(msg);
// // // // // // //     setShowModal(true);
// // // // // // //     Animated.timing(slideAnim, {
// // // // // // //       toValue: 0,
// // // // // // //       duration: 700,
// // // // // // //       useNativeDriver: true,
// // // // // // //     }).start(() => {
// // // // // // //       setTimeout(() => {
// // // // // // //         Animated.timing(slideAnim, {
// // // // // // //           toValue: -700,
// // // // // // //           duration: 700,
// // // // // // //           useNativeDriver: true,
// // // // // // //         }).start(() => {
// // // // // // //           setShowModal(false);
// // // // // // //         });
// // // // // // //       }, 2500);
// // // // // // //     });
// // // // // // //   };

// // // // // // //   const handleSubmit = async () => {
// // // // // // //     if (!validateForm()) {
// // // // // // //       showAnimatedModal("Please fix the errors above.");
// // // // // // //       return;
// // // // // // //     }

// // // // // // //     try {
// // // // // // //       const response = await fetch(
// // // // // // //         "https://rohaniyatweb-production-99fc.up.railway.app/api/mureed_form",
// // // // // // //         {
// // // // // // //           method: "POST",
// // // // // // //           headers: { "Content-Type": "application/json" },
// // // // // // //           body: JSON.stringify(formData),
// // // // // // //         }
// // // // // // //       );

// // // // // // //       const data = await response.json();

// // // // // // //       if (response.ok) {
// // // // // // //         showAnimatedModal("Form submitted successfully!");
// // // // // // //         setFormData({
// // // // // // //           name: "",
// // // // // // //           fatherName: "",
// // // // // // //           motherName: "",
// // // // // // //           country: "",
// // // // // // //           cityName: "",
// // // // // // //           age: "",
// // // // // // //           dateOfBirth: "",
// // // // // // //           gender: "",
// // // // // // //           status: "",
// // // // // // //           whatsappNumber: "",
// // // // // // //           email: "",
// // // // // // //           natureOfBait: "",
// // // // // // //         });
// // // // // // //       } else {
// // // // // // //         showAnimatedModal(data.error || "Submission failed.");
// // // // // // //       }
// // // // // // //     } catch (error) {
// // // // // // //       console.error(error);
// // // // // // //       showAnimatedModal("Something went wrong.");
// // // // // // //     }
// // // // // // //   };

// // // // // // //   const onDateChange = (event, date) => {
// // // // // // //     if (date) {
// // // // // // //       const formattedDate = date.toISOString().split("T")[0];
// // // // // // //       const calculatedAge = calculateAge(formattedDate);
// // // // // // //       handleChange("dateOfBirth", formattedDate);
// // // // // // //       handleChange("age", calculatedAge);
// // // // // // //       setSelectedDate(date);
// // // // // // //     }
// // // // // // //     setShowDatePicker(false);
// // // // // // //   };

// // // // // // //   return (
// // // // // // //     <CustomBackground>
// // // // // // //       <TouchableWithoutFeedback onPress={Keyboard.dismiss}>
// // // // // // //         <ScrollView>
// // // // // // //           <Text style={styles.heading}>مرید ہونے کیلئے</Text>
// // // // // // //           <Text style={styles.description}>
// // // // // // //             الحمد للہ اس سروس کے ذریعے ہزاروں لوگ ہمارے سلسلے میں داخل ہو رہے
// // // // // // //             ہیں ان کو ای میل یا واٹس اپ کے ذریعے سلسلے کے تمام وظائف و اذکار
// // // // // // //             بھیج دئے جاتے ہیں اور وقتا فوقتا ان کی رہنمائی بھی کی جاتی ہے یاد
// // // // // // //             رہے تصوف اور عملیات دونوں علیحدہ علیحدہ شعبے ہیں
// // // // // // //           </Text>

// // // // // // //           {Object.keys(formData).map((key) => {
// // // // // // //             if (key === "dateOfBirth") {
// // // // // // //               return (
// // // // // // //                 <View key={key}>
// // // // // // //                   <TouchableOpacity
// // // // // // //                     onPress={() => setShowDatePicker(true)}
// // // // // // //                     style={styles.input}
// // // // // // //                   >
// // // // // // //                     <Text style={{ color: "#6D4C41", fontSize: 16 }}>
// // // // // // //                       {formData[key] || "Date Of Birth"}
// // // // // // //                     </Text>
// // // // // // //                   </TouchableOpacity>
// // // // // // //                   {errors[key] && (
// // // // // // //                     <Text style={styles.error}>{errors[key]}</Text>
// // // // // // //                   )}
// // // // // // //                   {showDatePicker && (
// // // // // // //                     <DateTimePicker
// // // // // // //                       value={selectedDate}
// // // // // // //                       mode="date"
// // // // // // //                       display="default"
// // // // // // //                       onChange={onDateChange}
// // // // // // //                       maximumDate={new Date()}
// // // // // // //                     />
// // // // // // //                   )}
// // // // // // //                 </View>
// // // // // // //               );
// // // // // // //             }

// // // // // // //             if (["gender", "status", "age"].includes(key)) return null;

// // // // // // //             return (
// // // // // // //               <View key={key}>
// // // // // // //                 <TextInput
// // // // // // //                   style={styles.input}
// // // // // // //                   placeholder={formatKey(key)}
// // // // // // //                   value={formData[key]}
// // // // // // //                   onChangeText={(text) => handleChange(key, text)}
// // // // // // //                   keyboardType={
// // // // // // //                     key === "email"
// // // // // // //                       ? "email-address"
// // // // // // //                       : key === "whatsappNumber"
// // // // // // //                       ? "numeric"
// // // // // // //                       : "default"
// // // // // // //                   }
// // // // // // //                 />
// // // // // // //                 {errors[key] && <Text style={styles.error}>{errors[key]}</Text>}
// // // // // // //               </View>
// // // // // // //             );
// // // // // // //           })}

// // // // // // //           <View style={styles.rowContainer}>
// // // // // // //             <View style={styles.pickerContainer}>
// // // // // // //               <Picker
// // // // // // //                 selectedValue={formData.gender}
// // // // // // //                 onValueChange={(value) => handleChange("gender", value)}
// // // // // // //                 style={styles.picker}
// // // // // // //               >
// // // // // // //                 <Picker.Item label="Gender" value="" />
// // // // // // //                 <Picker.Item label="Male" value="male" />
// // // // // // //                 <Picker.Item label="Female" value="female" />
// // // // // // //                 <Picker.Item label="Other" value="other" />
// // // // // // //               </Picker>
// // // // // // //             </View>

// // // // // // //             <View style={styles.pickerContainer}>
// // // // // // //               <Picker
// // // // // // //                 selectedValue={formData.status}
// // // // // // //                 onValueChange={(value) => handleChange("status", value)}
// // // // // // //                 style={styles.picker}
// // // // // // //               >
// // // // // // //                 <Picker.Item label="Status" value="" />
// // // // // // //                 <Picker.Item label="Married" value="married" />
// // // // // // //                 <Picker.Item label="Unmarried" value="unmarried" />
// // // // // // //               </Picker>
// // // // // // //             </View>

// // // // // // //             <TextInput
// // // // // // //               style={[styles.input, { flex: 1 }]}
// // // // // // //               placeholder="Age"
// // // // // // //               value={formData.age}
// // // // // // //               onChangeText={(text) => handleChange("age", text)}
// // // // // // //               keyboardType="numeric"
// // // // // // //             />
// // // // // // //           </View>

// // // // // // //           <View>
// // // // // // //             {errors.gender && <Text style={styles.error}>{errors.gender}</Text>}
// // // // // // //             {errors.status && <Text style={styles.error}>{errors.status}</Text>}
// // // // // // //             {errors.age && <Text style={styles.error}>{errors.age}</Text>}
// // // // // // //           </View>

// // // // // // //           <TouchableOpacity style={styles.button} onPress={handleSubmit}>
// // // // // // //             <Text style={styles.buttonText}>📩 Submit</Text>
// // // // // // //           </TouchableOpacity>

// // // // // // //           {showModal && (
// // // // // // //             <Animated.View
// // // // // // //               style={[styles.modal, { transform: [{ translateY: slideAnim }] }]}
// // // // // // //             >
// // // // // // //               <Text style={styles.modalText}>{modalMsg}</Text>
// // // // // // //             </Animated.View>
// // // // // // //           )}
// // // // // // //         </ScrollView>
// // // // // // //       </TouchableWithoutFeedback>
// // // // // // //     </CustomBackground>
// // // // // // //   );
// // // // // // // }

// // // // // // // const styles = StyleSheet.create({
// // // // // // //   heading: {
// // // // // // //     fontSize: 25,
// // // // // // //     fontWeight: "bold",
// // // // // // //     color: "#6C472D",
// // // // // // //     textAlign: "center",
// // // // // // //     marginBottom: 10,
// // // // // // //     writingDirection: "rtl",
// // // // // // //   },
// // // // // // //   description: {
// // // // // // //     fontSize: 18,
// // // // // // //     color: "#6C472D",
// // // // // // //     lineHeight: 30,
// // // // // // //     textAlign: "right",
// // // // // // //     writingDirection: "rtl",
// // // // // // //     marginBottom: 10,
// // // // // // //   },
// // // // // // //   input: {
// // // // // // //     width: "100%",
// // // // // // //     padding: 6,
// // // // // // //     color: "#6D4C41",
// // // // // // //     fontSize: 16,
// // // // // // //     borderBottomWidth: 2,
// // // // // // //     borderBottomColor: "#6D4C41",
// // // // // // //     marginTop: 5,
// // // // // // //   },
// // // // // // //   error: {
// // // // // // //     color: "red",
// // // // // // //     fontSize: 10,
// // // // // // //     marginBottom: 5,
// // // // // // //   },
// // // // // // //   button: {
// // // // // // //     backgroundColor: "#6D4C41",
// // // // // // //     padding: 15,
// // // // // // //     borderRadius: 10,
// // // // // // //     alignItems: "center",
// // // // // // //     marginTop: 20,
// // // // // // //     width: "100%",
// // // // // // //   },
// // // // // // //   buttonText: {
// // // // // // //     color: "#FFFFFF",
// // // // // // //     fontSize: 18,
// // // // // // //     fontWeight: "bold",
// // // // // // //   },
// // // // // // //   modal: {
// // // // // // //     position: "absolute",
// // // // // // //     top: "50%",
// // // // // // //     left: 40,
// // // // // // //     right: 40,
// // // // // // //     padding: 20,
// // // // // // //     backgroundColor: "#6D4C41",
// // // // // // //     borderRadius: 5,
// // // // // // //     shadowColor: "#000",
// // // // // // //     shadowOpacity: 0.3,
// // // // // // //     shadowRadius: 10,
// // // // // // //     elevation: 10,
// // // // // // //     alignItems: "center",
// // // // // // //   },
// // // // // // //   modalText: {
// // // // // // //     color: "#FFFFFF",
// // // // // // //     fontSize: 18,
// // // // // // //     fontWeight: "bold",
// // // // // // //     textAlign: "center",
// // // // // // //     padding: 15,
// // // // // // //     borderRadius: 5,
// // // // // // //   },
// // // // // // //   rowContainer: {
// // // // // // //     flexDirection: "row",
// // // // // // //     justifyContent: "space-between",
// // // // // // //     gap: 10,
// // // // // // //     marginTop: 10,
// // // // // // //     alignItems: "center",
// // // // // // //   },
// // // // // // //   pickerContainer: {
// // // // // // //     flex: 1,
// // // // // // //   },
// // // // // // //   picker: {
// // // // // // //     height: 50,
// // // // // // //     width: "100%",
// // // // // // //   },
// // // // // // // });
// // // // // // // import React, { useState } from "react";
// // // // // // // import {
// // // // // // //   View,
// // // // // // //   Text,
// // // // // // //   TextInput,
// // // // // // //   ScrollView,
// // // // // // //   TouchableOpacity,
// // // // // // //   StyleSheet,
// // // // // // //   Alert,
// // // // // // // } from "react-native";
// // // // // // // import { Picker } from "@react-native-picker/picker";

// // // // // // // const AddForm = () => {
// // // // // // //   const [formData, setFormData] = useState({
// // // // // // //     name: "",
// // // // // // //     fatherName: "",
// // // // // // //     motherName: "",
// // // // // // //     country: "",
// // // // // // //     cityName: "",
// // // // // // //     age: "",
// // // // // // //     day: "",
// // // // // // //     month: "",
// // // // // // //     year: "",
// // // // // // //     gender: "",
// // // // // // //     status: "",
// // // // // // //     whatsappNumber: "",
// // // // // // //     email: "",
// // // // // // //     natureOfBait: "",
// // // // // // //   });

// // // // // // //   const [errors, setErrors] = useState({});

// // // // // // //   const handleChange = (name, value) => {
// // // // // // //     setFormData((prevState) => {
// // // // // // //       const updated = { ...prevState, [name]: value };

// // // // // // //       // Auto calculate age when DOB is complete
// // // // // // //       if (name === "day" || name === "month" || name === "year") {
// // // // // // //         const { day, month, year } = { ...updated, [name]: value };
// // // // // // //         if (day && month && year) {
// // // // // // //           const calculatedAge = calculateAge(day, month, year);
// // // // // // //           updated.age = calculatedAge;
// // // // // // //         }
// // // // // // //       }

// // // // // // //       return updated;
// // // // // // //     });
// // // // // // //   };

// // // // // // //   const calculateAge = (day, month, year) => {
// // // // // // //     const birthDate = new Date(year, month - 1, day);
// // // // // // //     const today = new Date();
// // // // // // //     let age = today.getFullYear() - birthDate.getFullYear();
// // // // // // //     const monthDiff = today.getMonth() - birthDate.getMonth();
// // // // // // //     if (
// // // // // // //       monthDiff < 0 ||
// // // // // // //       (monthDiff === 0 && today.getDate() < birthDate.getDate())
// // // // // // //     ) {
// // // // // // //       age--;
// // // // // // //     }
// // // // // // //     return age.toString();
// // // // // // //   };

// // // // // // //   const validateForm = () => {
// // // // // // //     const newErrors = {};
// // // // // // //     if (!formData.name) newErrors.name = "Name is required";
// // // // // // //     if (!formData.fatherName)
// // // // // // //       newErrors.fatherName = "Father's name is required";
// // // // // // //     if (!formData.motherName)
// // // // // // //       newErrors.motherName = "Mother's name is required";
// // // // // // //     if (!formData.country) newErrors.country = "Country is required";
// // // // // // //     if (!formData.cityName) newErrors.cityName = "City name is required";
// // // // // // //     if (!formData.whatsappNumber)
// // // // // // //       newErrors.whatsappNumber = "WhatsApp number is required";
// // // // // // //     if (!formData.email) newErrors.email = "Email is required";
// // // // // // //     if (!formData.gender) newErrors.gender = "Gender is required";
// // // // // // //     if (!formData.status) newErrors.status = "Status is required";
// // // // // // //     if (!formData.natureOfBait)
// // // // // // //       newErrors.natureOfBait = "Nature of bait is required";

// // // // // // //     // Validate DOB
// // // // // // //     const { day, month, year } = formData;
// // // // // // //     if (!day || !month || !year) {
// // // // // // //       newErrors.dateOfBirth = "Please select a valid date of birth.";
// // // // // // //     } else {
// // // // // // //       const birthDate = new Date(year, month - 1, day);
// // // // // // //       if (isNaN(birthDate.getTime())) {
// // // // // // //         newErrors.dateOfBirth = "Invalid date.";
// // // // // // //       }
// // // // // // //     }

// // // // // // //     setErrors(newErrors);
// // // // // // //     return Object.keys(newErrors).length === 0;
// // // // // // //   };

// // // // // // //   const handleSubmit = () => {
// // // // // // //     if (validateForm()) {
// // // // // // //       Alert.alert("Form Submitted", JSON.stringify(formData, null, 2));
// // // // // // //       // Submit formData to backend here
// // // // // // //     }
// // // // // // //   };

// // // // // // //   const days = Array.from({ length: 31 }, (_, i) => (i + 1).toString());
// // // // // // //   const months = [
// // // // // // //     "January",
// // // // // // //     "February",
// // // // // // //     "March",
// // // // // // //     "April",
// // // // // // //     "May",
// // // // // // //     "June",
// // // // // // //     "July",
// // // // // // //     "August",
// // // // // // //     "September",
// // // // // // //     "October",
// // // // // // //     "November",
// // // // // // //     "December",
// // // // // // //   ];
// // // // // // //   const currentYear = new Date().getFullYear();
// // // // // // //   const years = Array.from({ length: 100 }, (_, i) =>
// // // // // // //     (currentYear - i).toString()
// // // // // // //   );

// // // // // // //   return (
// // // // // // //     <ScrollView style={styles.container}>
// // // // // // //       <Text style={styles.heading}>Add New Form</Text>

// // // // // // //       <TextInput
// // // // // // //         style={styles.input}
// // // // // // //         placeholder="Name"
// // // // // // //         value={formData.name}
// // // // // // //         onChangeText={(value) => handleChange("name", value)}
// // // // // // //       />
// // // // // // //       {errors.name && <Text style={styles.error}>{errors.name}</Text>}

// // // // // // //       <TextInput
// // // // // // //         style={styles.input}
// // // // // // //         placeholder="Father's Name"
// // // // // // //         value={formData.fatherName}
// // // // // // //         onChangeText={(value) => handleChange("fatherName", value)}
// // // // // // //       />
// // // // // // //       {errors.fatherName && (
// // // // // // //         <Text style={styles.error}>{errors.fatherName}</Text>
// // // // // // //       )}

// // // // // // //       <TextInput
// // // // // // //         style={styles.input}
// // // // // // //         placeholder="Mother's Name"
// // // // // // //         value={formData.motherName}
// // // // // // //         onChangeText={(value) => handleChange("motherName", value)}
// // // // // // //       />
// // // // // // //       {errors.motherName && (
// // // // // // //         <Text style={styles.error}>{errors.motherName}</Text>
// // // // // // //       )}

// // // // // // //       <TextInput
// // // // // // //         style={styles.input}
// // // // // // //         placeholder="Country"
// // // // // // //         value={formData.country}
// // // // // // //         onChangeText={(value) => handleChange("country", value)}
// // // // // // //       />
// // // // // // //       {errors.country && <Text style={styles.error}>{errors.country}</Text>}

// // // // // // //       <TextInput
// // // // // // //         style={styles.input}
// // // // // // //         placeholder="City Name"
// // // // // // //         value={formData.cityName}
// // // // // // //         onChangeText={(value) => handleChange("cityName", value)}
// // // // // // //       />
// // // // // // //       {errors.cityName && <Text style={styles.error}>{errors.cityName}</Text>}

// // // // // // //       <Text style={styles.label}>Date of Birth</Text>
// // // // // // //       <View style={styles.dateOfBirthContainer}>
// // // // // // //         <Picker
// // // // // // //           selectedValue={formData.day}
// // // // // // //           style={styles.picker}
// // // // // // //           onValueChange={(value) => handleChange("day", value)}
// // // // // // //         >
// // // // // // //           <Picker.Item label="Day" value="" />
// // // // // // //           {days.map((day) => (
// // // // // // //             <Picker.Item key={day} label={day} value={day} />
// // // // // // //           ))}
// // // // // // //         </Picker>

// // // // // // //         <Picker
// // // // // // //           selectedValue={formData.month}
// // // // // // //           style={styles.picker}
// // // // // // //           onValueChange={(value) => handleChange("month", value)}
// // // // // // //         >
// // // // // // //           <Picker.Item label="Month" value="" />
// // // // // // //           {months.map((month, index) => (
// // // // // // //             <Picker.Item
// // // // // // //               key={month}
// // // // // // //               label={month}
// // // // // // //               value={(index + 1).toString()}
// // // // // // //             />
// // // // // // //           ))}
// // // // // // //         </Picker>

// // // // // // //         <Picker
// // // // // // //           selectedValue={formData.year}
// // // // // // //           style={styles.picker}
// // // // // // //           onValueChange={(value) => handleChange("year", value)}
// // // // // // //         >
// // // // // // //           <Picker.Item label="Year" value="" />
// // // // // // //           {years.map((year) => (
// // // // // // //             <Picker.Item key={year} label={year} value={year} />
// // // // // // //           ))}
// // // // // // //         </Picker>
// // // // // // //       </View>
// // // // // // //       {errors.dateOfBirth && (
// // // // // // //         <Text style={styles.error}>{errors.dateOfBirth}</Text>
// // // // // // //       )}

// // // // // // //       <TextInput
// // // // // // //         style={styles.input}
// // // // // // //         placeholder="Age"
// // // // // // //         value={formData.age}
// // // // // // //         editable={false}
// // // // // // //       />

// // // // // // //       <TextInput
// // // // // // //         style={styles.input}
// // // // // // //         placeholder="Gender"
// // // // // // //         value={formData.gender}
// // // // // // //         onChangeText={(value) => handleChange("gender", value)}
// // // // // // //       />
// // // // // // //       {errors.gender && <Text style={styles.error}>{errors.gender}</Text>}

// // // // // // //       <TextInput
// // // // // // //         style={styles.input}
// // // // // // //         placeholder="Status"
// // // // // // //         value={formData.status}
// // // // // // //         onChangeText={(value) => handleChange("status", value)}
// // // // // // //       />
// // // // // // //       {errors.status && <Text style={styles.error}>{errors.status}</Text>}

// // // // // // //       <TextInput
// // // // // // //         style={styles.input}
// // // // // // //         placeholder="WhatsApp Number"
// // // // // // //         value={formData.whatsappNumber}
// // // // // // //         onChangeText={(value) => handleChange("whatsappNumber", value)}
// // // // // // //       />
// // // // // // //       {errors.whatsappNumber && (
// // // // // // //         <Text style={styles.error}>{errors.whatsappNumber}</Text>
// // // // // // //       )}

// // // // // // //       <TextInput
// // // // // // //         style={styles.input}
// // // // // // //         placeholder="Email"
// // // // // // //         value={formData.email}
// // // // // // //         onChangeText={(value) => handleChange("email", value)}
// // // // // // //       />
// // // // // // //       {errors.email && <Text style={styles.error}>{errors.email}</Text>}

// // // // // // //       <TextInput
// // // // // // //         style={styles.input}
// // // // // // //         placeholder="Nature of Bait"
// // // // // // //         value={formData.natureOfBait}
// // // // // // //         onChangeText={(value) => handleChange("natureOfBait", value)}
// // // // // // //       />
// // // // // // //       {errors.natureOfBait && (
// // // // // // //         <Text style={styles.error}>{errors.natureOfBait}</Text>
// // // // // // //       )}

// // // // // // //       <TouchableOpacity onPress={handleSubmit} style={styles.button}>
// // // // // // //         <Text style={styles.buttonText}>Submit</Text>
// // // // // // //       </TouchableOpacity>
// // // // // // //     </ScrollView>
// // // // // // //   );
// // // // // // // };

// // // // // // // export default AddForm;

// // // // // // // const styles = StyleSheet.create({
// // // // // // //   container: {
// // // // // // //     padding: 20,
// // // // // // //     backgroundColor: "#fff",
// // // // // // //   },
// // // // // // //   heading: {
// // // // // // //     fontSize: 22,
// // // // // // //     fontWeight: "bold",
// // // // // // //     marginBottom: 20,
// // // // // // //     textAlign: "center",
// // // // // // //   },
// // // // // // //   input: {
// // // // // // //     borderBottomWidth: 1,
// // // // // // //     borderBottomColor: "#999",
// // // // // // //     paddingVertical: 8,
// // // // // // //     marginBottom: 12,
// // // // // // //   },
// // // // // // //   label: {
// // // // // // //     fontSize: 16,
// // // // // // //     marginBottom: 5,
// // // // // // //     marginTop: 10,
// // // // // // //   },
// // // // // // //   dateOfBirthContainer: {
// // // // // // //     flexDirection: "row",
// // // // // // //     justifyContent: "space-between",
// // // // // // //     marginBottom: 12,
// // // // // // //   },
// // // // // // //   picker: {
// // // // // // //     flex: 1,
// // // // // // //     height: 50,
// // // // // // //     marginHorizontal: 5,
// // // // // // //   },
// // // // // // //   button: {
// // // // // // //     backgroundColor: "#4CAF50",
// // // // // // //     padding: 14,
// // // // // // //     borderRadius: 6,
// // // // // // //     alignItems: "center",
// // // // // // //     marginTop: 20,
// // // // // // //   },
// // // // // // //   buttonText: {
// // // // // // //     color: "#fff",
// // // // // // //     fontWeight: "bold",
// // // // // // //   },
// // // // // // //   error: {
// // // // // // //     color: "red",
// // // // // // //     marginBottom: 8,
// // // // // // //     marginLeft: 4,
// // // // // // //   },
// // // // // // // });
// // // // // // import React, { useState } from "react";
// // // // // // import {
// // // // // //   View,
// // // // // //   Text,
// // // // // //   TextInput,
// // // // // //   TouchableOpacity,
// // // // // //   ScrollView,
// // // // // //   StyleSheet,
// // // // // // } from "react-native";
// // // // // // import { Picker } from "@react-native-picker/picker";

// // // // // // const FormScreen = () => {
// // // // // //   const [formData, setFormData] = useState({
// // // // // //     name: "",
// // // // // //     fatherName: "",
// // // // // //     motherName: "",
// // // // // //     country: "",
// // // // // //     cityName: "",
// // // // // //     day: "",
// // // // // //     month: "",
// // // // // //     year: "",
// // // // // //     age: "",
// // // // // //     whatsappNumber: "",
// // // // // //     email: "",
// // // // // //   });

// // // // // //   const [errors, setErrors] = useState({});

// // // // // //   const handleChange = (key, value) => {
// // // // // //     setFormData({ ...formData, [key]: value });
// // // // // //   };

// // // // // //   const handleSubmit = () => {
// // // // // //     console.log("Submitted Data:", formData);
// // // // // //   };

// // // // // //   return (
// // // // // //     <ScrollView style={styles.container}>
// // // // // //       <Text style={styles.heading}>Add New Form</Text>

// // // // // //       <View style={styles.inputRow}>
// // // // // //         <Text style={styles.label}>Name:</Text>
// // // // // //         <TextInput
// // // // // //           style={styles.inputBox}
// // // // // //           value={formData.name}
// // // // // //           onChangeText={(value) => handleChange("name", value)}
// // // // // //         />
// // // // // //       </View>

// // // // // //       <View style={styles.inputRow}>
// // // // // //         <Text style={styles.label}>Father's Name:</Text>
// // // // // //         <TextInput
// // // // // //           style={styles.inputBox}
// // // // // //           value={formData.fatherName}
// // // // // //           onChangeText={(value) => handleChange("fatherName", value)}
// // // // // //         />
// // // // // //       </View>

// // // // // //       <View style={styles.inputRow}>
// // // // // //         <Text style={styles.label}>Mother's Name:</Text>
// // // // // //         <TextInput
// // // // // //           style={styles.inputBox}
// // // // // //           value={formData.motherName}
// // // // // //           onChangeText={(value) => handleChange("motherName", value)}
// // // // // //         />
// // // // // //       </View>

// // // // // //       <View style={styles.inputRow}>
// // // // // //         <Text style={styles.label}>Country:</Text>
// // // // // //         <TextInput
// // // // // //           style={styles.inputBox}
// // // // // //           value={formData.country}
// // // // // //           onChangeText={(value) => handleChange("country", value)}
// // // // // //         />
// // // // // //       </View>

// // // // // //       <View style={styles.inputRow}>
// // // // // //         <Text style={styles.label}>City:</Text>
// // // // // //         <TextInput
// // // // // //           style={styles.inputBox}
// // // // // //           value={formData.cityName}
// // // // // //           onChangeText={(value) => handleChange("cityName", value)}
// // // // // //         />
// // // // // //       </View>

// // // // // //       <View style={styles.inputRow}>
// // // // // //         <Text style={styles.label}>DOB:</Text>
// // // // // //         <View style={{ flex: 1, flexDirection: "row" }}>
// // // // // //           <Picker
// // // // // //             selectedValue={formData.day}
// // // // // //             style={styles.pickerInput}
// // // // // //             onValueChange={(value) => handleChange("day", value)}
// // // // // //           >
// // // // // //             <Picker.Item label="Day" value="" />
// // // // // //             {Array.from({ length: 31 }, (_, i) => (
// // // // // //               <Picker.Item key={i + 1} label={`${i + 1}`} value={`${i + 1}`} />
// // // // // //             ))}
// // // // // //           </Picker>

// // // // // //           <Picker
// // // // // //             selectedValue={formData.month}
// // // // // //             style={styles.pickerInput}
// // // // // //             onValueChange={(value) => handleChange("month", value)}
// // // // // //           >
// // // // // //             <Picker.Item label="Month" value="" />
// // // // // //             {[
// // // // // //               "January",
// // // // // //               "February",
// // // // // //               "March",
// // // // // //               "April",
// // // // // //               "May",
// // // // // //               "June",
// // // // // //               "July",
// // // // // //               "August",
// // // // // //               "September",
// // // // // //               "October",
// // // // // //               "November",
// // // // // //               "December",
// // // // // //             ].map((m, i) => (
// // // // // //               <Picker.Item key={i + 1} label={m} value={`${i + 1}`} />
// // // // // //             ))}
// // // // // //           </Picker>

// // // // // //           <Picker
// // // // // //             selectedValue={formData.year}
// // // // // //             style={styles.pickerInput}
// // // // // //             onValueChange={(value) => handleChange("year", value)}
// // // // // //           >
// // // // // //             <Picker.Item label="Year" value="" />
// // // // // //             {Array.from({ length: 100 }, (_, i) => {
// // // // // //               const year = new Date().getFullYear() - i;
// // // // // //               return (
// // // // // //                 <Picker.Item key={year} label={`${year}`} value={`${year}`} />
// // // // // //               );
// // // // // //             })}
// // // // // //           </Picker>
// // // // // //         </View>
// // // // // //       </View>

// // // // // //       <View style={styles.inputRow}>
// // // // // //         <Text style={styles.label}>Age:</Text>
// // // // // //         <TextInput
// // // // // //           style={[styles.inputBox, { backgroundColor: "#eee" }]}
// // // // // //           value={formData.age}
// // // // // //           editable={false}
// // // // // //         />
// // // // // //       </View>

// // // // // //       <View style={styles.inputRow}>
// // // // // //         <Text style={styles.label}>WhatsApp:</Text>
// // // // // //         <TextInput
// // // // // //           style={styles.inputBox}
// // // // // //           value={formData.whatsappNumber}
// // // // // //           onChangeText={(value) => handleChange("whatsappNumber", value)}
// // // // // //         />
// // // // // //       </View>

// // // // // //       <View style={styles.inputRow}>
// // // // // //         <Text style={styles.label}>Email:</Text>
// // // // // //         <TextInput
// // // // // //           style={styles.inputBox}
// // // // // //           value={formData.email}
// // // // // //           onChangeText={(value) => handleChange("email", value)}
// // // // // //         />
// // // // // //       </View>

// // // // // //       <TouchableOpacity onPress={handleSubmit} style={styles.button}>
// // // // // //         <Text style={styles.buttonText}>Submit</Text>
// // // // // //       </TouchableOpacity>
// // // // // //     </ScrollView>
// // // // // //   );
// // // // // // };

// // // // // // const styles = StyleSheet.create({
// // // // // //   container: {
// // // // // //     padding: 16,
// // // // // //     backgroundColor: "#f7f7f7",
// // // // // //   },
// // // // // //   heading: {
// // // // // //     fontSize: 20,
// // // // // //     fontWeight: "bold",
// // // // // //     marginBottom: 20,
// // // // // //     textAlign: "center",
// // // // // //   },
// // // // // //   inputRow: {
// // // // // //     flexDirection: "row",
// // // // // //     alignItems: "center",
// // // // // //     marginBottom: 12,
// // // // // //   },
// // // // // //   label: {
// // // // // //     width: 110,
// // // // // //     fontSize: 16,
// // // // // //     fontWeight: "500",
// // // // // //   },
// // // // // //   inputBox: {
// // // // // //     flex: 1,
// // // // // //     backgroundColor: "#fff",
// // // // // //     borderWidth: 1,
// // // // // //     borderColor: "#ccc",
// // // // // //     paddingHorizontal: 10,
// // // // // //     paddingVertical: 8,
// // // // // //     borderRadius: 4,
// // // // // //   },
// // // // // //   pickerInput: {
// // // // // //     flex: 1,
// // // // // //     backgroundColor: "#fff",
// // // // // //     borderWidth: 1,
// // // // // //     borderColor: "#ccc",
// // // // // //     marginHorizontal: 3,
// // // // // //     height: 44,
// // // // // //   },
// // // // // //   button: {
// // // // // //     backgroundColor: "#007bff",
// // // // // //     padding: 12,
// // // // // //     borderRadius: 6,
// // // // // //     alignItems: "center",
// // // // // //     marginTop: 20,
// // // // // //   },
// // // // // //   buttonText: {
// // // // // //     color: "#fff",
// // // // // //     fontSize: 16,
// // // // // //     fontWeight: "600",
// // // // // //   },
// // // // // // });

// // // // // // export default FormScreen;
// // // // // import React, { useState, useEffect } from "react";
// // // // // import {
// // // // //   View,
// // // // //   Text,
// // // // //   TextInput,
// // // // //   TouchableOpacity,
// // // // //   ScrollView,
// // // // //   StyleSheet,
// // // // // } from "react-native";
// // // // // import { Picker } from "@react-native-picker/picker";

// // // // // const FormScreen = () => {
// // // // //   const [formData, setFormData] = useState({
// // // // //     name: "",
// // // // //     fatherName: "",
// // // // //     motherName: "",
// // // // //     country: "",
// // // // //     cityName: "",
// // // // //     day: "",
// // // // //     month: "",
// // // // //     year: "",
// // // // //     age: "",
// // // // //     whatsappNumber: "",
// // // // //     email: "",
// // // // //     gender: "",
// // // // //     status: "",
// // // // //   });

// // // // //   const [errors, setErrors] = useState({});

// // // // //   useEffect(() => {
// // // // //     if (formData.day && formData.month && formData.year) {
// // // // //       const birthDate = new Date(
// // // // //         formData.year,
// // // // //         formData.month - 1,
// // // // //         formData.day
// // // // //       );
// // // // //       const currentDate = new Date();
// // // // //       const age = currentDate.getFullYear() - birthDate.getFullYear();
// // // // //       const monthDiff = currentDate.getMonth() - birthDate.getMonth();
// // // // //       if (
// // // // //         monthDiff < 0 ||
// // // // //         (monthDiff === 0 && currentDate.getDate() < birthDate.getDate())
// // // // //       ) {
// // // // //         setFormData({ ...formData, age: age - 1 });
// // // // //       } else {
// // // // //         setFormData({ ...formData, age });
// // // // //       }
// // // // //     }
// // // // //   }, [formData.day, formData.month, formData.year]);

// // // // //   const handleChange = (key, value) => {
// // // // //     setFormData({ ...formData, [key]: value });
// // // // //   };

// // // // //   const handleSubmit = () => {
// // // // //     console.log("Submitted Data:", formData);
// // // // //   };

// // // // //   return (
// // // // //     <ScrollView style={styles.container}>
// // // // //       <Text style={styles.heading}>Add New Form</Text>

// // // // //       <View style={styles.inputRow}>
// // // // //         <Text style={styles.label}>Name:</Text>
// // // // //         <TextInput
// // // // //           style={styles.inputBox}
// // // // //           value={formData.name}
// // // // //           onChangeText={(value) => handleChange("name", value)}
// // // // //         />
// // // // //       </View>

// // // // //       <View style={styles.inputRow}>
// // // // //         <Text style={styles.label}>Father's Name:</Text>
// // // // //         <TextInput
// // // // //           style={styles.inputBox}
// // // // //           value={formData.fatherName}
// // // // //           onChangeText={(value) => handleChange("fatherName", value)}
// // // // //         />
// // // // //       </View>

// // // // //       <View style={styles.inputRow}>
// // // // //         <Text style={styles.label}>Mother's Name:</Text>
// // // // //         <TextInput
// // // // //           style={styles.inputBox}
// // // // //           value={formData.motherName}
// // // // //           onChangeText={(value) => handleChange("motherName", value)}
// // // // //         />
// // // // //       </View>

// // // // //       <View style={styles.inputRow}>
// // // // //         <Text style={styles.label}>Country:</Text>
// // // // //         <TextInput
// // // // //           style={styles.inputBox}
// // // // //           value={formData.country}
// // // // //           onChangeText={(value) => handleChange("country", value)}
// // // // //         />
// // // // //       </View>

// // // // //       <View style={styles.inputRow}>
// // // // //         <Text style={styles.label}>City:</Text>
// // // // //         <TextInput
// // // // //           style={styles.inputBox}
// // // // //           value={formData.cityName}
// // // // //           onChangeText={(value) => handleChange("cityName", value)}
// // // // //         />
// // // // //       </View>

// // // // //       <View style={styles.inputRow}>
// // // // //         <Text style={styles.label}>DOB:</Text>
// // // // //         <View style={{ flex: 1, flexDirection: "row" }}>
// // // // //           <Picker
// // // // //             selectedValue={formData.day}
// // // // //             style={styles.pickerInput}
// // // // //             onValueChange={(value) => handleChange("day", value)}
// // // // //           >
// // // // //             <Picker.Item label="Day" value="" />
// // // // //             {Array.from({ length: 31 }, (_, i) => (
// // // // //               <Picker.Item key={i + 1} label={`${i + 1}`} value={`${i + 1}`} />
// // // // //             ))}
// // // // //           </Picker>

// // // // //           <Picker
// // // // //             selectedValue={formData.month}
// // // // //             style={styles.pickerInput}
// // // // //             onValueChange={(value) => handleChange("month", value)}
// // // // //           >
// // // // //             <Picker.Item label="Month" value="" />
// // // // //             {[
// // // // //               "January",
// // // // //               "February",
// // // // //               "March",
// // // // //               "April",
// // // // //               "May",
// // // // //               "June",
// // // // //               "July",
// // // // //               "August",
// // // // //               "September",
// // // // //               "October",
// // // // //               "November",
// // // // //               "December",
// // // // //             ].map((m, i) => (
// // // // //               <Picker.Item key={i + 1} label={m} value={`${i + 1}`} />
// // // // //             ))}
// // // // //           </Picker>

// // // // //           <Picker
// // // // //             selectedValue={formData.year}
// // // // //             style={styles.pickerInput}
// // // // //             onValueChange={(value) => handleChange("year", value)}
// // // // //           >
// // // // //             <Picker.Item label="Year" value="" />
// // // // //             {Array.from({ length: 100 }, (_, i) => {
// // // // //               const year = new Date().getFullYear() - i;
// // // // //               return (
// // // // //                 <Picker.Item key={year} label={`${year}`} value={`${year}`} />
// // // // //               );
// // // // //             })}
// // // // //           </Picker>
// // // // //         </View>
// // // // //       </View>

// // // // //       <View style={styles.inputRow}>
// // // // //         <Text style={styles.label}>Age:</Text>
// // // // //         <TextInput
// // // // //           style={[styles.inputBox, { backgroundColor: "#eee" }]}
// // // // //           value={formData.age}
// // // // //           editable={false}
// // // // //         />
// // // // //       </View>

// // // // //       <View style={styles.inputRow}>
// // // // //         <Text style={styles.label}>WhatsApp:</Text>
// // // // //         <TextInput
// // // // //           style={styles.inputBox}
// // // // //           value={formData.whatsappNumber}
// // // // //           onChangeText={(value) => handleChange("whatsappNumber", value)}
// // // // //         />
// // // // //       </View>

// // // // //       <View style={styles.inputRow}>
// // // // //         <Text style={styles.label}>Email:</Text>
// // // // //         <TextInput
// // // // //           style={styles.inputBox}
// // // // //           value={formData.email}
// // // // //           onChangeText={(value) => handleChange("email", value)}
// // // // //         />
// // // // //       </View>

// // // // //       {/* Gender Field */}
// // // // //       <View style={styles.inputRow}>
// // // // //         <Text style={styles.label}>Gender:</Text>
// // // // //         <Picker
// // // // //           selectedValue={formData.gender}
// // // // //           style={styles.pickerInput}
// // // // //           onValueChange={(value) => handleChange("gender", value)}
// // // // //         >
// // // // //           <Picker.Item label="Select Gender" value="" />
// // // // //           <Picker.Item label="Male" value="male" />
// // // // //           <Picker.Item label="Female" value="female" />
// // // // //           <Picker.Item label="Other" value="other" />
// // // // //         </Picker>
// // // // //       </View>

// // // // //       {/* Status Field */}
// // // // //       <View style={styles.inputRow}>
// // // // //         <Text style={styles.label}>Status:</Text>
// // // // //         <Picker
// // // // //           selectedValue={formData.status}
// // // // //           style={styles.pickerInput}
// // // // //           onValueChange={(value) => handleChange("status", value)}
// // // // //         >
// // // // //           <Picker.Item label="Select Status" value="" />
// // // // //           <Picker.Item label="Single" value="single" />
// // // // //           <Picker.Item label="Married" value="married" />
// // // // //           <Picker.Item label="Divorced" value="divorced" />
// // // // //         </Picker>
// // // // //       </View>

// // // // //       <TouchableOpacity onPress={handleSubmit} style={styles.button}>
// // // // //         <Text style={styles.buttonText}>Submit</Text>
// // // // //       </TouchableOpacity>
// // // // //     </ScrollView>
// // // // //   );
// // // // // };

// // // // // const styles = StyleSheet.create({
// // // // //   container: {
// // // // //     padding: 16,
// // // // //     backgroundColor: "#f7f7f7",
// // // // //   },
// // // // //   heading: {
// // // // //     fontSize: 20,
// // // // //     fontWeight: "bold",
// // // // //     marginBottom: 20,
// // // // //     textAlign: "center",
// // // // //   },
// // // // //   inputRow: {
// // // // //     flexDirection: "row",
// // // // //     alignItems: "center",
// // // // //     marginBottom: 12,
// // // // //   },
// // // // //   label: {
// // // // //     width: 110,
// // // // //     fontSize: 16,
// // // // //     fontWeight: "500",
// // // // //   },
// // // // //   inputBox: {
// // // // //     flex: 1,
// // // // //     backgroundColor: "#fff",
// // // // //     borderWidth: 1,
// // // // //     borderColor: "#ccc",
// // // // //     paddingHorizontal: 10,
// // // // //     paddingVertical: 8,
// // // // //     borderRadius: 4,
// // // // //   },
// // // // //   pickerInput: {
// // // // //     flex: 1,
// // // // //     backgroundColor: "#fff",
// // // // //     borderWidth: 1,
// // // // //     borderColor: "#ccc",
// // // // //     marginHorizontal: 3,
// // // // //     height: 44,
// // // // //   },
// // // // //   button: {
// // // // //     backgroundColor: "#007bff",
// // // // //     padding: 12,
// // // // //     borderRadius: 6,
// // // // //     alignItems: "center",
// // // // //     marginTop: 20,
// // // // //   },
// // // // //   buttonText: {
// // // // //     color: "#fff",
// // // // //     fontSize: 16,
// // // // //     fontWeight: "600",
// // // // //   },
// // // // // });

// // // // // export default FormScreen;

// // // // import React, { useState, useEffect } from "react";
// // // // import {
// // // //   View,
// // // //   Text,
// // // //   TextInput,
// // // //   TouchableOpacity,
// // // //   ScrollView,
// // // //   StyleSheet,
// // // // } from "react-native";
// // // // import { Picker } from "@react-native-picker/picker";

// // // // const FormScreen = () => {
// // // //   const [formData, setFormData] = useState({
// // // //     name: "",
// // // //     fatherName: "",
// // // //     motherName: "",
// // // //     country: "",
// // // //     cityName: "",
// // // //     day: "",
// // // //     month: "",
// // // //     year: "",
// // // //     age: "",
// // // //     whatsappNumber: "",
// // // //     email: "",
// // // //     gender: "",
// // // //     status: "",
// // // //   });

// // // //   const [errors, setErrors] = useState({});
// // // //   const [isSubmitted, setIsSubmitted] = useState(false);

// // // //   const handleChange = (key, value) => {
// // // //     setFormData({ ...formData, [key]: value });
// // // //   };

// // // //   useEffect(() => {
// // // //     if (formData.day && formData.month && formData.year) {
// // // //       const birthDate = new Date(
// // // //         `${formData.year}-${formData.month}-${formData.day}`
// // // //       );
// // // //       const today = new Date();
// // // //       const age = today.getFullYear() - birthDate.getFullYear();
// // // //       const monthDiff = today.getMonth() - birthDate.getMonth();
// // // //       if (
// // // //         monthDiff < 0 ||
// // // //         (monthDiff === 0 && today.getDate() < birthDate.getDate())
// // // //       ) {
// // // //         setFormData((prevData) => ({ ...prevData, age: age - 1 }));
// // // //       } else {
// // // //         setFormData((prevData) => ({ ...prevData, age }));
// // // //       }
// // // //     }
// // // //   }, [formData.day, formData.month, formData.year]);

// // // //   const handleSubmit = () => {
// // // //     let formErrors = {};
// // // //     if (!formData.name) formErrors.name = "Name is required";
// // // //     if (!formData.fatherName)
// // // //       formErrors.fatherName = "Father's Name is required";
// // // //     if (!formData.motherName)
// // // //       formErrors.motherName = "Mother's Name is required";
// // // //     if (!formData.country) formErrors.country = "Country is required";
// // // //     if (!formData.cityName) formErrors.cityName = "City is required";
// // // //     if (!formData.day || !formData.month || !formData.year)
// // // //       formErrors.dob = "Date of Birth is required";
// // // //     if (!formData.whatsappNumber)
// // // //       formErrors.whatsappNumber = "WhatsApp number is required";
// // // //     if (!formData.email) formErrors.email = "Email is required";
// // // //     if (!formData.gender) formErrors.gender = "Gender is required";
// // // //     if (!formData.status) formErrors.status = "Status is required";

// // // //     setErrors(formErrors);

// // // //     if (Object.keys(formErrors).length === 0) {
// // // //       setIsSubmitted(true);
// // // //       console.log("Form Submitted Successfully:", formData);
// // // //     }
// // // //   };

// // // //   return (
// // // //     <ScrollView style={styles.container}>
// // // //       <Text style={styles.heading}>Add New Form</Text>

// // // //       <View style={styles.inputRow}>
// // // //         <Text style={styles.label}>Name:</Text>
// // // //         <TextInput
// // // //           style={[styles.inputBox, errors.name && { borderColor: "red" }]}
// // // //           value={formData.name}
// // // //           onChangeText={(value) => handleChange("name", value)}
// // // //         />
// // // //         {errors.name && <Text style={styles.errorText}>{errors.name}</Text>}
// // // //       </View>

// // // //       <View style={styles.inputRow}>
// // // //         <Text style={styles.label}>Father's Name:</Text>
// // // //         <TextInput
// // // //           style={[styles.inputBox, errors.fatherName && { borderColor: "red" }]}
// // // //           value={formData.fatherName}
// // // //           onChangeText={(value) => handleChange("fatherName", value)}
// // // //         />
// // // //         {errors.fatherName && (
// // // //           <Text style={styles.errorText}>{errors.fatherName}</Text>
// // // //         )}
// // // //       </View>

// // // //       <View style={styles.inputRow}>
// // // //         <Text style={styles.label}>Mother's Name:</Text>
// // // //         <TextInput
// // // //           style={[styles.inputBox, errors.motherName && { borderColor: "red" }]}
// // // //           value={formData.motherName}
// // // //           onChangeText={(value) => handleChange("motherName", value)}
// // // //         />
// // // //         {errors.motherName && (
// // // //           <Text style={styles.errorText}>{errors.motherName}</Text>
// // // //         )}
// // // //       </View>

// // // //       <View style={styles.inputRow}>
// // // //         <Text style={styles.label}>Country:</Text>
// // // //         <TextInput
// // // //           style={[styles.inputBox, errors.country && { borderColor: "red" }]}
// // // //           value={formData.country}
// // // //           onChangeText={(value) => handleChange("country", value)}
// // // //         />
// // // //         {errors.country && (
// // // //           <Text style={styles.errorText}>{errors.country}</Text>
// // // //         )}
// // // //       </View>

// // // //       <View style={styles.inputRow}>
// // // //         <Text style={styles.label}>City:</Text>
// // // //         <TextInput
// // // //           style={[styles.inputBox, errors.cityName && { borderColor: "red" }]}
// // // //           value={formData.cityName}
// // // //           onChangeText={(value) => handleChange("cityName", value)}
// // // //         />
// // // //         {errors.cityName && (
// // // //           <Text style={styles.errorText}>{errors.cityName}</Text>
// // // //         )}
// // // //       </View>

// // // //       <View style={styles.inputRow}>
// // // //         <Text style={styles.label}>DOB:</Text>
// // // //         <View style={{ flex: 1, flexDirection: "row" }}>
// // // //           <Picker
// // // //             selectedValue={formData.day}
// // // //             style={styles.pickerInput}
// // // //             onValueChange={(value) => handleChange("day", value)}
// // // //           >
// // // //             <Picker.Item label="Day" value="" />
// // // //             {Array.from({ length: 31 }, (_, i) => (
// // // //               <Picker.Item key={i + 1} label={`${i + 1}`} value={`${i + 1}`} />
// // // //             ))}
// // // //           </Picker>

// // // //           <Picker
// // // //             selectedValue={formData.month}
// // // //             style={styles.pickerInput}
// // // //             onValueChange={(value) => handleChange("month", value)}
// // // //           >
// // // //             <Picker.Item label="Month" value="" />
// // // //             {[
// // // //               "January",
// // // //               "February",
// // // //               "March",
// // // //               "April",
// // // //               "May",
// // // //               "June",
// // // //               "July",
// // // //               "August",
// // // //               "September",
// // // //               "October",
// // // //               "November",
// // // //               "December",
// // // //             ].map((m, i) => (
// // // //               <Picker.Item key={i + 1} label={m} value={`${i + 1}`} />
// // // //             ))}
// // // //           </Picker>

// // // //           <Picker
// // // //             selectedValue={formData.year}
// // // //             style={styles.pickerInput}
// // // //             onValueChange={(value) => handleChange("year", value)}
// // // //           >
// // // //             <Picker.Item label="Year" value="" />
// // // //             {Array.from({ length: 100 }, (_, i) => {
// // // //               const year = new Date().getFullYear() - i;
// // // //               return (
// // // //                 <Picker.Item key={year} label={`${year}`} value={`${year}`} />
// // // //               );
// // // //             })}
// // // //           </Picker>
// // // //         </View>
// // // //         {errors.dob && <Text style={styles.errorText}>{errors.dob}</Text>}
// // // //       </View>

// // // //       <View style={styles.inputRow}>
// // // //         <Text style={styles.label}>Age:</Text>
// // // //         <TextInput
// // // //           style={[styles.inputBox, { backgroundColor: "#eee" }]}
// // // //           value={formData.age}
// // // //           editable={false}
// // // //         />
// // // //       </View>

// // // //       <View style={styles.inputRow}>
// // // //         <Text style={styles.label}>Gender:</Text>
// // // //         <Picker
// // // //           selectedValue={formData.gender}
// // // //           style={styles.pickerInput}
// // // //           onValueChange={(value) => handleChange("gender", value)}
// // // //         >
// // // //           <Picker.Item label="Select Gender" value="" />
// // // //           <Picker.Item label="Male" value="Male" />
// // // //           <Picker.Item label="Female" value="Female" />
// // // //           <Picker.Item label="Other" value="Other" />
// // // //         </Picker>
// // // //         {errors.gender && <Text style={styles.errorText}>{errors.gender}</Text>}
// // // //       </View>

// // // //       <View style={styles.inputRow}>
// // // //         <Text style={styles.label}>Status:</Text>
// // // //         <Picker
// // // //           selectedValue={formData.status}
// // // //           style={styles.pickerInput}
// // // //           onValueChange={(value) => handleChange("status", value)}
// // // //         >
// // // //           <Picker.Item label="Select Status" value="" />
// // // //           <Picker.Item label="Single" value="Single" />
// // // //           <Picker.Item label="Married" value="Married" />
// // // //           <Picker.Item label="Divorced" value="Divorced" />
// // // //         </Picker>
// // // //         {errors.status && <Text style={styles.errorText}>{errors.status}</Text>}
// // // //       </View>

// // // //       <View style={styles.inputRow}>
// // // //         <Text style={styles.label}>WhatsApp:</Text>
// // // //         <TextInput
// // // //           style={[
// // // //             styles.inputBox,
// // // //             errors.whatsappNumber && { borderColor: "red" },
// // // //           ]}
// // // //           value={formData.whatsappNumber}
// // // //           onChangeText={(value) => handleChange("whatsappNumber", value)}
// // // //         />
// // // //         {errors.whatsappNumber && (
// // // //           <Text style={styles.errorText}>{errors.whatsappNumber}</Text>
// // // //         )}
// // // //       </View>

// // // //       <View style={styles.inputRow}>
// // // //         <Text style={styles.label}>Email:</Text>
// // // //         <TextInput
// // // //           style={[styles.inputBox, errors.email && { borderColor: "red" }]}
// // // //           value={formData.email}
// // // //           onChangeText={(value) => handleChange("email", value)}
// // // //         />
// // // //         {errors.email && <Text style={styles.errorText}>{errors.email}</Text>}
// // // //       </View>

// // // //       <TouchableOpacity onPress={handleSubmit} style={styles.button}>
// // // //         <Text style={styles.buttonText}>Submit</Text>
// // // //       </TouchableOpacity>

// // // //       {isSubmitted && (
// // // //         <Text style={styles.successMessage}>Form submitted successfully!</Text>
// // // //       )}
// // // //     </ScrollView>
// // // //   );
// // // // };

// // // // const styles = StyleSheet.create({
// // // //   container: {
// // // //     padding: 16,
// // // //     backgroundColor: "#f7f7f7",
// // // //   },
// // // //   heading: {
// // // //     fontSize: 20,
// // // //     fontWeight: "bold",
// // // //     marginBottom: 20,
// // // //     textAlign: "center",
// // // //   },
// // // //   inputRow: {
// // // //     flexDirection: "row",
// // // //     alignItems: "center",
// // // //     marginBottom: 12,
// // // //   },
// // // //   label: {
// // // //     width: 110,
// // // //     fontSize: 16,
// // // //     fontWeight: "500",
// // // //   },
// // // //   inputBox: {
// // // //     flex: 1,
// // // //     backgroundColor: "#fff",
// // // //     borderWidth: 1,
// // // //     borderColor: "#ccc",
// // // //     paddingHorizontal: 10,
// // // //     paddingVertical: 8,
// // // //     borderRadius: 4,
// // // //   },
// // // //   pickerInput: {
// // // //     flex: 1,
// // // //     backgroundColor: "#fff",
// // // //     borderWidth: 1,
// // // //     borderColor: "#ccc",
// // // //     marginHorizontal: 3,
// // // //     height: 44,
// // // //   },
// // // //   button: {
// // // //     backgroundColor: "#007bff",
// // // //     padding: 12,
// // // //     borderRadius: 6,
// // // //     alignItems: "center",
// // // //     marginTop: 20,
// // // //   },
// // // //   buttonText: {
// // // //     color: "#fff",
// // // //     fontSize: 16,
// // // //     fontWeight: "600",
// // // //   },
// // // //   errorText: {
// // // //     color: "red",
// // // //     fontSize: 12,
// // // //     marginTop: 4,
// // // //   },
// // // //   successMessage: {
// // // //     color: "green",
// // // //     fontSize: 16,
// // // //     fontWeight: "600",
// // // //     textAlign: "center",
// // // //     marginTop: 20,
// // // //   },
// // // // });

// // // // export default FormScreen;

// // // import React, { useState, useEffect } from "react";
// // // import {
// // //   View,
// // //   Text,
// // //   TextInput,
// // //   TouchableOpacity,
// // //   ScrollView,
// // //   StyleSheet,
// // // } from "react-native";
// // // import { Picker } from "@react-native-picker/picker";

// // // const FormScreen = () => {
// // //   const [formData, setFormData] = useState({
// // //     name: "",
// // //     fatherName: "",
// // //     motherName: "",
// // //     country: "",
// // //     cityName: "",
// // //     day: "",
// // //     month: "",
// // //     year: "",
// // //     age: "",
// // //     whatsappNumber: "",
// // //     email: "",
// // //     gender: "",
// // //     status: "",
// // //   });

// // //   const [errors, setErrors] = useState({});
// // //   const [isSubmitted, setIsSubmitted] = useState(false);

// // //   const handleChange = (key, value) => {
// // //     setFormData({ ...formData, [key]: value });
// // //   };

// // //   useEffect(() => {
// // //     if (formData.day && formData.month && formData.year) {
// // //       const birthDate = new Date(
// // //         `${formData.year}-${formData.month}-${formData.day}`
// // //       );
// // //       const today = new Date();
// // //       const age = today.getFullYear() - birthDate.getFullYear();
// // //       const monthDiff = today.getMonth() - birthDate.getMonth();
// // //       if (
// // //         monthDiff < 0 ||
// // //         (monthDiff === 0 && today.getDate() < birthDate.getDate())
// // //       ) {
// // //         setFormData((prevData) => ({ ...prevData, age: age - 1 }));
// // //       } else {
// // //         setFormData((prevData) => ({ ...prevData, age }));
// // //       }
// // //     }
// // //   }, [formData.day, formData.month, formData.year]);

// // //   const handleSubmit = () => {
// // //     let formErrors = {};

// // //     // Name validation
// // //     if (!formData.name) formErrors.name = "Name is required";

// // //     // Father's name validation
// // //     if (!formData.fatherName)
// // //       formErrors.fatherName = "Father's Name is required";

// // //     // Mother's name validation
// // //     if (!formData.motherName)
// // //       formErrors.motherName = "Mother's Name is required";

// // //     // Country validation
// // //     if (!formData.country) formErrors.country = "Country is required";

// // //     // City validation
// // //     if (!formData.cityName) formErrors.cityName = "City is required";

// // //     // Date of Birth validation
// // //     if (!formData.day || !formData.month || !formData.year)
// // //       formErrors.dob = "Date of Birth is required";

// // //     // WhatsApp number validation (only numbers allowed)
// // //     if (!formData.whatsappNumber) {
// // //       formErrors.whatsappNumber = "WhatsApp number is required";
// // //     } else if (!/^\d+$/.test(formData.whatsappNumber)) {
// // //       formErrors.whatsappNumber =
// // //         "Please enter a valid phone number (only numbers)";
// // //     }

// // //     // Email validation (correct format)
// // //     if (!formData.email) {
// // //       formErrors.email = "Email is required";
// // //     } else if (!/\S+@\S+\.\S+/.test(formData.email)) {
// // //       formErrors.email = "Please enter a valid email address";
// // //     }

// // //     // Gender validation
// // //     if (!formData.gender) formErrors.gender = "Gender is required";

// // //     // Status validation
// // //     if (!formData.status) formErrors.status = "Status is required";

// // //     setErrors(formErrors);

// // //     if (Object.keys(formErrors).length === 0) {
// // //       setIsSubmitted(true);
// // //       console.log("Form Submitted Successfully:", formData);
// // //     }
// // //   };

// // //   return (
// // //     <ScrollView style={styles.container}>
// // //       <Text style={styles.heading}>Add New Form</Text>

// // //       <View style={styles.inputRow}>
// // //         <Text style={styles.label}>Name:</Text>
// // //         <TextInput
// // //           style={[styles.inputBox, errors.name && { borderColor: "red" }]}
// // //           value={formData.name}
// // //           onChangeText={(value) => handleChange("name", value)}
// // //         />
// // //         {errors.name && <Text style={styles.errorText}>{errors.name}</Text>}
// // //       </View>

// // //       <View style={styles.inputRow}>
// // //         <Text style={styles.label}>Father's Name:</Text>
// // //         <TextInput
// // //           style={[styles.inputBox, errors.fatherName && { borderColor: "red" }]}
// // //           value={formData.fatherName}
// // //           onChangeText={(value) => handleChange("fatherName", value)}
// // //         />
// // //         {errors.fatherName && (
// // //           <Text style={styles.errorText}>{errors.fatherName}</Text>
// // //         )}
// // //       </View>

// // //       <View style={styles.inputRow}>
// // //         <Text style={styles.label}>Mother's Name:</Text>
// // //         <TextInput
// // //           style={[styles.inputBox, errors.motherName && { borderColor: "red" }]}
// // //           value={formData.motherName}
// // //           onChangeText={(value) => handleChange("motherName", value)}
// // //         />
// // //         {errors.motherName && (
// // //           <Text style={styles.errorText}>{errors.motherName}</Text>
// // //         )}
// // //       </View>

// // //       <View style={styles.inputRow}>
// // //         <Text style={styles.label}>Country:</Text>
// // //         <TextInput
// // //           style={[styles.inputBox, errors.country && { borderColor: "red" }]}
// // //           value={formData.country}
// // //           onChangeText={(value) => handleChange("country", value)}
// // //         />
// // //         {errors.country && (
// // //           <Text style={styles.errorText}>{errors.country}</Text>
// // //         )}
// // //       </View>

// // //       <View style={styles.inputRow}>
// // //         <Text style={styles.label}>City:</Text>
// // //         <TextInput
// // //           style={[styles.inputBox, errors.cityName && { borderColor: "red" }]}
// // //           value={formData.cityName}
// // //           onChangeText={(value) => handleChange("cityName", value)}
// // //         />
// // //         {errors.cityName && (
// // //           <Text style={styles.errorText}>{errors.cityName}</Text>
// // //         )}
// // //       </View>

// // //       <View style={styles.inputRow}>
// // //         <Text style={styles.label}>DOB:</Text>
// // //         <View style={{ flex: 1, flexDirection: "row" }}>
// // //           <Picker
// // //             selectedValue={formData.day}
// // //             style={styles.pickerInput}
// // //             onValueChange={(value) => handleChange("day", value)}
// // //           >
// // //             <Picker.Item label="Day" value="" />
// // //             {Array.from({ length: 31 }, (_, i) => (
// // //               <Picker.Item key={i + 1} label={`${i + 1}`} value={`${i + 1}`} />
// // //             ))}
// // //           </Picker>

// // //           <Picker
// // //             selectedValue={formData.month}
// // //             style={styles.pickerInput}
// // //             onValueChange={(value) => handleChange("month", value)}
// // //           >
// // //             <Picker.Item label="Month" value="" />
// // //             {[
// // //               "January",
// // //               "February",
// // //               "March",
// // //               "April",
// // //               "May",
// // //               "June",
// // //               "July",
// // //               "August",
// // //               "September",
// // //               "October",
// // //               "November",
// // //               "December",
// // //             ].map((m, i) => (
// // //               <Picker.Item key={i + 1} label={m} value={`${i + 1}`} />
// // //             ))}
// // //           </Picker>

// // //           <Picker
// // //             selectedValue={formData.year}
// // //             style={styles.pickerInput}
// // //             onValueChange={(value) => handleChange("year", value)}
// // //           >
// // //             <Picker.Item label="Year" value="" />
// // //             {Array.from({ length: 100 }, (_, i) => {
// // //               const year = new Date().getFullYear() - i;
// // //               return (
// // //                 <Picker.Item key={year} label={`${year}`} value={`${year}`} />
// // //               );
// // //             })}
// // //           </Picker>
// // //         </View>
// // //         {errors.dob && <Text style={styles.errorText}>{errors.dob}</Text>}
// // //       </View>

// // //       <View style={styles.inputRow}>
// // //         <Text style={styles.label}>Age:</Text>
// // //         <TextInput
// // //           style={[styles.inputBox, { backgroundColor: "#eee" }]}
// // //           value={formData.age}
// // //           editable={false}
// // //         />
// // //       </View>

// // //       <View style={styles.inputRow}>
// // //         <Text style={styles.label}>Gender:</Text>
// // //         <Picker
// // //           selectedValue={formData.gender}
// // //           style={styles.pickerInput}
// // //           onValueChange={(value) => handleChange("gender", value)}
// // //         >
// // //           <Picker.Item label="Select Gender" value="" />
// // //           <Picker.Item label="Male" value="Male" />
// // //           <Picker.Item label="Female" value="Female" />
// // //           <Picker.Item label="Other" value="Other" />
// // //         </Picker>
// // //         {errors.gender && <Text style={styles.errorText}>{errors.gender}</Text>}
// // //       </View>

// // //       <View style={styles.inputRow}>
// // //         <Text style={styles.label}>Status:</Text>
// // //         <Picker
// // //           selectedValue={formData.status}
// // //           style={styles.pickerInput}
// // //           onValueChange={(value) => handleChange("status", value)}
// // //         >
// // //           <Picker.Item label="Select Status" value="" />
// // //           <Picker.Item label="Single" value="Single" />
// // //           <Picker.Item label="Married" value="Married" />
// // //           <Picker.Item label="Divorced" value="Divorced" />
// // //         </Picker>
// // //         {errors.status && <Text style={styles.errorText}>{errors.status}</Text>}
// // //       </View>

// // //       <View style={styles.inputRow}>
// // //         <Text style={styles.label}>WhatsApp:</Text>
// // //         <TextInput
// // //           style={[
// // //             styles.inputBox,
// // //             errors.whatsappNumber && { borderColor: "red" },
// // //           ]}
// // //           value={formData.whatsappNumber}
// // //           onChangeText={(value) => handleChange("whatsappNumber", value)}
// // //         />
// // //         {errors.whatsappNumber && (
// // //           <Text style={styles.errorText}>{errors.whatsappNumber}</Text>
// // //         )}
// // //       </View>

// // //       <View style={styles.inputRow}>
// // //         <Text style={styles.label}>Email:</Text>
// // //         <TextInput
// // //           style={[styles.inputBox, errors.email && { borderColor: "red" }]}
// // //           value={formData.email}
// // //           onChangeText={(value) => handleChange("email", value)}
// // //         />
// // //         {errors.email && <Text style={styles.errorText}>{errors.email}</Text>}
// // //       </View>

// // //       <TouchableOpacity onPress={handleSubmit} style={styles.button}>
// // //         <Text style={styles.buttonText}>Submit</Text>
// // //       </TouchableOpacity>

// // //       {isSubmitted && (
// // //         <Text style={styles.successMessage}>Form submitted successfully!</Text>
// // //       )}
// // //     </ScrollView>
// // //   );
// // // };

// // // const styles = StyleSheet.create({
// // //   container: {
// // //     padding: 16,
// // //     backgroundColor: "#f7f7f7",
// // //   },
// // //   heading: {
// // //     fontSize: 20,
// // //     fontWeight: "bold",
// // //     marginBottom: 20,
// // //     textAlign: "center",
// // //   },
// // //   inputRow: {
// // //     flexDirection: "row",
// // //     alignItems: "center",
// // //     marginBottom: 12,
// // //   },
// // //   label: {
// // //     width: 100,
// // //     fontSize: 16,
// // //   },
// // //   inputBox: {
// // //     flex: 1,
// // //     height: 40,
// // //     borderColor: "#ccc",
// // //     borderWidth: 1,
// // //     borderRadius: 4,
// // //     paddingHorizontal: 8,
// // //   },
// // //   pickerInput: {
// // //     flex: 1,
// // //     height: 40,
// // //     borderColor: "#ccc",
// // //     borderWidth: 1,
// // //     borderRadius: 4,
// // //   },
// // //   errorText: {
// // //     color: "red",
// // //     fontSize: 12,
// // //     marginTop: 4,
// // //   },
// // //   button: {
// // //     backgroundColor: "#007BFF",
// // //     padding: 12,
// // //     borderRadius: 8,
// // //     marginTop: 20,
// // //   },
// // //   buttonText: {
// // //     color: "#fff",
// // //     fontSize: 18,
// // //     textAlign: "center",
// // //   },
// // //   successMessage: {
// // //     color: "green",
// // //     fontSize: 16,
// // //     textAlign: "center",
// // //     marginTop: 20,
// // //   },
// // // });

// // // export default FormScreen;
// // import React, { useState, useEffect } from "react";
// // import {
// //   View,
// //   Text,
// //   TextInput,
// //   TouchableOpacity,
// //   ScrollView,
// //   StyleSheet,
// //   KeyboardAvoidingView,
// //   Platform,
// //   TouchableWithoutFeedback,
// //   Keyboard,
// // } from "react-native";
// // import { Picker } from "@react-native-picker/picker";

// // const FormScreen = () => {
// //   const [formData, setFormData] = useState({
// //     name: "",
// //     fatherName: "",
// //     motherName: "",
// //     country: "",
// //     cityName: "",
// //     day: "",
// //     month: "",
// //     year: "",
// //     age: "",
// //     whatsappNumber: "",
// //     email: "",
// //     gender: "",
// //     status: "",
// //   });

// //   const [errors, setErrors] = useState({});
// //   const [isSubmitted, setIsSubmitted] = useState(false);

// //   const handleChange = (key, value) => {
// //     setFormData({ ...formData, [key]: value });
// //   };

// //   useEffect(() => {
// //     if (formData.day && formData.month && formData.year) {
// //       const birthDate = new Date(
// //         `${formData.year}-${formData.month}-${formData.day}`
// //       );
// //       const today = new Date();
// //       const age = today.getFullYear() - birthDate.getFullYear();
// //       const monthDiff = today.getMonth() - birthDate.getMonth();
// //       if (
// //         monthDiff < 0 ||
// //         (monthDiff === 0 && today.getDate() < birthDate.getDate())
// //       ) {
// //         setFormData((prevData) => ({ ...prevData, age: age - 1 }));
// //       } else {
// //         setFormData((prevData) => ({ ...prevData, age }));
// //       }
// //     }
// //   }, [formData.day, formData.month, formData.year]);

// //   const handleSubmit = () => {
// //     let formErrors = {};

// //     // Name validation
// //     if (!formData.name) formErrors.name = "Name is required";

// //     // Father's name validation
// //     if (!formData.fatherName)
// //       formErrors.fatherName = "Father's Name is required";

// //     // Mother's name validation
// //     if (!formData.motherName)
// //       formErrors.motherName = "Mother's Name is required";

// //     // Country validation
// //     if (!formData.country) formErrors.country = "Country is required";

// //     // City validation
// //     if (!formData.cityName) formErrors.cityName = "City is required";

// //     // Date of Birth validation
// //     if (!formData.day || !formData.month || !formData.year)
// //       formErrors.dob = "Date of Birth is required";

// //     // WhatsApp number validation (only numbers allowed)
// //     if (!formData.whatsappNumber) {
// //       formErrors.whatsappNumber = "WhatsApp number is required";
// //     } else if (!/^\d+$/.test(formData.whatsappNumber)) {
// //       formErrors.whatsappNumber =
// //         "Please enter a valid phone number (only numbers)";
// //     }

// //     // Email validation (correct format)
// //     if (!formData.email) {
// //       formErrors.email = "Email is required";
// //     } else if (!/\S+@\S+\.\S+/.test(formData.email)) {
// //       formErrors.email = "Please enter a valid email address";
// //     }

// //     // Gender validation
// //     if (!formData.gender) formErrors.gender = "Gender is required";

// //     // Status validation
// //     if (!formData.status) formErrors.status = "Status is required";

// //     setErrors(formErrors);

// //     if (Object.keys(formErrors).length === 0) {
// //       setIsSubmitted(true);
// //       console.log("Form Submitted Successfully:", formData);
// //     }
// //   };

// //   return (
// //     <KeyboardAvoidingView
// //       style={{ flex: 1 }}
// //       behavior={Platform.OS === "ios" ? "padding" : "height"}
// //     >
// //       <TouchableWithoutFeedback onPress={Keyboard.dismiss}>
// //         <ScrollView style={styles.container}>
// //           <Text style={styles.heading}>Add New Form</Text>

// //           <View style={styles.inputRow}>
// //             <Text style={styles.label}>Name:</Text>
// //             <TextInput
// //               style={[styles.inputBox, errors.name && { borderColor: "red" }]}
// //               value={formData.name}
// //               onChangeText={(value) => handleChange("name", value)}
// //               keyboardType="default"
// //             />
// //             {errors.name && <Text style={styles.errorText}>{errors.name}</Text>}
// //           </View>

// //           <View style={styles.inputRow}>
// //             <Text style={styles.label}>Father's Name:</Text>
// //             <TextInput
// //               style={[
// //                 styles.inputBox,
// //                 errors.fatherName && { borderColor: "red" },
// //               ]}
// //               value={formData.fatherName}
// //               onChangeText={(value) => handleChange("fatherName", value)}
// //               keyboardType="default"
// //             />
// //             {errors.fatherName && (
// //               <Text style={styles.errorText}>{errors.fatherName}</Text>
// //             )}
// //           </View>

// //           <View style={styles.inputRow}>
// //             <Text style={styles.label}>Mother's Name:</Text>
// //             <TextInput
// //               style={[
// //                 styles.inputBox,
// //                 errors.motherName && { borderColor: "red" },
// //               ]}
// //               value={formData.motherName}
// //               onChangeText={(value) => handleChange("motherName", value)}
// //               keyboardType="default"
// //             />
// //             {errors.motherName && (
// //               <Text style={styles.errorText}>{errors.motherName}</Text>
// //             )}
// //           </View>

// //           <View style={styles.inputRow}>
// //             <Text style={styles.label}>Country:</Text>
// //             <TextInput
// //               style={[
// //                 styles.inputBox,
// //                 errors.country && { borderColor: "red" },
// //               ]}
// //               value={formData.country}
// //               onChangeText={(value) => handleChange("country", value)}
// //               keyboardType="default"
// //             />
// //             {errors.country && (
// //               <Text style={styles.errorText}>{errors.country}</Text>
// //             )}
// //           </View>

// //           <View style={styles.inputRow}>
// //             <Text style={styles.label}>City:</Text>
// //             <TextInput
// //               style={[
// //                 styles.inputBox,
// //                 errors.cityName && { borderColor: "red" },
// //               ]}
// //               value={formData.cityName}
// //               onChangeText={(value) => handleChange("cityName", value)}
// //               keyboardType="default"
// //             />
// //             {errors.cityName && (
// //               <Text style={styles.errorText}>{errors.cityName}</Text>
// //             )}
// //           </View>

// //           <View style={styles.inputRow}>
// //             <Text style={styles.label}>DOB:</Text>
// //             <View style={styles.datePickers}>
// //               <Picker
// //                 selectedValue={formData.day}
// //                 style={styles.pickerInput}
// //                 onValueChange={(value) => handleChange("day", value)}
// //               >
// //                 <Picker.Item label="Day" value="" />
// //                 {Array.from({ length: 31 }, (_, i) => (
// //                   <Picker.Item
// //                     key={i + 1}
// //                     label={`${i + 1}`}
// //                     value={`${i + 1}`}
// //                   />
// //                 ))}
// //               </Picker>

// //               <Picker
// //                 selectedValue={formData.month}
// //                 style={styles.pickerInput}
// //                 onValueChange={(value) => handleChange("month", value)}
// //               >
// //                 <Picker.Item label="Month" value="" />
// //                 {[
// //                   "January",
// //                   "February",
// //                   "March",
// //                   "April",
// //                   "May",
// //                   "June",
// //                   "July",
// //                   "August",
// //                   "September",
// //                   "October",
// //                   "November",
// //                   "December",
// //                 ].map((m, i) => (
// //                   <Picker.Item key={i + 1} label={m} value={`${i + 1}`} />
// //                 ))}
// //               </Picker>

// //               <Picker
// //                 selectedValue={formData.year}
// //                 style={styles.pickerInput}
// //                 onValueChange={(value) => handleChange("year", value)}
// //               >
// //                 <Picker.Item label="Year" value="" />
// //                 {Array.from({ length: 100 }, (_, i) => {
// //                   const year = new Date().getFullYear() - i;
// //                   return (
// //                     <Picker.Item
// //                       key={year}
// //                       label={`${year}`}
// //                       value={`${year}`}
// //                     />
// //                   );
// //                 })}
// //               </Picker>
// //             </View>
// //             {errors.dob && <Text style={styles.errorText}>{errors.dob}</Text>}
// //           </View>

// //           <View style={styles.inputRow}>
// //             <Text style={styles.label}>Age:</Text>
// //             <TextInput
// //               style={[styles.inputBox, { backgroundColor: "#eee" }]}
// //               value={formData.age}
// //               editable={false}
// //             />
// //           </View>

// //           <View style={styles.inputRow}>
// //             <Text style={styles.label}>Gender:</Text>
// //             <Picker
// //               selectedValue={formData.gender}
// //               style={styles.pickerInput}
// //               onValueChange={(value) => handleChange("gender", value)}
// //             >
// //               <Picker.Item label="Select Gender" value="" />
// //               <Picker.Item label="Male" value="Male" />
// //               <Picker.Item label="Female" value="Female" />
// //               <Picker.Item label="Other" value="Other" />
// //             </Picker>
// //             {errors.gender && (
// //               <Text style={styles.errorText}>{errors.gender}</Text>
// //             )}
// //           </View>

// //           <View style={styles.inputRow}>
// //             <Text style={styles.label}>Status:</Text>
// //             <Picker
// //               selectedValue={formData.status}
// //               style={styles.pickerInput}
// //               onValueChange={(value) => handleChange("status", value)}
// //             >
// //               <Picker.Item label="Select Status" value="" />
// //               <Picker.Item label="Single" value="Single" />
// //               <Picker.Item label="Married" value="Married" />
// //             </Picker>
// //             {errors.status && (
// //               <Text style={styles.errorText}>{errors.status}</Text>
// //             )}
// //           </View>

// //           <View style={styles.inputRow}>
// //             <Text style={styles.label}>WhatsApp Number:</Text>
// //             <TextInput
// //               style={[
// //                 styles.inputBox,
// //                 errors.whatsappNumber && { borderColor: "red" },
// //               ]}
// //               value={formData.whatsappNumber}
// //               onChangeText={(value) => handleChange("whatsappNumber", value)}
// //               keyboardType="phone-pad"
// //             />
// //             {errors.whatsappNumber && (
// //               <Text style={styles.errorText}>{errors.whatsappNumber}</Text>
// //             )}
// //           </View>

// //           <View style={styles.inputRow}>
// //             <Text style={styles.label}>Email:</Text>
// //             <TextInput
// //               style={[styles.inputBox, errors.email && { borderColor: "red" }]}
// //               value={formData.email}
// //               onChangeText={(value) => handleChange("email", value)}
// //               keyboardType="email-address"
// //             />
// //             {errors.email && (
// //               <Text style={styles.errorText}>{errors.email}</Text>
// //             )}
// //           </View>

// //           <TouchableOpacity style={styles.button} onPress={handleSubmit}>
// //             <Text style={styles.buttonText}>Submit</Text>
// //           </TouchableOpacity>

// //           {isSubmitted && (
// //             <Text style={styles.successMessage}>
// //               Form Submitted Successfully!
// //             </Text>
// //           )}
// //         </ScrollView>
// //       </TouchableWithoutFeedback>
// //     </KeyboardAvoidingView>
// //   );
// // };

// // const styles = StyleSheet.create({
// //   container: {
// //     padding: 20,
// //   },
// //   heading: {
// //     fontSize: 24,
// //     fontWeight: "bold",
// //     textAlign: "center",
// //     marginBottom: 20,
// //   },
// //   inputRow: {
// //     marginBottom: 15,
// //   },
// //   label: {
// //     fontSize: 14,
// //     fontWeight: "600",
// //     marginBottom: 8,
// //   },
// //   inputBox: {
// //     height: 40,
// //     borderColor: "#ccc",
// //     borderWidth: 1,
// //     borderRadius: 4,
// //     paddingHorizontal: 8,
// //   },
// //   pickerInput: {
// //     // height: 40,
// //     borderColor: "#ccc",
// //     borderWidth: 1,
// //     borderRadius: 4,
// //     paddingHorizontal: 8,
// //   },
// //   errorText: {
// //     color: "red",
// //     fontSize: 12,
// //     marginTop: 4,
// //   },
// //   button: {
// //     backgroundColor: "#007BFF",
// //     padding: 12,
// //     borderRadius: 8,
// //     marginTop: 20,
// //   },
// //   buttonText: {
// //     color: "#fff",
// //     fontSize: 18,
// //     textAlign: "center",
// //   },
// //   successMessage: {
// //     color: "green",
// //     fontSize: 16,
// //     textAlign: "center",
// //     marginTop: 20,
// //   },
// //   datePickers: {
// //     flexDirection: "row",
// //     justifyContent: "space-between",
// //   },
// // });

// // export default FormScreen;
// import React, { useState, useEffect } from "react";
// import {
//   View,
//   Text,
//   TextInput,
//   TouchableOpacity,
//   ScrollView,
//   StyleSheet,
//   KeyboardAvoidingView,
//   Platform,
//   TouchableWithoutFeedback,
//   Keyboard,
// } from "react-native";
// import { Picker } from "@react-native-picker/picker";

// const FormScreen = () => {
//   const [formData, setFormData] = useState({
//     name: "",
//     fatherName: "",
//     motherName: "",
//     country: "",
//     cityName: "",
//     day: "",
//     month: "",
//     year: "",
//     age: "",
//     whatsappNumber: "",
//     email: "",
//     gender: "",
//     status: "",
//   });

//   const [errors, setErrors] = useState({});
//   const [isSubmitted, setIsSubmitted] = useState(false);

//   const handleChange = (key, value) => {
//     setFormData({ ...formData, [key]: value });
//   };

//   useEffect(() => {
//     const { day, month, year } = formData;
//     if (day && month && year) {
//       const birthDate = new Date(`${year}-${month}-${day}`);
//       const today = new Date();
//       let age = today.getFullYear() - birthDate.getFullYear();
//       const m = today.getMonth() - birthDate.getMonth();
//       if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {
//         age--;
//       }
//       if (!isNaN(age)) {
//         setFormData((prevData) => ({ ...prevData, age: String(age) }));
//       }
//     }
//   }, [formData.day, formData.month, formData.year]);

//   const handleSubmit = () => {
//     let formErrors = {};

//     if (!formData.name) formErrors.name = "Name is required";
//     if (!formData.fatherName)
//       formErrors.fatherName = "Father's Name is required";
//     if (!formData.motherName)
//       formErrors.motherName = "Mother's Name is required";
//     if (!formData.country) formErrors.country = "Country is required";
//     if (!formData.cityName) formErrors.cityName = "City is required";
//     if (!formData.day || !formData.month || !formData.year)
//       formErrors.dob = "Date of Birth is required";
//     if (!formData.whatsappNumber) {
//       formErrors.whatsappNumber = "WhatsApp number is required";
//     } else if (!/^\d+$/.test(formData.whatsappNumber)) {
//       formErrors.whatsappNumber =
//         "Please enter a valid phone number (only numbers)";
//     }
//     if (!formData.email) {
//       formErrors.email = "Email is required";
//     } else if (!/\S+@\S+\.\S+/.test(formData.email)) {
//       formErrors.email = "Please enter a valid email address";
//     }
//     if (!formData.gender) formErrors.gender = "Gender is required";
//     if (!formData.status) formErrors.status = "Status is required";

//     setErrors(formErrors);

//     if (Object.keys(formErrors).length === 0) {
//       setIsSubmitted(true);
//       console.log("Form Submitted Successfully:", formData);
//     }
//   };

//   return (
//     <KeyboardAvoidingView
//       style={{ flex: 1 }}
//       behavior={Platform.OS === "ios" ? "padding" : undefined}
//     >
//       <TouchableWithoutFeedback onPress={Keyboard.dismiss}>
//         <ScrollView contentContainerStyle={styles.container}>
//           <Text style={styles.heading}>Add New Form</Text>

//           {/* Helper Component */}
//           {[
//             { label: "Name", key: "name", keyboardType: "default" },
//             {
//               label: "Father's Name",
//               key: "fatherName",
//               keyboardType: "default",
//             },
//             {
//               label: "Mother's Name",
//               key: "motherName",
//               keyboardType: "default",
//             },
//             { label: "Country", key: "country", keyboardType: "default" },
//             { label: "City", key: "cityName", keyboardType: "default" },
//             {
//               label: "WhatsApp Number",
//               key: "whatsappNumber",
//               keyboardType: "phone-pad",
//             },
//             { label: "Email", key: "email", keyboardType: "email-address" },
//           ].map(({ label, key, keyboardType }) => (
//             <View style={styles.inputRow} key={key}>
//               <Text style={styles.label}>{label}:</Text>
//               <TextInput
//                 style={[styles.inputBox, errors[key] && { borderColor: "red" }]}
//                 value={formData[key]}
//                 onChangeText={(value) => handleChange(key, value)}
//                 keyboardType={keyboardType}
//               />
//               {errors[key] && (
//                 <Text style={styles.errorText}>{errors[key]}</Text>
//               )}
//             </View>
//           ))}

//           {/* DOB Picker */}
//           <View style={styles.inputRow}>
//             <Text style={styles.label}>DOB:</Text>
//             <View style={styles.datePickers}>
//               <Picker
//                 selectedValue={formData.day}
//                 style={styles.pickerInput}
//                 onValueChange={(value) => handleChange("day", value)}
//               >
//                 <Picker.Item label="Day" value="" />
//                 {Array.from({ length: 31 }, (_, i) => (
//                   <Picker.Item
//                     key={i + 1}
//                     label={`${i + 1}`}
//                     value={`${i + 1}`}
//                   />
//                 ))}
//               </Picker>

//               <Picker
//                 selectedValue={formData.month}
//                 style={styles.pickerInput}
//                 onValueChange={(value) => handleChange("month", value)}
//               >
//                 <Picker.Item label="Month" value="" />
//                 {[
//                   "January",
//                   "February",
//                   "March",
//                   "April",
//                   "May",
//                   "June",
//                   "July",
//                   "August",
//                   "September",
//                   "October",
//                   "November",
//                   "December",
//                 ].map((m, i) => (
//                   <Picker.Item key={i + 1} label={m} value={`${i + 1}`} />
//                 ))}
//               </Picker>

//               <Picker
//                 selectedValue={formData.year}
//                 style={styles.pickerInput}
//                 onValueChange={(value) => handleChange("year", value)}
//               >
//                 <Picker.Item label="Year" value="" />
//                 {Array.from({ length: 100 }, (_, i) => {
//                   const year = new Date().getFullYear() - i;
//                   return (
//                     <Picker.Item
//                       key={year}
//                       label={`${year}`}
//                       value={`${year}`}
//                     />
//                   );
//                 })}
//               </Picker>
//             </View>
//             {errors.dob && <Text style={styles.errorText}>{errors.dob}</Text>}
//           </View>

//           {/* Age - read-only */}
//           <View style={styles.inputRow}>
//             <Text style={styles.label}>Age:</Text>
//             <TextInput
//               style={[styles.inputBox, { backgroundColor: "#eee" }]}
//               value={formData.age}
//               editable={false}
//             />
//           </View>

//           {/* Gender Picker */}
//           <View style={styles.inputRow}>
//             <Text style={styles.label}>Gender:</Text>
//             <Picker
//               selectedValue={formData.gender}
//               style={styles.pickerInput}
//               onValueChange={(value) => handleChange("gender", value)}
//             >
//               <Picker.Item label="Select Gender" value="" />
//               <Picker.Item label="Male" value="Male" />
//               <Picker.Item label="Female" value="Female" />
//               <Picker.Item label="Other" value="Other" />
//             </Picker>
//             {errors.gender && (
//               <Text style={styles.errorText}>{errors.gender}</Text>
//             )}
//           </View>

//           {/* Status Picker */}
//           <View style={styles.inputRow}>
//             <Text style={styles.label}>Status:</Text>
//             <Picker
//               selectedValue={formData.status}
//               style={styles.pickerInput}
//               onValueChange={(value) => handleChange("status", value)}
//             >
//               <Picker.Item label="Select Status" value="" />
//               <Picker.Item label="Single" value="Single" />
//               <Picker.Item label="Married" value="Married" />
//             </Picker>
//             {errors.status && (
//               <Text style={styles.errorText}>{errors.status}</Text>
//             )}
//           </View>

//           {/* Submit Button */}
//           <TouchableOpacity style={styles.button} onPress={handleSubmit}>
//             <Text style={styles.buttonText}>Submit</Text>
//           </TouchableOpacity>

//           {isSubmitted && (
//             <Text style={styles.successText}>Form submitted successfully!</Text>
//           )}
//         </ScrollView>
//       </TouchableWithoutFeedback>
//     </KeyboardAvoidingView>
//   );
// };

// const styles = StyleSheet.create({
//   container: {
//     padding: 16,
//     paddingBottom: 32,
//   },
//   heading: {
//     fontSize: 24,
//     fontWeight: "bold",
//     marginVertical: 20,
//     textAlign: "center",
//   },
//   inputRow: {
//     marginBottom: 16,
//   },
//   label: {
//     fontWeight: "bold",
//     marginBottom: 6,
//   },
//   inputBox: {
//     borderWidth: 1,
//     borderColor: "#ccc",
//     borderRadius: 8,
//     paddingHorizontal: 12,
//     paddingVertical: 10,
//     fontSize: 16,
//     backgroundColor: "#fff",
//   },
//   datePickers: {
//     flexDirection: "row",
//     justifyContent: "space-between",
//   },
//   pickerInput: {
//     flex: 1,
//     height: 50,
//     backgroundColor: "#fff",
//     marginHorizontal: 4,
//   },
//   errorText: {
//     color: "red",
//     marginTop: 4,
//   },
//   button: {
//     backgroundColor: "#007bff",
//     paddingVertical: 14,
//     borderRadius: 10,
//     alignItems: "center",
//     marginTop: 20,
//   },
//   buttonText: {
//     color: "#fff",
//     fontSize: 18,
//     fontWeight: "bold",
//   },
//   successText: {
//     color: "green",
//     marginTop: 16,
//     textAlign: "center",
//     fontSize: 16,
//   },
// });

// export default FormScreen;

import React, { useState, useEffect } from "react";
import {
  View,
  Text,
  TextInput,
  TouchableOpacity,
  ScrollView,
  StyleSheet,
  KeyboardAvoidingView,
  Platform,
  TouchableWithoutFeedback,
  Keyboard,
  Modal,
} from "react-native";
import { Picker } from "@react-native-picker/picker";
import CustomBackground from "../../../../../components/Background/Background";

const MareedScreen = () => {
  const [formData, setFormData] = useState({
    name: "",
    fatherName: "",
    motherName: "",
    country: "",
    cityName: "",
    day: "",
    month: "",
    year: "",
    age: "",
    whatsappNumber: "",
    email: "",
    gender: "",
    status: "",
    natureOfBait: "",
  });

  const [modalVisible, setModalVisible] = useState(false);
  const [modalMessage, setModalMessage] = useState("");

  const handleChange = (key, value) => {
    setFormData({ ...formData, [key]: value });
  };

  useEffect(() => {
    const { day, month, year } = formData;
    if (day && month && year) {
      const birthDate = new Date(`${year}-${month}-${day}`);
      const today = new Date();
      let age = today.getFullYear() - birthDate.getFullYear();
      const m = today.getMonth() - birthDate.getMonth();
      if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {
        age--;
      }
      if (!isNaN(age)) {
        setFormData((prevData) => ({ ...prevData, age: String(age) }));
      }
    }
  }, [formData.day, formData.month, formData.year]);

  const handleSubmit = async () => {
    let formErrors = {};

    if (!formData.name) {
      formErrors.name = "Name is required";
    } else if (!formData.fatherName) {
      formErrors.fatherName = "Father's Name is required";
    } else if (!formData.motherName) {
      formErrors.motherName = "Mother's Name is required";
    } else if (!formData.country) {
      formErrors.country = "Country is required";
    } else if (!formData.cityName) {
      formErrors.cityName = "City is required";
    } else if (!formData.day || !formData.month || !formData.year) {
      formErrors.dob = "Date of Birth is required";
    } else if (!formData.whatsappNumber) {
      formErrors.whatsappNumber = "WhatsApp number is required";
    } else if (!/^\d+$/.test(formData.whatsappNumber)) {
      formErrors.whatsappNumber =
        "Please enter a valid phone number (only numbers)";
    } else if (!formData.email) {
      formErrors.email = "Email is required";
    } else if (!/\S+@\S+\.\S+/.test(formData.email)) {
      formErrors.email = "Please enter a valid email address";
    } else if (!formData.gender) {
      formErrors.gender = "Gender is required";
    } else if (!formData.status) {
      formErrors.status = "Status is required";
    } else if (!formData.natureOfBait) {
      formErrors.natureOfBait = "Nature Of Bait is required";
    }

    if (Object.keys(formErrors).length === 0) {
      try {
        const response = await fetch(
          "https://rohaniyatweb-production-99fc.up.railway.app/api/mureed_form",
          {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
            },
            body: JSON.stringify(formData),
          }
        );

        if (response.ok) {
          setModalMessage("Form submitted successfully!");
          setModalVisible(true);
          setFormData({
            name: "",
            fatherName: "",
            motherName: "",
            country: "",
            cityName: "",
            day: "",
            month: "",
            year: "",
            age: "",
            whatsappNumber: "",
            email: "",
            gender: "",
            status: "",
            natureOfBait: "",
          });
        } else {
          const result = await response.json();
          setModalMessage(`Error: ${result.message || "Submission failed."}`);
          setModalVisible(true);
        }
      } catch (err) {
        setModalMessage("Network error: Unable to submit form.");
        setModalVisible(true);
      }
    } else {
      const errorMessages = Object.values(formErrors).join("\n");
      setModalMessage(errorMessages);
      setModalVisible(true);
    }
  };

  return (
    <CustomBackground>
      <KeyboardAvoidingView
        style={{ flex: 1 }}
        behavior={Platform.OS === "ios" ? "padding" : undefined}
      >
        <TouchableWithoutFeedback onPress={Keyboard.dismiss}>
          <ScrollView>
            <Text style={styles.heading}>مرید ہونے کیلئے</Text>
            <Text style={styles.description}>
              الحمد للہ اس سروس کے ذریعے ہزاروں لوگ ہمارے سلسلے میں داخل ہو رہے
              ہیں ان کو ای میل یا واٹس اپ کے ذریعے سلسلے کے تمام وظائف و اذکار
              بھیج دئے جاتے ہیں اور وقتا فوقتا ان کی رہنمائی بھی کی جاتی ہے یاد
              رہے تصوف اور عملیات دونوں علیحدہ علیحدہ شعبے ہیں
            </Text>

            {[
              { label: "Name", key: "name", keyboardType: "default" },
              {
                label: "Father's Name",
                key: "fatherName",
                keyboardType: "default",
              },
              {
                label: "Mother's Name",
                key: "motherName",
                keyboardType: "default",
              },
              { label: "Country", key: "country", keyboardType: "default" },
              { label: "City", key: "cityName", keyboardType: "default" },
              {
                label: "WhatsApp Number",
                key: "whatsappNumber",
                keyboardType: "phone-pad",
              },
              { label: "Email", key: "email", keyboardType: "email-address" },
            ].map(({ label, key, keyboardType }) => (
              <View style={styles.inputRow} key={key}>
                <Text style={styles.label}>{label}:</Text>
                <TextInput
                  style={styles.inputBox}
                  value={formData[key]}
                  onChangeText={(value) => handleChange(key, value)}
                  keyboardType={keyboardType}
                />
              </View>
            ))}

            {/* DOB */}
            <View style={styles.inputRow}>
              <Text style={styles.label}>DOB:</Text>
              <View style={styles.datePickers}>
                <Picker
                  selectedValue={formData.day}
                  style={styles.pickerInput}
                  onValueChange={(value) => handleChange("day", value)}
                >
                  <Picker.Item label="Day" value="" />
                  {Array.from({ length: 31 }, (_, i) => (
                    <Picker.Item
                      key={i + 1}
                      label={`${i + 1}`}
                      value={`${i + 1}`}
                    />
                  ))}
                </Picker>

                <Picker
                  selectedValue={formData.month}
                  style={styles.pickerInput}
                  onValueChange={(value) => handleChange("month", value)}
                >
                  <Picker.Item label="Month" value="" />
                  {[
                    "January",
                    "February",
                    "March",
                    "April",
                    "May",
                    "June",
                    "July",
                    "August",
                    "September",
                    "October",
                    "November",
                    "December",
                  ].map((m, i) => (
                    <Picker.Item key={i + 1} label={m} value={`${i + 1}`} />
                  ))}
                </Picker>

                <Picker
                  selectedValue={formData.year}
                  style={styles.pickerInput}
                  onValueChange={(value) => handleChange("year", value)}
                >
                  <Picker.Item label="Year" value="" />
                  {Array.from({ length: 100 }, (_, i) => {
                    const year = new Date().getFullYear() - i;
                    return (
                      <Picker.Item
                        key={year}
                        label={`${year}`}
                        value={`${year}`}
                      />
                    );
                  })}
                </Picker>
              </View>
            </View>

            {/* Age */}
            <View style={styles.inputRow}>
              <Text style={styles.label}>Age:</Text>
              <TextInput
                style={[styles.inputBox, { backgroundColor: "white" }]}
                value={formData.age}
                editable={false}
              />
            </View>

            {/* Gender Picker */}
            <View style={styles.inputRow}>
              <Text style={styles.label}>Gender:</Text>
              <Picker
                selectedValue={formData.gender}
                style={styles.pickerInput}
                onValueChange={(value) => handleChange("gender", value)}
              >
                <Picker.Item label="Select Gender" value="" />
                <Picker.Item label="Male" value="Male" />
                <Picker.Item label="Female" value="Female" />
                <Picker.Item label="Other" value="Other" />
              </Picker>
            </View>

            {/* Status Picker */}
            <View style={styles.inputRow}>
              <Text style={styles.label}>Status:</Text>
              <Picker
                selectedValue={formData.status}
                style={styles.pickerInput}
                onValueChange={(value) => handleChange("status", value)}
              >
                <Picker.Item label="Select Status" value="" />
                <Picker.Item label="Single" value="Single" />
                <Picker.Item label="Married" value="Married" />
              </Picker>
            </View>

            {/* Additional Info Textarea */}
            <View style={styles.inputRow}>
              <Text style={styles.label}>Nature Of Bait:</Text>
              <TextInput
                style={[
                  styles.inputBox,
                  { height: 60, textAlignVertical: "top" },
                ]}
                value={formData.natureOfBait}
                onChangeText={(value) => handleChange("natureOfBait", value)}
                multiline
              />
            </View>

            <TouchableOpacity style={styles.button} onPress={handleSubmit}>
              <Text style={styles.buttonText}>Submit</Text>
            </TouchableOpacity>

            {/* Modal for errors or success */}
            <Modal
              visible={modalVisible}
              transparent
              animationType="slide"
              onRequestClose={() => setModalVisible(false)}
            >
              <View style={styles.modalBackground}>
                <View style={styles.modalContainer}>
                  <Text style={styles.modalText}>{modalMessage}</Text>
                  <TouchableOpacity
                    style={[
                      styles.button,
                      { backgroundColor: "#6C472D", marginTop: 10 },
                    ]}
                    onPress={() => setModalVisible(false)}
                  >
                    <Text style={styles.buttonText}>Close</Text>
                  </TouchableOpacity>
                </View>
              </View>
            </Modal>
          </ScrollView>
        </TouchableWithoutFeedback>
      </KeyboardAvoidingView>
    </CustomBackground>
  );
};

const styles = StyleSheet.create({
  heading: {
    fontSize: 25,
    fontWeight: "bold",
    color: "#6C472D",
    textAlign: "center",
    writingDirection: "rtl",
  },
  description: {
    marginTop: 10,
    fontSize: 16,
    color: "#6C472D",
    lineHeight: 30,
    textAlign: "right",
    writingDirection: "rtl",
  },

  inputRow: {
    flex: 1,
    marginBottom: 8,
  },
  label: {
    color: "#6C472D",
    fontWeight: "bold",
    marginBottom: 6,
    fontSize: 14,
  },
  inputBox: {
    paddingHorizontal: 10,
    paddingVertical: 14,
    color: "#6C472D",
    fontSize: 16,
    backgroundColor: "#fff",
  },
  datePickers: {
    flexDirection: "row",
    justifyContent: "space-between",
  },
  pickerInput: {
    color: "#6C472D",
    flex: 1,
    marginHorizontal: 2,
    flex: 1,
    backgroundColor: "#fff",
  },
  button: {
    backgroundColor: "#6C472D",
    paddingVertical: 14,
    borderRadius: 5,
    alignItems: "center",
    marginTop: 6,
  },
  buttonText: {
    color: "#fff",
    fontSize: 18,
    fontWeight: "bold",
  },
  modalBackground: {
    flex: 1,
    backgroundColor: "rgba(0,0,0,0.5)",
    justifyContent: "center",
    alignItems: "center",
  },
  modalContainer: {
    width: "80%",
    backgroundColor: "#fff",
    padding: 10,
    borderRadius: 5,
    elevation: 10,
  },
  modalText: {
    fontSize: 16,
    color: "#333",
  },
});

export default MareedScreen;
